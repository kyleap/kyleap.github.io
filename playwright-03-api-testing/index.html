<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>玩玩 Playwright — API Testing 初體驗 | 凱哥打扣 | Kyle Studio</title>
<meta name=keywords content="Playwright,Testing"><meta name=description content="為什麼用 Playwright 測 API？ 雖然我們常用 Postman、curl 或 Jest 來測 API，但若你的專案已經使用 Playwright 做 E2E 測試，那麼善用同一套框架處理 API 測試，不僅可減少工具切換，還能將 UI 流程與 API 驗證整合在一起，提升測試維運的一致性。
Playwright 提供的 request 模組，讓我們可以像在用 fetch 一樣操作 HTTP 請求，非常方便。
開始寫第一個 API 測試 安裝 Playwright 如果你尚未安裝 Playwright，可以透過下列指令快速安裝：
npm init playwright@latest 選擇 TypeScript 或 JavaScript 都可以，本篇範例以 TypeScript 為例。
撰寫 API 測試 假設我們有一個簡單的 API：https://jsonplaceholder.typicode.com/posts/1
我們來撰寫一個測試，驗證它回傳的內容正確：
import { test, expect, request } from '@playwright/test'; test('GET /posts/1 should return a valid post', async () => { const apiContext = await request."><meta name=author content="Kyle"><link rel=canonical href=https://kyleap.github.io/playwright-03-api-testing/><meta name=google-site-verification content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://kyleap.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://kyleap.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://kyleap.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://kyleap.github.io/apple-touch-icon.png><link rel=mask-icon href=https://kyleap.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-DPE6YM5E5N"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-DPE6YM5E5N",{anonymize_ip:!1})}</script><meta property="og:title" content="玩玩 Playwright — API Testing 初體驗"><meta property="og:description" content="為什麼用 Playwright 測 API？ 雖然我們常用 Postman、curl 或 Jest 來測 API，但若你的專案已經使用 Playwright 做 E2E 測試，那麼善用同一套框架處理 API 測試，不僅可減少工具切換，還能將 UI 流程與 API 驗證整合在一起，提升測試維運的一致性。
Playwright 提供的 request 模組，讓我們可以像在用 fetch 一樣操作 HTTP 請求，非常方便。
開始寫第一個 API 測試 安裝 Playwright 如果你尚未安裝 Playwright，可以透過下列指令快速安裝：
npm init playwright@latest 選擇 TypeScript 或 JavaScript 都可以，本篇範例以 TypeScript 為例。
撰寫 API 測試 假設我們有一個簡單的 API：https://jsonplaceholder.typicode.com/posts/1
我們來撰寫一個測試，驗證它回傳的內容正確：
import { test, expect, request } from '@playwright/test'; test('GET /posts/1 should return a valid post', async () => { const apiContext = await request."><meta property="og:type" content="article"><meta property="og:url" content="https://kyleap.github.io/playwright-03-api-testing/"><meta property="og:image" content="https://user-images.githubusercontent.com/8849818/227669578-aace96bd-bfb3-4cd5-9e52-52d8742ed597.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-09-24T10:52:01+00:00"><meta property="article:modified_time" content="2024-09-24T10:52:01+00:00"><meta property="og:site_name" content="凱哥打扣 | Kyle Studio"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://user-images.githubusercontent.com/8849818/227669578-aace96bd-bfb3-4cd5-9e52-52d8742ed597.jpg"><meta name=twitter:title content="玩玩 Playwright — API Testing 初體驗"><meta name=twitter:description content="為什麼用 Playwright 測 API？ 雖然我們常用 Postman、curl 或 Jest 來測 API，但若你的專案已經使用 Playwright 做 E2E 測試，那麼善用同一套框架處理 API 測試，不僅可減少工具切換，還能將 UI 流程與 API 驗證整合在一起，提升測試維運的一致性。
Playwright 提供的 request 模組，讓我們可以像在用 fetch 一樣操作 HTTP 請求，非常方便。
開始寫第一個 API 測試 安裝 Playwright 如果你尚未安裝 Playwright，可以透過下列指令快速安裝：
npm init playwright@latest 選擇 TypeScript 或 JavaScript 都可以，本篇範例以 TypeScript 為例。
撰寫 API 測試 假設我們有一個簡單的 API：https://jsonplaceholder.typicode.com/posts/1
我們來撰寫一個測試，驗證它回傳的內容正確：
import { test, expect, request } from '@playwright/test'; test('GET /posts/1 should return a valid post', async () => { const apiContext = await request."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://kyleap.github.io/posts/"},{"@type":"ListItem","position":2,"name":"玩玩 Playwright — API Testing 初體驗","item":"https://kyleap.github.io/playwright-03-api-testing/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"玩玩 Playwright — API Testing 初體驗","name":"玩玩 Playwright — API Testing 初體驗","description":"為什麼用 Playwright 測 API？ 雖然我們常用 Postman、curl 或 Jest 來測 API，但若你的專案已經使用 Playwright 做 E2E 測試，那麼善用同一套框架處理 API 測試，不僅可減少工具切換，還能將 UI 流程與 API 驗證整合在一起，提升測試維運的一致性。\nPlaywright 提供的 request 模組，讓我們可以像在用 fetch 一樣操作 HTTP 請求，非常方便。\n開始寫第一個 API 測試 安裝 Playwright 如果你尚未安裝 Playwright，可以透過下列指令快速安裝：\nnpm init playwright@latest 選擇 TypeScript 或 JavaScript 都可以，本篇範例以 TypeScript 為例。\n撰寫 API 測試 假設我們有一個簡單的 API：https://jsonplaceholder.typicode.com/posts/1\n我們來撰寫一個測試，驗證它回傳的內容正確：\nimport { test, expect, request } from \u0026#39;@playwright/test\u0026#39;; test(\u0026#39;GET /posts/1 should return a valid post\u0026#39;, async () =\u0026gt; { const apiContext = await request.","keywords":["Playwright","Testing"],"articleBody":"為什麼用 Playwright 測 API？ 雖然我們常用 Postman、curl 或 Jest 來測 API，但若你的專案已經使用 Playwright 做 E2E 測試，那麼善用同一套框架處理 API 測試，不僅可減少工具切換，還能將 UI 流程與 API 驗證整合在一起，提升測試維運的一致性。\nPlaywright 提供的 request 模組，讓我們可以像在用 fetch 一樣操作 HTTP 請求，非常方便。\n開始寫第一個 API 測試 安裝 Playwright 如果你尚未安裝 Playwright，可以透過下列指令快速安裝：\nnpm init playwright@latest 選擇 TypeScript 或 JavaScript 都可以，本篇範例以 TypeScript 為例。\n撰寫 API 測試 假設我們有一個簡單的 API：https://jsonplaceholder.typicode.com/posts/1\n我們來撰寫一個測試，驗證它回傳的內容正確：\nimport { test, expect, request } from '@playwright/test'; test('GET /posts/1 should return a valid post', async () =\u003e { const apiContext = await request.newContext(); const response = await apiContext.get('https://jsonplaceholder.typicode.com/posts/1'); expect(response.ok()).toBeTruthy(); expect(response.status()).toBe(200); const body = await response.json(); expect(body).toHaveProperty('id', 1); expect(body).toHaveProperty('userId'); expect(body).toHaveProperty('title'); }); 這段測試會：\n建立一個新的 API context（不會受到 UI session 影響） 發送 GET 請求 驗證 HTTP 狀態碼與回傳資料欄位 常見應用場景 你可以用 Playwright 來做以下這些 API 測試場景：\n使用者登入流程（POST login，取 token，存到測試 session） CRUD 測試（創建、讀取、更新、刪除資源） 驗證後端錯誤處理（如 400, 401, 500 的回傳） 測試前後端串接是否正確（UI 操作後檢查對應 API 結果） 這也意味著，我們可以混合使用 Playwright 的 UI 操作 + API 驗證，打造更全面的 E2E 測試！\n","wordCount":"136","inLanguage":"en","datePublished":"2024-09-24T10:52:01Z","dateModified":"2024-09-24T10:52:01Z","author":[{"@type":"Person","name":"Kyle"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://kyleap.github.io/playwright-03-api-testing/"},"publisher":{"@type":"Organization","name":"凱哥打扣 | Kyle Studio","logo":{"@type":"ImageObject","url":"https://kyleap.github.io/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://kyleap.github.io/ accesskey=h title="凱哥打扣 (Alt + H)">凱哥打扣</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://kyleap.github.io/kyleshen/ title=about><span>about</span></a></li><li><a href=https://kyleap.github.io/archives/ title=archives><span>archives</span></a></li><li><a href=https://kyleap.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://kyleap.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://kyleap.github.io/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://kyleap.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://kyleap.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">玩玩 Playwright — API Testing 初體驗</h1><div class=post-meta><span title='2024-09-24 10:52:01 +0000 UTC'>2024-09-24</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Kyle</div></header><div class=post-content><h2 id=為什麼用-playwright-測-api>為什麼用 Playwright 測 API？<a hidden class=anchor aria-hidden=true href=#為什麼用-playwright-測-api>#</a></h2><p>雖然我們常用 Postman、curl 或 Jest 來測 API，但若你的專案已經使用 Playwright 做 E2E 測試，那麼善用同一套框架處理 API 測試，不僅可減少工具切換，還能將 UI 流程與 API 驗證整合在一起，提升測試維運的一致性。</p><p>Playwright 提供的 <code>request</code> 模組，讓我們可以像在用 <code>fetch</code> 一樣操作 HTTP 請求，非常方便。</p><hr><h2 id=開始寫第一個-api-測試>開始寫第一個 API 測試<a hidden class=anchor aria-hidden=true href=#開始寫第一個-api-測試>#</a></h2><h3 id=安裝-playwright>安裝 Playwright<a hidden class=anchor aria-hidden=true href=#安裝-playwright>#</a></h3><p>如果你尚未安裝 Playwright，可以透過下列指令快速安裝：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npm init playwright@latest
</span></span></code></pre></div><p>選擇 TypeScript 或 JavaScript 都可以，本篇範例以 TypeScript 為例。</p><hr><h3 id=撰寫-api-測試>撰寫 API 測試<a hidden class=anchor aria-hidden=true href=#撰寫-api-測試>#</a></h3><p>假設我們有一個簡單的 API：<code>https://jsonplaceholder.typicode.com/posts/1</code></p><p>我們來撰寫一個測試，驗證它回傳的內容正確：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>test</span>, <span style=color:#a6e22e>expect</span>, <span style=color:#a6e22e>request</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;@playwright/test&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>test</span>(<span style=color:#e6db74>&#39;GET /posts/1 should return a valid post&#39;</span>, <span style=color:#66d9ef>async</span> () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>apiContext</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>request</span>.<span style=color:#a6e22e>newContext</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>response</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>apiContext</span>.<span style=color:#66d9ef>get</span>(<span style=color:#e6db74>&#39;https://jsonplaceholder.typicode.com/posts/1&#39;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>ok</span>()).<span style=color:#a6e22e>toBeTruthy</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>status</span>()).<span style=color:#a6e22e>toBe</span>(<span style=color:#ae81ff>200</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>body</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>body</span>).<span style=color:#a6e22e>toHaveProperty</span>(<span style=color:#e6db74>&#39;id&#39;</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>body</span>).<span style=color:#a6e22e>toHaveProperty</span>(<span style=color:#e6db74>&#39;userId&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>body</span>).<span style=color:#a6e22e>toHaveProperty</span>(<span style=color:#e6db74>&#39;title&#39;</span>);
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><p>這段測試會：</p><ul><li>建立一個新的 API context（不會受到 UI session 影響）</li><li>發送 GET 請求</li><li>驗證 HTTP 狀態碼與回傳資料欄位</li></ul><hr><h2 id=常見應用場景>常見應用場景<a hidden class=anchor aria-hidden=true href=#常見應用場景>#</a></h2><p>你可以用 Playwright 來做以下這些 API 測試場景：</p><ul><li>使用者登入流程（POST login，取 token，存到測試 session）</li><li>CRUD 測試（創建、讀取、更新、刪除資源）</li><li>驗證後端錯誤處理（如 400, 401, 500 的回傳）</li><li>測試前後端串接是否正確（UI 操作後檢查對應 API 結果）</li></ul><p>這也意味著，我們可以混合使用 Playwright 的 UI 操作 + API 驗證，打造更全面的 E2E 測試！</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://kyleap.github.io/tags/playwright/>Playwright</a></li><li><a href=https://kyleap.github.io/tags/testing/>Testing</a></li></ul><nav class=paginav><a class=prev href=https://kyleap.github.io/playwright-04-data-driven-testing/><span class=title>« Prev</span><br><span>玩玩 Playwright — 測試案例來自資料集</span>
</a><a class=next href=https://kyleap.github.io/playwright-02-azure-devops-ci/><span class=title>Next »</span><br><span>玩玩 Playwright - 整合 Azure DevOps CI</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://kyleap.github.io/>凱哥打扣 | Kyle Studio</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>