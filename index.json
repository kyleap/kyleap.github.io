[{"content":"åœ¨ä¸€æ¢é¾çš„ Azure DevOps å¹³å°ï¼Œç•¶ç„¶ä¹Ÿå­˜åœ¨ KM åŠŸèƒ½ï¼Œ é€é Azure Wiki èˆ‡ Workitem çµåˆï¼Œæ’°å¯«å…¨è²Œçš„æ–‡ä»¶ï¼Œèƒ½å”åŠ©åœ˜éšŠæ›´æœ‰æ•ˆåœ°é€²è¡Œé–‹ç™¼èˆ‡å”ä½œï¼Œå…¶ä¸­Wiki æ”¯æ´ Mermaid èªæ³•ä¾†ç¹ªè£½åœ–è¡¨ï¼Œæœ¬ç¯‡ä»¥åœ“é¤…åœ–ä½œç‚ºç¤ºç¯„\né€é ::: mermaid èˆ‡ ::: è£¡é¢æ”¾ç½® mermaid èªæ³•ï¼Œå³å¯å‘ˆç¾åœ–è¡¨\n::: mermaid pie title å¹´åº¦éŠ·å”®é‡ \u0026quot;Q1\u0026quot; : 2000 \u0026quot;Q2\u0026quot; : 1500 \u0026quot;Q3\u0026quot; : 3500 \u0026quot;Q4\u0026quot; : 4000 ::: æœƒç”¢ç”Ÿä»¥ä¸‹çµæœ\nä¹Ÿå¯ä»¥åŠ å…¥ pie showData è®“ Label å‘ˆç¾æ•¸å€¼\n ä¹Ÿæ”¯æ´å°æ•¸é»æ•¸å€¼\n åªå¯æƒœç›®å‰åœ¨ Azure wiki ç„¡æ³•é‡å°æ¨£å¼å»åšè¨­å®šï¼Œä½†æœƒè·Ÿè‘—ä½¿ç”¨è€…çš„ theme é€²è¡Œé©ç•¶çš„é…è‰²\nReference\n https://learn.microsoft.com/zh-tw/azure/devops/project/wiki/wiki-markdown-guidance?view=azure-devops https://mermaid.js.org/syntax/pie.html  ","permalink":"https://kyleap.github.io/azure-wiki-pie-chart/","summary":"åœ¨ä¸€æ¢é¾çš„ Azure DevOps å¹³å°ï¼Œç•¶ç„¶ä¹Ÿå­˜åœ¨ KM åŠŸèƒ½ï¼Œ é€é Azure Wiki èˆ‡ Workitem çµåˆï¼Œæ’°å¯«å…¨è²Œçš„æ–‡ä»¶ï¼Œèƒ½å”åŠ©åœ˜éšŠæ›´æœ‰æ•ˆåœ°é€²è¡Œé–‹ç™¼èˆ‡å”ä½œï¼Œå…¶ä¸­Wiki æ”¯æ´ Mermaid èªæ³•ä¾†ç¹ªè£½åœ–è¡¨ï¼Œæœ¬ç¯‡ä»¥åœ“é¤…åœ–ä½œç‚ºç¤ºç¯„\né€é ::: mermaid èˆ‡ ::: è£¡é¢æ”¾ç½® mermaid èªæ³•ï¼Œå³å¯å‘ˆç¾åœ–è¡¨\n::: mermaid pie title å¹´åº¦éŠ·å”®é‡ \u0026quot;Q1\u0026quot; : 2000 \u0026quot;Q2\u0026quot; : 1500 \u0026quot;Q3\u0026quot; : 3500 \u0026quot;Q4\u0026quot; : 4000 ::: æœƒç”¢ç”Ÿä»¥ä¸‹çµæœ\nä¹Ÿå¯ä»¥åŠ å…¥ pie showData è®“ Label å‘ˆç¾æ•¸å€¼\n ä¹Ÿæ”¯æ´å°æ•¸é»æ•¸å€¼\n åªå¯æƒœç›®å‰åœ¨ Azure wiki ç„¡æ³•é‡å°æ¨£å¼å»åšè¨­å®šï¼Œä½†æœƒè·Ÿè‘—ä½¿ç”¨è€…çš„ theme é€²è¡Œé©ç•¶çš„é…è‰²\nReference\n https://learn.microsoft.com/zh-tw/azure/devops/project/wiki/wiki-markdown-guidance?view=azure-devops https://mermaid.js.org/syntax/pie.html  ","title":"ç”¨ Mermaid åœ¨ Azure wiki ç¹ªè£½åœ–è¡¨ - åœ“é¤…åœ–"},{"content":"Scrum 353 Scrum Inc.å‰µè¾¦äºº Jeff Sutherland åœ¨ä»–çš„æ›¸ã€ŠScrum: The Art of Doing Twice the Work in Half the Timeã€‹ä¸­æå‡ºçš„æ¦‚å¿µï¼Œå®ƒæ˜¯ Scrum æ¡†æ¶çš„ä¸€ç¨®æ“´å±•ï¼Œæ—¨åœ¨å¹«åŠ©åœ˜éšŠæ›´å¥½åœ°æ‡‰å°è¤‡é›œæ€§å’Œä¸ç¢ºå®šæ€§ã€‚\nè£¡é¢æåˆ°æœ‰å€‹å£è¨£ Scrum 353 çš„ï¼Œå®ƒçš„æ ¸å¿ƒæ¦‚å¿µæ˜¯ \u0026ldquo;ä¸‰å€‹è§’è‰²ã€äº”å€‹äº‹ä»¶ã€ä¸‰å€‹äº¤ä»˜ç‰©\u0026rdquo;ï¼Œå…¶ä¸­ï¼š\n ä¸‰å€‹è§’è‰²ï¼šç”¢å“è² è²¬äººã€é–‹ç™¼åœ˜éšŠã€Scrum Master äº”å€‹äº‹ä»¶ï¼šSprintã€Sprint Planningã€Daily Scrumã€Sprint Reviewã€Sprint Retrospective ä¸‰å€‹å·¥ä»¶ï¼šç”¢å“å¾…è¾¦æ¸…å–®ã€Sprintå¾…è¾¦æ¸…å–®ã€å¢é‡  åœ¨è·‘ Scrum ä¸€ç›´ä»¥ä¾†æˆ‘éƒ½æ˜¯ç”¨ Azure DevOps ä¾†å®Œæˆæ•´å€‹æµç¨‹ï¼Œä½†å°±åƒ JIRA ä¸€æ¨£ï¼Œè£äº†ä¸€äº›å¤–æ›å¾Œæœƒè®“æ•´å€‹é‹ä½œæ›´é †ï¼Œæ­¤ç¯‡æ–‡ç« æ•´ç†æˆ‘åœ¨å¯¦å‹™ä¸Šæ¨è–¦å¿…è£çš„å¤–æ›\n æ­¤æ–‡ç« æœƒä¸å®šæœŸæ›´æ–°\n åƒ¹å€¼æ’åº WSJF (Weighted Shortest Job First\nbacklogsé–‹å§‹è·Ÿå¤§æµ·ä¸€æ¨£ï¼Œéœ€è¦çš„æ˜¯æ›´å¤šå› ç´ çš„è©•ä¼°ï¼ŒWSJFæ˜¯ä¸€å€‹è€ƒé‡ PMF åŠé–‹ç™¼æˆæœ¬çš„è©•ä¼°æ–¹å¼ï¼Œæ­¤å¤–æ›å¯ä»¥è‡ªå‹•è¨ˆç®—å‡ºåˆ†æ•¸\nTags Manager\nTag ç¶­è­·çš„å¥½ï¼Œå¯ä»¥ç”¨ Query ç”¢ç”Ÿå‡ºæ›´å¤šçš„å ±è¡¨ï¼Œæ­¤å¤–æ›å¯ä»¥ç”¨ä¾†ç¶­è­·å·²å»ºç«‹çš„ Tag\nMultivalue control\nå¦‚æœæƒ³å€åˆ¥å–®å­çš„Compomentï¼Œé™¤äº† Tag å¤–ï¼Œä¹Ÿå¯ä»¥ç¨ç«‹ç”¨é€™ç¨®æ–¹å¼é€²è¡Œåˆ†é¡\nSpecMap aka User Story Mapping\nå¦‚æœæƒ³è·Ÿåœ˜éšŠè·‘ User Story Mapping è…¦åŠ›æ¿€ç›ªè·‘å‡ºç”¢å“æ–¹å‘ï¼Œé€™å°±æ˜¯åœ¨ Azure DevOps å¯¦è¸çš„æ–¹å¼\nRefine \u0026amp; Planning Personas\nPO å°æ–¼å°ˆæ¡ˆçš„ TA é€²è¡Œ Persona æè¿°è®“åœ˜éšŠç†è§£ç‚ºå“ªä¸€é¡å‹ä½¿ç”¨è€…\nEstimate\nPlanning é‡å°å–®ä¸€ Story é€²è¡Œè¤‡é›œåº¦ä¼°ç®—ï¼Œé€™æ˜¯ä¸€å€‹å³æ™‚çš„ Story poker å·¥å…·\nSplit!\nç•¶ Sprint æœ‰éºç•™å–®å­æ™‚ï¼Œå¯ä»¥é€éé€™å€‹å·¥å…·å¿«é€Ÿå°‡éºç•™çš„æ‹†è§£åˆ°æ–°çš„ Sprint\nSprint Goal\nåœ¨ Azure Board é¡¯ç¤ºç•¶å‰ Sprint ç›®æ¨™\nDaily Board Group\nåœ¨ Backlogs æª¢è¦–ä¸‹ï¼Œå¯ä»¥ç”¨é€™ç¨®æ–¹å¼ç§»å‹• Board View çš„æ¸ é“\nSprint Drop Plan\nä»¥æ©«è»¸æ–¹å¼ç€è¦½ç•¶å‰ Sprint å–®å­ç‹€æ³\nReview \u0026amp; Retro Retrospectives\né€é Collect -\u0026gt; Group -\u0026gt; Vote -\u0026gt; Actions æ–¹å‘é€²è¡Œå›é¡§æœƒè­°\n","permalink":"https://kyleap.github.io/azure-board-extensions/","summary":"Scrum 353 Scrum Inc.å‰µè¾¦äºº Jeff Sutherland åœ¨ä»–çš„æ›¸ã€ŠScrum: The Art of Doing Twice the Work in Half the Timeã€‹ä¸­æå‡ºçš„æ¦‚å¿µï¼Œå®ƒæ˜¯ Scrum æ¡†æ¶çš„ä¸€ç¨®æ“´å±•ï¼Œæ—¨åœ¨å¹«åŠ©åœ˜éšŠæ›´å¥½åœ°æ‡‰å°è¤‡é›œæ€§å’Œä¸ç¢ºå®šæ€§ã€‚\nè£¡é¢æåˆ°æœ‰å€‹å£è¨£ Scrum 353 çš„ï¼Œå®ƒçš„æ ¸å¿ƒæ¦‚å¿µæ˜¯ \u0026ldquo;ä¸‰å€‹è§’è‰²ã€äº”å€‹äº‹ä»¶ã€ä¸‰å€‹äº¤ä»˜ç‰©\u0026rdquo;ï¼Œå…¶ä¸­ï¼š\n ä¸‰å€‹è§’è‰²ï¼šç”¢å“è² è²¬äººã€é–‹ç™¼åœ˜éšŠã€Scrum Master äº”å€‹äº‹ä»¶ï¼šSprintã€Sprint Planningã€Daily Scrumã€Sprint Reviewã€Sprint Retrospective ä¸‰å€‹å·¥ä»¶ï¼šç”¢å“å¾…è¾¦æ¸…å–®ã€Sprintå¾…è¾¦æ¸…å–®ã€å¢é‡  åœ¨è·‘ Scrum ä¸€ç›´ä»¥ä¾†æˆ‘éƒ½æ˜¯ç”¨ Azure DevOps ä¾†å®Œæˆæ•´å€‹æµç¨‹ï¼Œä½†å°±åƒ JIRA ä¸€æ¨£ï¼Œè£äº†ä¸€äº›å¤–æ›å¾Œæœƒè®“æ•´å€‹é‹ä½œæ›´é †ï¼Œæ­¤ç¯‡æ–‡ç« æ•´ç†æˆ‘åœ¨å¯¦å‹™ä¸Šæ¨è–¦å¿…è£çš„å¤–æ›\n æ­¤æ–‡ç« æœƒä¸å®šæœŸæ›´æ–°\n åƒ¹å€¼æ’åº WSJF (Weighted Shortest Job First\nbacklogsé–‹å§‹è·Ÿå¤§æµ·ä¸€æ¨£ï¼Œéœ€è¦çš„æ˜¯æ›´å¤šå› ç´ çš„è©•ä¼°ï¼ŒWSJFæ˜¯ä¸€å€‹è€ƒé‡ PMF åŠé–‹ç™¼æˆæœ¬çš„è©•ä¼°æ–¹å¼ï¼Œæ­¤å¤–æ›å¯ä»¥è‡ªå‹•è¨ˆç®—å‡ºåˆ†æ•¸\nTags Manager\nTag ç¶­è­·çš„å¥½ï¼Œå¯ä»¥ç”¨ Query ç”¢ç”Ÿå‡ºæ›´å¤šçš„å ±è¡¨ï¼Œæ­¤å¤–æ›å¯ä»¥ç”¨ä¾†ç¶­è­·å·²å»ºç«‹çš„ Tag\nMultivalue control\nå¦‚æœæƒ³å€åˆ¥å–®å­çš„Compomentï¼Œé™¤äº† Tag å¤–ï¼Œä¹Ÿå¯ä»¥ç¨ç«‹ç”¨é€™ç¨®æ–¹å¼é€²è¡Œåˆ†é¡\nSpecMap aka User Story Mapping","title":"ä»¥ Scrum æµç¨‹ä¾†çœ‹ Azure Boards æœ‰å“ªäº›å¿…è£çš„ Extensions å¤–æ›"},{"content":"å‰è¨€ åœ¨ Scrum çš„é–‹ç™¼éç¨‹ä¸­ï¼Œç¶­è­·å¥½ Work Items æ˜¯éå¸¸é‡è¦çš„ä¸€å€‹æ­¥é©Ÿã€‚é€™äº› Work Items æœƒåœ¨Planning Meeting æˆ–è€…æ˜¯ Refine Meeting è¢«æ‹¿å‡ºä¾†è¨è«–ï¼Œå¦‚æœå…§å®¹å®šç¾©ä¸æ¸…ï¼Œæœƒå°è‡´è¨è«–æœƒè­°çš„æµªè²»ï¼Œç‚ºäº†ç¢ºä¿åœ˜éšŠåœ¨å»ºç«‹å·¥ä½œé …ç›®æ™‚æœ‰ä¸€è‡´çš„èªè­˜å’Œç†è§£ï¼Œä»¥åŠåœ¨å›é¡§éç¨‹ä¸­èƒ½å¤ æ›´æ¸…æ¥šåœ°äº†è§£å·¥ä½œé …ç›®çš„ç·£ç”±ï¼Œæ­¤ç¯‡æ–‡ç« å°‡ä»‹ç´¹æˆ‘åœ¨ Epic/Feature/User Story/Task æœƒå¯«çš„é …ç›®ï¼Œä»¥å¯¦éš›æ¡ˆä¾‹ä¾†åˆ†äº«ï¼Œä¸¦ç°¡å–®ä»‹ç´¹å¦‚ä½•åœ¨ Azure Board è£¡é¢è®Šæˆç¯„æœ¬ç›´æ¥è®“åœ˜éšŠå¥—ç”¨\nå…ˆä¾†èŠä¸€ä¸‹ Workitem å±¤ç´š åœ¨ Azure Devops é è¨­å°±æœ‰å››ç¨® Process å¯ä»¥é¸ï¼Œä»¥ç›®å‰ Agile ç‚ºå¤§å®—çš„é–‹ç™¼æ¨¡å¼ï¼Œå¤šåŠæœƒé¸æ“‡ Scurm/Agileï¼Œä½†é€™å…©è€…åŸºæœ¬ä¸Šå¤§åŒå°ç•°ï¼Œå¦‚æœè¦æˆ‘ä¸€å¥è©±è§£è®€é€™äº› Item ä»£è¡¨çš„å®šç¾©ï¼Œæˆ‘æœƒé€™æ¨£è§£é‡‹:\n Epic: é«˜å±¤è€é—†çœ‹çš„, é€šå¸¸æ˜¯å…¬å¸çš„é«˜å¤§å°šç›®æ¨™, æ™‚é–“é•·åº¦ä¸è¶…é1å¹´ Feature: PMæˆ–ä¸»ç®¡çœ‹çš„, æŠŠé«˜å¤§å°šæ”¶æ–‚å¾Œçš„å…·é«”ç­–ç•¥, æ™‚é–“é•·åº¦ä»¥å­£ç‚ºå–®ä½ User Story: PM/å·¥ç¨‹å¸«çœ‹çš„, é”æˆç­–ç•¥çš„æ‰‹æ®µ, æ™‚é–“ä»¥1å€‹sprintå¯äº¤ä»˜ç‚ºå–®ä½ Task: å·¥ç¨‹å¸«çœ‹çš„, é”æˆæ‰‹æ®µéœ€è¦æ‹†å¯«çš„å¯¦ä½œ, æ™‚é–“ä»¥1-2å¤©ç‚ºå–®ä½  è‡³æ–¼é€™äº› Workitem è©²å¯«ä»€éº¼? ä»¥ä¸‹ç« ç¯€ä¾†ç´°éƒ¨èªªæ˜\n æˆ‘èªç‚º Azure Devops è¨­è¨ˆç·£ç”±å¯é©ç”¨æ–¼å¤§å‹çµ„ç¹”ï¼Œä½†å°å…¥éœ€è¦é€æ­¥ï¼Œä¹Ÿè¨±å°åœ˜éšŠå¯ç”¨ User Story+Taskå°±å¯è¶³å¤ äº†ï¼Œå¤ªæ—©ä¸€æ­¥åˆ°ä½åè€Œæœƒå°è‡´äº¤ä»˜æ··äº‚\n Epic Epic å°æˆ‘ä¾†è¬›å®ƒä»£è¡¨äº†ä¸€å€‹å¤§å‹çš„ã€è·¨éƒ¨é–€çš„ç”¢å“ç›®æ¨™ï¼Œé€™å€‹ç›®æ¨™é‚„æ²’æœ‰è©³ç´°çš„ç­–ç•¥ï¼Œä¹Ÿå¯ä»¥æŠŠå®ƒå®šç¾©æˆæ˜¯è€é—†çš„æœŸæœ›ï¼Œä¹Ÿå¯ä»¥æ˜¯ OKR ä¸Šå±¤çš„æŒ‡æ¨™ï¼Œä»¥ Product Owner è§’åº¦è€Œè¨€ï¼Œæˆ‘æœƒæ€è€ƒå¦‚ä½•å‚³é”è€é—†çš„æƒ³æ³•ï¼Œä¸¦æŠŠå®ƒæ”¶æ–‚æˆå¯é‡åŒ–çš„ç›®æ¨™ç¯„åœï¼Œé€™æœƒæ˜¯ä¸€å€‹åŠå¹´ä¸è¶…éä¸€å¹´çš„æ™‚é–“é•·åº¦ï¼Œä¸¦éœ€è¦æœ‰é”æˆçš„æŒ‡æ¨™ï¼Œåœ¨æ¨™é¡Œä¸Šæ˜ç¢ºè¡¨é”(e.g. æå‡ç”¢å“ä½¿ç”¨è€…æ»¿æ„åº¦ \u0026gt; 5%)ï¼Œå…§å®¹ä»¥æè¿°é€™å€‹éœ€æ±‚çš„èƒŒæ™¯æ˜¯ä»€éº¼ï¼Œç¶“è€é—†èˆ‡å®¢æˆ¶çš„åŸè©±ï¼Œæœ‰æ¢ç†åœ°é—¡è¿°æ¸…æ¥šï¼Œä»¥ Azure DevOps Roadmap ä¾†çœ‹ï¼ŒUpdated Boards experience é€™å€‹å±¤ç´šçš„å¯«æ³•å°±å¾ˆé©åˆç•¶ Epicï¼Œå±¬æ–¼æ¯”è¼ƒå¤§æ–¹å‘çš„æè¿°\nFeature Feature æœƒæ˜¯è¦é”æˆ Epic æ‰€éœ€è¦çš„ç­–ç•¥ï¼Œå¦‚æœæœ‰ UX Team é…åˆçš„è©±ï¼Œé€šå¸¸æœƒæ˜¯ Design Thinking å¾Œçš„çµæœï¼Œæˆ–è€…ä¹Ÿå¯ä»¥ä»¥å‘ˆç¾ Roadmap çš„è§’åº¦ä¸‹å»æ€è€ƒï¼Œè®“åœ˜éšŠæ›´å¥½åœ°äº†è§£ç•¶å‰å°ˆæ³¨çš„ç›®æ¨™èˆ‡çš„é–‹ç™¼é€²åº¦ï¼Œç‰¹åˆ¥æ³¨æ„ Feature æ™‚é–“é•·åº¦ä¸æ‡‰è©²è¶…éä¸€å­£ï¼Œå¦‚æœè¶…éä»£è¡¨é€™å€‹ç­–ç•¥é‚„éœ€è¦å†æ”¶æ–‚ã€‚Feature çš„å…§å®¹æœƒæœ‰é»é¡ä¼¼ç”¢å“ç¶“ç†æ‰€æ’°å¯«çš„ PRD æ–‡ä»¶ï¼Œæˆ‘é€šå¸¸æœƒä¾æ“šä»¥ä¸‹å…§å®¹å»åšæ’°å¯«\n å•é¡Œæ•˜è¿°: ç·£ç”±èˆ‡èƒŒæ™¯ï¼Œæ¸…æ¥šæè¿° Why? ç”¢å“å‡èªª: éœ€æ±‚çš„å‡è¨­ï¼Œæä¾›ä»€éº¼åƒ¹å€¼ï¼Œèƒ½è§£æ±ºæ­¤å•é¡Œ How?   å‡èªªå¯ä»¥ç”¨é€™ç¨®ç¯„æœ¬æ’°å¯« We believe that {function} For {somebody} , Will achieve {outcome}\n ç”¢å“ç¯„ç–‡: é€™é‚Šé€šå¸¸æœƒå®šç¾©æœ€æ ¸å¿ƒçš„ scope, ä¹Ÿå¯ä»¥æè¿°å“ªäº›æœ¬æ¬¡phaseå…ˆä¸è€ƒæ…® æˆåŠŸæŒ‡æ¨™: å¥½çš„éœ€æ±‚é€šå¸¸è¦èƒ½æ¸¬é‡å‡èªªï¼Œæ“¬å®šé ˜å…ˆæŒ‡æ¨™(lead metrics)å¯ä»¥åœ¨é–‹ç™¼å®Œæˆå¾Œåšå‰å¾Œæ¯”è¼ƒ æœªçŸ¥é¢¨éšª: å¯ä»¥å¤šç•™ä¸€é»åˆæ­¥æƒ³åˆ°çš„å•é¡Œï¼Œåœ¨ Planning meeting æ¿€ç™¼è¨è«–  User Story åœ¨ Feature å±¤ç´šæ¸…æ¥šç­–ç•¥å¾Œï¼Œæ‡‰è©²èƒ½å†ç´°æ‹†è¦é”æˆé€™å€‹ç­–ç•¥æ‰€éœ€è¦åšçš„äº‹æƒ…ï¼Œä¸¦ä¸”ä»¥ä½¿ç”¨è€…è§’åº¦è®“å·¥ç¨‹å¸«ç†è§£ä½¿ç”¨è€…æƒ³è¦é”æˆçš„åŠŸèƒ½ã€‚å¥½çš„ Story æˆ‘è¦ºå¾—æ¨™é¡Œå¯«æ¸…æ¥šå°±å¤ äº†ï¼Œå…§å®¹è£œå……é€™å¼µçš„é‡é»ä¸¦é€£çµåˆ° Feautre æˆ– PRD (çœ‹å…¨è²Œçš„è¦æ ¼)\n As a {somebody}, I want to {do something}, so that {some business value}\n ä¸€å€‹å¥½çš„ User Story æ‡‰è©²è¦æ³¨æ„ä¸èƒ½æœ‰ç›¸ä¾æ€§ï¼Œå¯ä»¥ç¨ç«‹äº¤ä»˜ï¼Œå¿…ä¸”æ’°å¯«å‡ºä¾†è¦å¾ˆæ˜ç¢ºç”šè‡³æ˜¯èƒ½è®“äººå¿«é€Ÿæœ‰é››å‹ç•«é¢çš„ï¼Œå› ç‚ºé€™äº› Story éƒ½æ˜¯ç‚ºäº†åœ¨ Planning Meeting é–‹å•Ÿå°è©±ï¼Œæœ€é‡è¦çš„ä¸€é»æ˜¯è¦èƒ½ä¼°ç®—ï¼Œæ‰€ä»¥ Acceptance criteria (AC) å°±è®Šæˆæ˜¯å¾ˆé‡è¦çš„ä¸€ä»¶äº‹ï¼Œé€šå¸¸ AC å»ºè­°æœƒç”¨Given/When/Thenæ’°å¯«ï¼Œå¦‚æœæœ‰ QA Team çš„è©±ä¹Ÿèƒ½å¾é€™äº› AC å»é•·å‡ºæ›´å¤šçš„æ¸¬è©¦æ¡ˆä¾‹ï¼Œä»¥ Swimlane rules é€™å€‹æ”¹ç‰ˆåŠŸèƒ½ç‚ºä¾‹ï¼Œä¹Ÿæ˜¯å¸¶äº† User Story çš„å¯«æ³•\nTask å·¥ç¨‹å¸«å…·é«”è¦æ€éº¼åˆ†å·¥ï¼Œå‰å¾Œç«¯æ€éº¼å¯¦ä½œï¼ŒDBAè¦æº–å‚™ä»€éº¼æ‰èƒ½é”æˆ Story ç›®æ¨™ï¼Œé€™å€‹å±¤ç´šæˆ‘æœƒæ”¾åœ¨ Taskï¼Œæ’°å¯«å…§å®¹ä¸æœƒå¤ªåœ¨æ„ï¼Œæ¨™é¡Œä¹Ÿåªè¦èƒ½å€åˆ¥ç›®çš„å³å¯ï¼Œä½†é€™é‚Šé€šå¸¸æœƒæœ‰å¹¾å€‹è¦ç¯„ï¼Œç¬¬ä¸€å€‹æ˜¯æ™‚é–“é•·åº¦è«‹æ‹†è§£åˆ° 1-2 å¤©å¯äº¤ä»˜çš„å–®ä½å¤§å°ï¼Œè®“ Sprint éç¨‹èƒ½åæ˜ åˆ° Story çš„å®Œæˆåº¦ï¼Œå¦å¤– Code Review, ç™¼ Pull Request æ™‚å€™å¯ä»¥ç¶ Workitem åˆ° Taskï¼Œè®“ commit çš„ code èƒ½å°æ‡‰åˆ°åŸå§‹éœ€æ±‚ã€‚\nTask æ‹†çš„ç´°ï¼Œè¶Šèƒ½æŒæ¡ç›®å‰ Sprint çš„å¥åº·æŒ‡æ•¸ï¼Œå› ç‚ºéƒ½å¯ä»¥å›æ¨åˆ° Story/Feautre çš„å®Œæˆåº¦\nå¦‚ä½•å»ºç«‹ workitem template ç•¶å–®å­éƒ½å®šç¾©å¥½ï¼Œä¸”åœ˜éšŠéƒ½æœ‰å…±è­˜å¾Œï¼Œåœ¨ Azure Board ä¸­å¯ä»¥å°‡é€™äº›è¦å¯«çš„é …ç›®è®Šæˆç¯„æœ¬\nä¸”å¯ä»¥å°‡å®ƒè®Šæˆæ˜¯ä¸€å€‹ URLï¼Œæ¯æ¬¡é–‹å–®æ™‚å€™å¯é»æ“Šé€™å€‹ç¶²å€é€²è¡Œå¥—å…¥\nå¦‚æœè¦ç¶­è­· template å¯ä»¥åˆ° Project Settings -\u0026gt; Boards -\u0026gt; Team configuration å»ç®¡ç†\n ä»¥ä¸Šæ˜¯é‡å° Workitem è‡ªå·±çš„ä¸€äº›ç¶“é©—èˆ‡æƒ³æ³•ï¼Œç•¶ç„¶è¦å¯«ä»€éº¼ï¼Œè¦æ‹†ä»€éº¼å–®å­ï¼Œé‚„æ˜¯å›åˆ°å„åœ˜éšŠè‡ªå·±å®šç¾©å‡ºä¾†\n Reference\n https://learn.microsoft.com/en-us/azure/devops/boards/backlogs/work-item-template?view=azure-devops\u0026amp;tabs=browser  ","permalink":"https://kyleap.github.io/azure-board-workitem-template/","summary":"å‰è¨€ åœ¨ Scrum çš„é–‹ç™¼éç¨‹ä¸­ï¼Œç¶­è­·å¥½ Work Items æ˜¯éå¸¸é‡è¦çš„ä¸€å€‹æ­¥é©Ÿã€‚é€™äº› Work Items æœƒåœ¨Planning Meeting æˆ–è€…æ˜¯ Refine Meeting è¢«æ‹¿å‡ºä¾†è¨è«–ï¼Œå¦‚æœå…§å®¹å®šç¾©ä¸æ¸…ï¼Œæœƒå°è‡´è¨è«–æœƒè­°çš„æµªè²»ï¼Œç‚ºäº†ç¢ºä¿åœ˜éšŠåœ¨å»ºç«‹å·¥ä½œé …ç›®æ™‚æœ‰ä¸€è‡´çš„èªè­˜å’Œç†è§£ï¼Œä»¥åŠåœ¨å›é¡§éç¨‹ä¸­èƒ½å¤ æ›´æ¸…æ¥šåœ°äº†è§£å·¥ä½œé …ç›®çš„ç·£ç”±ï¼Œæ­¤ç¯‡æ–‡ç« å°‡ä»‹ç´¹æˆ‘åœ¨ Epic/Feature/User Story/Task æœƒå¯«çš„é …ç›®ï¼Œä»¥å¯¦éš›æ¡ˆä¾‹ä¾†åˆ†äº«ï¼Œä¸¦ç°¡å–®ä»‹ç´¹å¦‚ä½•åœ¨ Azure Board è£¡é¢è®Šæˆç¯„æœ¬ç›´æ¥è®“åœ˜éšŠå¥—ç”¨\nå…ˆä¾†èŠä¸€ä¸‹ Workitem å±¤ç´š åœ¨ Azure Devops é è¨­å°±æœ‰å››ç¨® Process å¯ä»¥é¸ï¼Œä»¥ç›®å‰ Agile ç‚ºå¤§å®—çš„é–‹ç™¼æ¨¡å¼ï¼Œå¤šåŠæœƒé¸æ“‡ Scurm/Agileï¼Œä½†é€™å…©è€…åŸºæœ¬ä¸Šå¤§åŒå°ç•°ï¼Œå¦‚æœè¦æˆ‘ä¸€å¥è©±è§£è®€é€™äº› Item ä»£è¡¨çš„å®šç¾©ï¼Œæˆ‘æœƒé€™æ¨£è§£é‡‹:\n Epic: é«˜å±¤è€é—†çœ‹çš„, é€šå¸¸æ˜¯å…¬å¸çš„é«˜å¤§å°šç›®æ¨™, æ™‚é–“é•·åº¦ä¸è¶…é1å¹´ Feature: PMæˆ–ä¸»ç®¡çœ‹çš„, æŠŠé«˜å¤§å°šæ”¶æ–‚å¾Œçš„å…·é«”ç­–ç•¥, æ™‚é–“é•·åº¦ä»¥å­£ç‚ºå–®ä½ User Story: PM/å·¥ç¨‹å¸«çœ‹çš„, é”æˆç­–ç•¥çš„æ‰‹æ®µ, æ™‚é–“ä»¥1å€‹sprintå¯äº¤ä»˜ç‚ºå–®ä½ Task: å·¥ç¨‹å¸«çœ‹çš„, é”æˆæ‰‹æ®µéœ€è¦æ‹†å¯«çš„å¯¦ä½œ, æ™‚é–“ä»¥1-2å¤©ç‚ºå–®ä½  è‡³æ–¼é€™äº› Workitem è©²å¯«ä»€éº¼? ä»¥ä¸‹ç« ç¯€ä¾†ç´°éƒ¨èªªæ˜\n æˆ‘èªç‚º Azure Devops è¨­è¨ˆç·£ç”±å¯é©ç”¨æ–¼å¤§å‹çµ„ç¹”ï¼Œä½†å°å…¥éœ€è¦é€æ­¥ï¼Œä¹Ÿè¨±å°åœ˜éšŠå¯ç”¨ User Story+Taskå°±å¯è¶³å¤ äº†ï¼Œå¤ªæ—©ä¸€æ­¥åˆ°ä½åè€Œæœƒå°è‡´äº¤ä»˜æ··äº‚\n Epic Epic å°æˆ‘ä¾†è¬›å®ƒä»£è¡¨äº†ä¸€å€‹å¤§å‹çš„ã€è·¨éƒ¨é–€çš„ç”¢å“ç›®æ¨™ï¼Œé€™å€‹ç›®æ¨™é‚„æ²’æœ‰è©³ç´°çš„ç­–ç•¥ï¼Œä¹Ÿå¯ä»¥æŠŠå®ƒå®šç¾©æˆæ˜¯è€é—†çš„æœŸæœ›ï¼Œä¹Ÿå¯ä»¥æ˜¯ OKR ä¸Šå±¤çš„æŒ‡æ¨™ï¼Œä»¥ Product Owner è§’åº¦è€Œè¨€ï¼Œæˆ‘æœƒæ€è€ƒå¦‚ä½•å‚³é”è€é—†çš„æƒ³æ³•ï¼Œä¸¦æŠŠå®ƒæ”¶æ–‚æˆå¯é‡åŒ–çš„ç›®æ¨™ç¯„åœï¼Œé€™æœƒæ˜¯ä¸€å€‹åŠå¹´ä¸è¶…éä¸€å¹´çš„æ™‚é–“é•·åº¦ï¼Œä¸¦éœ€è¦æœ‰é”æˆçš„æŒ‡æ¨™ï¼Œåœ¨æ¨™é¡Œä¸Šæ˜ç¢ºè¡¨é”(e.","title":"åœ¨ Azure Board å»ºç«‹ workitem template åŠ å¼·åœ˜éšŠå…±è­˜"},{"content":"å»ºç«‹è‰¯å¥½è¦ç¯„èˆ‡é–‹ç™¼è€…çš„äº’å‹• ç•¶åœ˜éšŠé–‹å§‹ Pull Request é †æš¢å¾Œï¼Œæ…¢æ…¢çš„ä¹Ÿæœƒè¨è«–å‡ºä¸€äº›è¦ç¯„èˆ‡ Pull Request çš„é‡é», å¦‚æœåœ¨å»ºç«‹çš„æ™‚å€™ï¼Œèƒ½æœ‰ä¸€äº› Checklist è®“æ–°å·¥ç¨‹å¸«è‡ªæˆ‘æª¢æŸ¥ï¼Œæˆ–è€…æ˜¯è®“æ¯å€‹å·¥ç¨‹å¸«éƒ½èƒ½éµå¾ªç›¸åŒçš„å¯«æ³•ï¼Œè®“åŒäº‹å¿«é€Ÿç†è§£é€™æ¬¡å¯©æ ¸çš„ç›®çš„èˆ‡é‡é»ï¼Œé€™æ™‚å°±èƒ½åˆ©ç”¨ Template ä¾†æ¨™æº–åŒ–\nå»ºç«‹ç¬¬ä¸€å€‹ Pull Request Template Template æª”æ¡ˆå¯ä»¥æ˜¯ .md æˆ– .txt çš„æª”æ¡ˆé¡å‹ï¼Œé è¨­çš„ç¯„æœ¬æ”¾ç½®ä»¥ä¸‹çš„è·¯å¾‘å³å¯ç”Ÿæ•ˆ (å‰‡ä¸€å³å¯)\n\u0026lt;repository root\u0026gt;/.azuredevops/pull_request_template/ \u0026lt;repository root\u0026gt;/.vsts/pull_request_template/ \u0026lt;repository root\u0026gt;/docs/pull_request_template/ \u0026lt;repository root\u0026gt;/pull_request_template/  ä»¥ä¸‹ç›´æ¥ç”¨ Azure Repo çš„ UI ä¾†åšç¤ºç¯„ï¼š\nå»ºç«‹ä¸€å€‹ Folder\nå»ºç«‹ä¸€å€‹ docs/pull_request_template è³‡æ–™å¤¾, ä¸¦ç›´æ¥æ–°å¢ Default-PR-Template.md æª”æ¡ˆ\næ’°å¯«ä¸€å€‹ç¯„æœ¬ä¸¦ Commit\n**å°‡é€™æ”¯ PR æ‰€åšçš„äº‹æƒ…ï¼Œå–ä»£é€™æ®µæ–‡å­—ï¼Œæè¿°è¶Šè©³ç´°è¶Šå¥½ã€‚** æäº¤ PR å‰ï¼Œè«‹å…ˆæª¢æŸ¥ä»¥ä¸‹æ˜¯å¦å·²å®Œæˆï¼š - [ ] æ˜¯å¦å·²å°‡æ­¤ PR ç¶å®šç›¸é—œ Ticket - [ ] è«‹å…ˆè‡ªè¡Œ rebase/merge - [ ] æ˜¯å¦æ’°å¯«å–®å…ƒæ¸¬è©¦ - [ ] é€™æ”¯ PR æ˜¯å¦æœ‰æ˜ç¢ºçš„æ¨™é¡Œã€å…§å®¹æè¿° ----------------- è£œå……èªªæ˜:  å»ºç«‹ä¸€å€‹ Branch ä¸¦é‡å°ä»»ä¸€æª”æ¡ˆåšç•°å‹•\nå»ºç«‹ Pull Request\næ­¤æ™‚å°±èƒ½çœ‹åˆ°å¤šäº†ä¸€å€‹ Add a template é¸é …ï¼Œå¯ç›´æ¥å¸¶å…¥\nå¦‚ä½•é‡å° Branch åšç¯„æœ¬è¨­å®š ä½†è®“å·¥ç¨‹å¸«ç”¨é¸çš„é‚„æ˜¯æœƒå¿˜è¨˜ï¼Œå¦å¤–å°±æ˜¯å¦‚æœæƒ³é‡å°ä¸åŒåˆ†æ”¯æœ‰ä¸åŒçš„ç¯„æœ¬ï¼Œé€™æ™‚å°±èƒ½å†å»ºç«‹ **branches **è³‡æ–™å¤¾ï¼Œä¾æ“šåˆ†æ”¯åå»ºç«‹ç¯„æœ¬ï¼Œè­¬å¦‚æˆ‘æƒ³è¦åœ¨ merge è‡³ main è‡ªå‹•å¸¶å…¥ç¯„æœ¬ï¼Œå°±èƒ½æ–°å¢ä¸€å€‹ **main.md **æª”æ¡ˆ\né€™æ™‚å°±æœƒç™¼ç¾é–‹ Pull Request å¾Œï¼Œç¯„æœ¬è‡ªå‹•å¸¶é€²ä¾†äº†\n è€Œå¦‚æœè¦è®“ feautre/* æˆ– hotfix/* é€™ç¨®åˆ†æ”¯åç¨±éƒ½å¸¶å…¥åŒä¸€å€‹ç¯„æœ¬ï¼Œåªè¦æ–°å¢ feature.md å³å¯\n å»ºç«‹ Additional Template æœ‰æ™‚é™¤äº†ç¯„æœ¬å¤–ï¼Œä¹Ÿå¯ä»¥è¦–æƒ…æ³æ’å…¥ä¸€äº›é¡å¤–çš„å…§å®¹ï¼Œé€™æ™‚å€™åªè¦æ–°å¢é¡ä¼¼çš„ç¯„æœ¬åˆ°ä¸Šé¢æ‰€æåˆ°çš„è³‡æ–™å¤¾åº•ä¸‹å³å¯ï¼Œè­¬å¦‚æˆ‘å€‘åœ¨è³‡æ–™å¤¾åº•ä¸‹åŠ å…¥ä¸€å€‹ md-table.md çš„ç¯„æœ¬\n| Header1 | Header2| | ---- | ---- | | ItemA | A | | ItemB | B |  æ­¤æ™‚å°±å¯ä»¥é¸å‰›å‰›å»ºç«‹çš„ç¯„æœ¬ï¼Œç›´æ¥æ’å…¥\nåƒè€ƒé€£çµ Improve pull request descriptions with pull request templates â€” Azure Repos | Microsoft Learn\n","permalink":"https://kyleap.github.io/azure-board-pull-request-template/","summary":"å»ºç«‹è‰¯å¥½è¦ç¯„èˆ‡é–‹ç™¼è€…çš„äº’å‹• ç•¶åœ˜éšŠé–‹å§‹ Pull Request é †æš¢å¾Œï¼Œæ…¢æ…¢çš„ä¹Ÿæœƒè¨è«–å‡ºä¸€äº›è¦ç¯„èˆ‡ Pull Request çš„é‡é», å¦‚æœåœ¨å»ºç«‹çš„æ™‚å€™ï¼Œèƒ½æœ‰ä¸€äº› Checklist è®“æ–°å·¥ç¨‹å¸«è‡ªæˆ‘æª¢æŸ¥ï¼Œæˆ–è€…æ˜¯è®“æ¯å€‹å·¥ç¨‹å¸«éƒ½èƒ½éµå¾ªç›¸åŒçš„å¯«æ³•ï¼Œè®“åŒäº‹å¿«é€Ÿç†è§£é€™æ¬¡å¯©æ ¸çš„ç›®çš„èˆ‡é‡é»ï¼Œé€™æ™‚å°±èƒ½åˆ©ç”¨ Template ä¾†æ¨™æº–åŒ–\nå»ºç«‹ç¬¬ä¸€å€‹ Pull Request Template Template æª”æ¡ˆå¯ä»¥æ˜¯ .md æˆ– .txt çš„æª”æ¡ˆé¡å‹ï¼Œé è¨­çš„ç¯„æœ¬æ”¾ç½®ä»¥ä¸‹çš„è·¯å¾‘å³å¯ç”Ÿæ•ˆ (å‰‡ä¸€å³å¯)\n\u0026lt;repository root\u0026gt;/.azuredevops/pull_request_template/ \u0026lt;repository root\u0026gt;/.vsts/pull_request_template/ \u0026lt;repository root\u0026gt;/docs/pull_request_template/ \u0026lt;repository root\u0026gt;/pull_request_template/  ä»¥ä¸‹ç›´æ¥ç”¨ Azure Repo çš„ UI ä¾†åšç¤ºç¯„ï¼š\nå»ºç«‹ä¸€å€‹ Folder\nå»ºç«‹ä¸€å€‹ docs/pull_request_template è³‡æ–™å¤¾, ä¸¦ç›´æ¥æ–°å¢ Default-PR-Template.md æª”æ¡ˆ\næ’°å¯«ä¸€å€‹ç¯„æœ¬ä¸¦ Commit\n**å°‡é€™æ”¯ PR æ‰€åšçš„äº‹æƒ…ï¼Œå–ä»£é€™æ®µæ–‡å­—ï¼Œæè¿°è¶Šè©³ç´°è¶Šå¥½ã€‚** æäº¤ PR å‰ï¼Œè«‹å…ˆæª¢æŸ¥ä»¥ä¸‹æ˜¯å¦å·²å®Œæˆï¼š - [ ] æ˜¯å¦å·²å°‡æ­¤ PR ç¶å®šç›¸é—œ Ticket - [ ] è«‹å…ˆè‡ªè¡Œ rebase/merge - [ ] æ˜¯å¦æ’°å¯«å–®å…ƒæ¸¬è©¦ - [ ] é€™æ”¯ PR æ˜¯å¦æœ‰æ˜ç¢ºçš„æ¨™é¡Œã€å…§å®¹æè¿° ----------------- è£œå……èªªæ˜:  å»ºç«‹ä¸€å€‹ Branch ä¸¦é‡å°ä»»ä¸€æª”æ¡ˆåšç•°å‹•","title":"åœ¨ Azure Repo è¨­å®š Pull Request Template"},{"content":"å‰è¨€ é™¤äº† Azure å¤–ï¼Œé‚„æœ‰å¾ˆå¤šå…¬æœ‰é›²çš„æœå‹™å¯ä»¥åšé¸æ“‡ï¼Œè­¬å¦‚AWS/GCP/herokuâ€¦ç­‰ç­‰ï¼Œç”šè‡³å¯èƒ½ä¸æ¡ç”¨å…¬æœ‰é›²æœå‹™ï¼Œè‡ªå·±æ¶è¨­ä¼ºæœå™¨ä¹Ÿæ˜¯æœ‰å¯èƒ½ï¼ŒåŸºæ–¼ä»¥ä¸Šé€™äº›ä¸åŒç’°å¢ƒï¼Œæˆ‘æœƒå»ºè­°å°‡æœå‹™éƒ½åŒ…æˆ dockerï¼Œè®“æ‰€é–‹ç™¼çš„æ‡‰ç”¨ç¨‹å¼æ¯”è¼ƒä¸æœƒå—åˆ°ä¼ºæœå™¨ç’°å¢ƒçš„å½±éŸ¿ï¼Œæœ¬ç¯‡å°±ä¾†ä»‹ç´¹å¾ä¸€å€‹åŸºæœ¬çš„ FastAPI åŒ…æˆ dockerï¼Œä¸¦ç™¼ä½ˆçš„ Azure æœå‹™ä¸Š\ndocker ç’°å¢ƒå®‰è£ Docker æ˜¯ä¸€ç¨®è»Ÿé«”å¹³å°ï¼Œå¯è®“æ‚¨å¿«é€Ÿåœ°å»ºç«‹ã€æ¸¬è©¦å’Œéƒ¨ç½²æ‡‰ç”¨ç¨‹å¼ã€‚Docker å°‡è»Ÿé«”å°è£åˆ°åç‚ºå®¹å™¨çš„æ¨™æº–åŒ–å–®ä½ï¼Œå…¶ä¸­åŒ…å«ç¨‹å¼åº«ã€ç³»çµ±å·¥å…·ã€ç¨‹å¼ç¢¼å’ŒåŸ·è¡Œæ™‚é–“ç­‰åŸ·è¡Œè»Ÿé«”æ‰€éœ€çš„æ‰€æœ‰é …ç›®ã€‚ä½¿ç”¨ Dockerï¼Œæ‚¨å¯ä»¥å°‡æ‡‰ç”¨ç¨‹å¼å¿«é€Ÿåœ°éƒ¨ç½²åˆ°å„ç¨®ç’°å¢ƒä¸¦åŠ ä»¥æ“´å±•ï¼Œè€Œä¸”çŸ¥é“ç¨‹å¼ç¢¼å¯ä»¥åŸ·è¡Œ â€” from AWS çš„ä»‹ç´¹ https://aws.amazon.com/tw/docker/\n é—œæ–¼ docker ç’°å¢ƒçš„å®‰è£ï¼Œç¶²è·¯ä¸Šæ•™å­¸æ‡‰è©²å¾ˆå¤šäº†ï¼Œæ­¤ç¯‡æ–‡ç« å°±ä¸å†ä»‹ç´¹ï¼Œå¦‚æœå®‰è£æˆåŠŸï¼Œæ‡‰è©²åœ¨å‘½ä»¤åˆ—é€é docker â€” version æŒ‡ä»¤å¯ä»¥çœ‹åˆ°ç‰ˆæœ¬\n å»ºç«‹ä¸€å€‹åŸºæœ¬çš„ FastAPI æœ¬ç¯‡å†ä»¥ä¸€å€‹æœ€åŸºæœ¬çš„ API ä¾†åšåŒ…æˆ docker çš„ä»‹ç´¹\nrequirements.txt fastAPI uvicorn  main.py from typing import Optional from fastapi import FastAPI app = FastAPI() @app.get(\u0026quot;/\u0026quot;) def read_root(): return {\u0026quot;Hello\u0026quot;: \u0026quot;World\u0026quot;} @app.get(\u0026quot;/items/{item_id}\u0026quot;) def read_item(item_id: int, q: Optional[str] = None): return {\u0026quot;item_id\u0026quot;: item_id, \u0026quot;q\u0026quot;: q}  åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ pip install -r requirement.txt uvicorn main:app --reload  ç¢ºèª localhost:8000 èƒ½åœ¨æœ¬æ©ŸæˆåŠŸè·‘èµ·ç«™å°\nDockerfile Dockerfileæ˜¯ä¸€å€‹è¨­å®šæª”ï¼Œç”¨ä¾†å®šç¾©èˆ‡ç®¡ç†ç•¶å‰é€™å€‹è³‡æ–™å¤¾æ‰€è¦å°è£çš„æ‡‰ç”¨ç¨‹å¼ï¼ŒåŸ·è¡Œ docker æŒ‡ä»¤æ™‚ï¼Œå°±æœƒä¾é€ é€™å€‹æª”æ¡ˆæ‰€å®šç¾©çš„æ­¥é©Ÿï¼Œå°‡æ‡‰ç”¨ç¨‹å¼å°è£åˆ°å®¹å™¨è£¡é¢\nDockerfile # è¨­å®šåŸºåº•çš„ imageï¼Œæˆ‘å€‘æŒ‡å®šç”¨python 3.9ï¼ŒåŸ·è¡Œæ™‚æœƒå¾ dockerhub é€™å€‹å¹³å°å°‡ python çš„ image æ‹‰ä¸‹ä¾† FROM python:3.9 # è¨­å®šå®¹å™¨çš„å·¥ä½œè³‡æ–™å¤¾ WORKDIR /code # è¤‡è£½æœ¬åœ°è³‡æ–™å¤¾ requirements.txté€™å€‹æª”æ¡ˆè‡³å®¹å™¨çš„ /code/requirements.txt COPY ./requirements.txt /code/requirements.txt # æ–¼å®¹å™¨åŸ·è¡Œ pip è…³æœ¬ RUN pip install --no-cache-dir --upgrade -r /code/requirements.txt # è¤‡è£½æœ¬åœ°è³‡æ–™å¤¾æ‰€æœ‰æª”æ¡ˆ(.ä»£è¡¨ç•¶å‰ç›®éŒ„)è‡³å®¹å™¨è£¡çš„è³‡æ–™å¤¾ /code/app COPY . /code/app # é€éuvicornåŸ·è¡ŒFastAPIä¼ºæœå™¨ CMD [\u0026quot;uvicorn\u0026quot;, \u0026quot;app.main:app\u0026quot;, \u0026quot;--host\u0026quot;, \u0026quot;0.0.0.0\u0026quot;, \u0026quot;--port\u0026quot;, \u0026quot;80\u0026quot;]  åŒ…è£ docker image å°‡ä¸‹ä¾†æˆ‘å€‘å¯ä»¥å°‡æˆ‘å€‘çš„ FastAPI ç¨‹å¼ï¼Œå°è£æˆ imageï¼Œåç¨±ç‚º myfastapi\ndocker build -t myfastapi .  åŸ·è¡Œ docker images æ‡‰è©²æœƒçœ‹åˆ°ç›®å‰åœ¨æœ¬æ©Ÿå·²ç¶“æœ‰çš„ images\nåŸ·è¡Œ docker image æœ‰äº† image å¾Œï¼Œä¸‹ä¸€æ­¥å°±æ˜¯é€éé€™å€‹ imageï¼ŒæŠŠæœå‹™åŸ·è¡Œèµ·ä¾†ï¼Œé€™æ™‚æˆ‘å€‘å¯ä»¥ç”¨\ndocker run -d --name myapi -p 80:80 myfastapi    -d: ä»£è¡¨æ˜¯åœ¨èƒŒæ™¯åŸ·è¡Œ\n  â€” name: é€™å€‹æœå‹™çš„åç¨±\n  -p: æŒ‡ä»¤å…§å¤–port \u0026lt;dockerå…§éƒ¨\u0026gt;:\u0026lt;ä½ çš„æœ¬æ©Ÿå°æ‡‰çš„port\u0026gt;\n  myfastapi: image åç¨±\n  åŸ·è¡Œå¾Œï¼Œæ‡‰è©²æœƒå¾—åˆ°ä¸€å€‹é€™å€‹æœå‹™çš„å”¯ä¸€IDï¼Œæˆ‘å€‘å¯ä»¥ç”¨ **docker ps **ä¾†æª¢è¦–ç›®å‰åŸ·è¡Œä¸­çš„æœå‹™\nç€è¦½å™¨åˆ° localhost ç¢ºèªèƒ½å›å‚³ Hello World\nå»ºç«‹ docker image çš„å®¶ â€” Container Registry é€²å…¥ Azure Portal æœå°‹ ACR æœå‹™\nå»ºç«‹ ACR æœå‹™ï¼Œæˆ‘å€‘é¸ basic æ–¹æ¡ˆå³å¯\nç™¼ä½ˆ docker image ACR æœå‹™å»ºç«‹å®Œäº†ï¼Œä¸‹ä¸€æ­¥æˆ‘å€‘è¦å°‡æˆ‘å€‘çš„ myfastapi ç™¼ä½ˆåˆ° ACR ä¸Šï¼Œåœ¨é€™æ­¥é©Ÿæˆ‘æœƒå»ºè­°ç”¨ VS Code æ˜¯æœ€æ–¹ä¾¿çš„ï¼Œå¦‚æœè¦ç”¨æŒ‡ä»¤çš„è©±ï¼Œå¯ä»¥ç ”ç©¶ Azure CLI é€™å€‹å·¥å…·ï¼Œä¾†è·Ÿ ACR åšæºé€š\nVS Code å®‰è£ â€” Azure Account å®‰è£å¾ŒåŸ·è¡Œ ctrl (cmd) + p è¼¸å…¥ sign in ç™»å…¥ azure å¸³è™Ÿ\nVS Code å®‰è£ docker ç¢ºèª docker çš„æ“´å……åŠŸèƒ½ï¼Œå¯ä»¥çœ‹åˆ°å‰›å‰›çš„åŒ…å¥½çš„ image\né»é¸å³éµ push\né¸æ“‡å‰›å‰›å»ºç«‹çš„ACRæœå‹™å¾Œï¼Œå°±æœƒçœ‹åˆ°å‘½ä»¤åˆ—æ­£åœ¨æ¨é€\nå›åˆ° azure portal ç¢ºèªæœ‰æˆåŠŸæ¨ä¸Š\nå°‡ image ç™¼ä½ˆæˆ Azure Web App Service å»ºç«‹ Azure Web App ï¼Œé€™æ¬¡ç™¼è¡Œæ–¹å¼æˆ‘å€‘é¸æ“‡ docker container\né¸æ“‡ ACR æœå‹™èˆ‡ Image åç¨±\né€²åˆ° Azure Web App æœå‹™\nç¢ºèªç€è¦½å™¨èƒ½å¾—åˆ° Hello World\næŒçºŒäº¤ä»˜ ç¨‹å¼ä¸€å®šæœƒä¸€ç›´æ”¹ï¼Œä¹ŸæœƒåŒ…æˆæ–°ç‰ˆæœ¬çš„ imageï¼Œæœ‰æ²’æœ‰å¯èƒ½åœ¨æœ‰æ–°çš„ image æ™‚è‡ªå‹•ç™¼è¡Œç¶²ç«™ï¼Œåœ¨Azureå¯ä»¥é€™æ¨£è¨­å®š\né»é¸ Deployment Center ä¸¦å‹¾é¸ Continuous deployment\nåŒ…æˆ image æˆ‘å€‘å†ä¾åºç·´ç¿’ä¸€æ¬¡ main.py æ”¹æˆ hello world 2\nåŸ·è¡Œ docker build -t myfastapi . â€” no-cache ï¼Œé€™æ¬¡æˆ‘å€‘å¤šåŠ  â€” no-cache æŒ‡ä»¤é¿å…å®ƒç·©å­˜ä½\né€é VSCode å† push ä¸€æ¬¡\nç­‰å¾…å¹¾åˆ†é˜å¾Œï¼Œå°±èƒ½çœ‹åˆ°æ˜¯æ–°ç‰ˆçš„å…§å®¹äº†\nå°çµ docker å¯èªªæ˜¯è»Ÿé«”å·¥ç¨‹å¸«å¿…å‚™çš„çŸ¥è­˜äº†ï¼Œä¸€ç¯‡æ–‡ç« ä¹Ÿç„¡æ³•å®Œæ•´æ•™å®Œæ•´å€‹dockerçš„æ¦‚å¿µï¼Œå»ºè­°å¯ä»¥ç”¨æœ¬æ–‡æåˆ°çš„é—œéµå­—å»¶ä¼¸å»å­¸ç¿’æ›´å¤šçš„çŸ¥è­˜ï¼Œè€Œæœ¬æ–‡ç« æ˜¯ä»¥ Azure æ–‡ç« ç‚ºä¾‹ï¼Œç•¶æ‡‰ç”¨ç¨‹å¼å®¹å™¨åŒ–å¾Œï¼Œç™¼ä½ˆæˆ–è‡ªå»ºåˆ°å…¶ä»–å¹³å°ä¹Ÿæœƒæ–¹ä¾¿ä¸å°‘ï¼Œè­¬å¦‚ heroku å¯ä»¥åƒè€ƒä¸‹é¢çš„æ–‡ç« ï¼Œæ­¥é©Ÿå…¶å¯¦å¤§åŒå°ç•°ï¼Œåªæ˜¯ç™¼åˆ°ä¸åŒçš„ Container Registry / Cloud Platform\nç«™åœ¨ Docker çš„è‚©è†€ä¸Šï¼Œéƒ¨ç½²ä»»ä½•èªè¨€çš„ Web æ‡‰ç”¨åˆ° Heroku | by Larry Lu | Starbugs Weekly æ˜Ÿå·´å“¥æŠ€è¡“å°ˆæ¬„ | Medium\n","permalink":"https://kyleap.github.io/docker-deploy-fastapi-to-azure/","summary":"å‰è¨€ é™¤äº† Azure å¤–ï¼Œé‚„æœ‰å¾ˆå¤šå…¬æœ‰é›²çš„æœå‹™å¯ä»¥åšé¸æ“‡ï¼Œè­¬å¦‚AWS/GCP/herokuâ€¦ç­‰ç­‰ï¼Œç”šè‡³å¯èƒ½ä¸æ¡ç”¨å…¬æœ‰é›²æœå‹™ï¼Œè‡ªå·±æ¶è¨­ä¼ºæœå™¨ä¹Ÿæ˜¯æœ‰å¯èƒ½ï¼ŒåŸºæ–¼ä»¥ä¸Šé€™äº›ä¸åŒç’°å¢ƒï¼Œæˆ‘æœƒå»ºè­°å°‡æœå‹™éƒ½åŒ…æˆ dockerï¼Œè®“æ‰€é–‹ç™¼çš„æ‡‰ç”¨ç¨‹å¼æ¯”è¼ƒä¸æœƒå—åˆ°ä¼ºæœå™¨ç’°å¢ƒçš„å½±éŸ¿ï¼Œæœ¬ç¯‡å°±ä¾†ä»‹ç´¹å¾ä¸€å€‹åŸºæœ¬çš„ FastAPI åŒ…æˆ dockerï¼Œä¸¦ç™¼ä½ˆçš„ Azure æœå‹™ä¸Š\ndocker ç’°å¢ƒå®‰è£ Docker æ˜¯ä¸€ç¨®è»Ÿé«”å¹³å°ï¼Œå¯è®“æ‚¨å¿«é€Ÿåœ°å»ºç«‹ã€æ¸¬è©¦å’Œéƒ¨ç½²æ‡‰ç”¨ç¨‹å¼ã€‚Docker å°‡è»Ÿé«”å°è£åˆ°åç‚ºå®¹å™¨çš„æ¨™æº–åŒ–å–®ä½ï¼Œå…¶ä¸­åŒ…å«ç¨‹å¼åº«ã€ç³»çµ±å·¥å…·ã€ç¨‹å¼ç¢¼å’ŒåŸ·è¡Œæ™‚é–“ç­‰åŸ·è¡Œè»Ÿé«”æ‰€éœ€çš„æ‰€æœ‰é …ç›®ã€‚ä½¿ç”¨ Dockerï¼Œæ‚¨å¯ä»¥å°‡æ‡‰ç”¨ç¨‹å¼å¿«é€Ÿåœ°éƒ¨ç½²åˆ°å„ç¨®ç’°å¢ƒä¸¦åŠ ä»¥æ“´å±•ï¼Œè€Œä¸”çŸ¥é“ç¨‹å¼ç¢¼å¯ä»¥åŸ·è¡Œ â€” from AWS çš„ä»‹ç´¹ https://aws.amazon.com/tw/docker/\n é—œæ–¼ docker ç’°å¢ƒçš„å®‰è£ï¼Œç¶²è·¯ä¸Šæ•™å­¸æ‡‰è©²å¾ˆå¤šäº†ï¼Œæ­¤ç¯‡æ–‡ç« å°±ä¸å†ä»‹ç´¹ï¼Œå¦‚æœå®‰è£æˆåŠŸï¼Œæ‡‰è©²åœ¨å‘½ä»¤åˆ—é€é docker â€” version æŒ‡ä»¤å¯ä»¥çœ‹åˆ°ç‰ˆæœ¬\n å»ºç«‹ä¸€å€‹åŸºæœ¬çš„ FastAPI æœ¬ç¯‡å†ä»¥ä¸€å€‹æœ€åŸºæœ¬çš„ API ä¾†åšåŒ…æˆ docker çš„ä»‹ç´¹\nrequirements.txt fastAPI uvicorn  main.py from typing import Optional from fastapi import FastAPI app = FastAPI() @app.get(\u0026quot;/\u0026quot;) def read_root(): return {\u0026quot;Hello\u0026quot;: \u0026quot;World\u0026quot;} @app.get(\u0026quot;/items/{item_id}\u0026quot;) def read_item(item_id: int, q: Optional[str] = None): return {\u0026quot;item_id\u0026quot;: item_id, \u0026quot;q\u0026quot;: q}  åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ pip install -r requirement.","title":"é€é docker ç™¼è¡Œ FastAPI åˆ° Azure"},{"content":"Feature Flag æ˜¯å¦é–‹å•Ÿï¼Œä¹Ÿå¯ä»¥é€éè‡ªè¨‚çš„é¡åˆ¥ä¾†æ’°å¯«ï¼Œå¯ä»¥é€éIFeatureFilterä¾†å¯¦ç¾ï¼Œä»¥ä¸‹ç¯„ä¾‹ä»¥å–å¾—ä½¿ç”¨è€… User-Agent ç‚ºä¾‹\n å¯¦ä½œIFeatureFilterï¼Œæ–°å¢ä¸€å€‹ BrowserFeatureFilter.cs æª”æ¡ˆ  [FilterAlias(\u0026quot;Browser\u0026quot;)] public class BrowserFeatureFilter : IFeatureFilter { private readonly IHttpContextAccessor _httpContextAccessor; public BrowserFeatureFilter(IHttpContextAccessor httpContextAccessor) { _httpContextAccessor = httpContextAccessor; } public Task\u0026lt;bool\u0026gt; EvaluateAsync(FeatureFilterEvaluationContext context) { // å–å¾—Requestçš„ç€è¦½å™¨é¡å‹ var agent = _httpContextAccessor.HttpContext.Request.Headers[\u0026quot;User-Agent\u0026quot;].ToString(); // å–å¾— appSettings.jsonçš„è¨­å®š var settings = context.Parameters.Get\u0026lt;BrowserFilterSettings\u0026gt;(); // TODO: é€™é‚Šå°±å¯ä»¥æ’°å¯«é‚è¼¯é©—è­‰æ˜¯å¦é‡å°è©²ç€è¦½å™¨é–‹æ­¤åŠŸèƒ½ return Task.FromResult\u0026lt;bool\u0026gt;(false); } } public class BrowserFilterSettings { public string[] Allowed { get; set; } } appsettings.json (å…è¨±Edgeç€è¦½å™¨é–‹å•ŸFeatureAåŠŸèƒ½)  \u0026quot;FeatureManagement\u0026quot;: { \u0026quot;FeatureA\u0026quot;: { \u0026quot;EnabledFor\u0026quot;: [ { \u0026quot;Name\u0026quot;: \u0026quot;Browser\u0026quot;, \u0026quot;Parameters\u0026quot;: { \u0026quot;Allowed\u0026quot;: [ \u0026quot;Edg\u0026quot; ] } } ] } } startup æ³¨å…¥  services.AddSingleton\u0026lt;ITargetingContextAccessor, TestTargetingContextAccessor\u0026gt;(); services.AddFeatureManagement() .AddFeatureFilter\u0026lt;BrowserFeatureFilter\u0026gt;(); ","permalink":"https://kyleap.github.io/feature-flag-dotnet-core-basic-targeting/","summary":"Feature Flag æ˜¯å¦é–‹å•Ÿï¼Œä¹Ÿå¯ä»¥é€éè‡ªè¨‚çš„é¡åˆ¥ä¾†æ’°å¯«ï¼Œå¯ä»¥é€éIFeatureFilterä¾†å¯¦ç¾ï¼Œä»¥ä¸‹ç¯„ä¾‹ä»¥å–å¾—ä½¿ç”¨è€… User-Agent ç‚ºä¾‹\n å¯¦ä½œIFeatureFilterï¼Œæ–°å¢ä¸€å€‹ BrowserFeatureFilter.cs æª”æ¡ˆ  [FilterAlias(\u0026quot;Browser\u0026quot;)] public class BrowserFeatureFilter : IFeatureFilter { private readonly IHttpContextAccessor _httpContextAccessor; public BrowserFeatureFilter(IHttpContextAccessor httpContextAccessor) { _httpContextAccessor = httpContextAccessor; } public Task\u0026lt;bool\u0026gt; EvaluateAsync(FeatureFilterEvaluationContext context) { // å–å¾—Requestçš„ç€è¦½å™¨é¡å‹ var agent = _httpContextAccessor.HttpContext.Request.Headers[\u0026quot;User-Agent\u0026quot;].ToString(); // å–å¾— appSettings.jsonçš„è¨­å®š var settings = context.Parameters.Get\u0026lt;BrowserFilterSettings\u0026gt;(); // TODO: é€™é‚Šå°±å¯ä»¥æ’°å¯«é‚è¼¯é©—è­‰æ˜¯å¦é‡å°è©²ç€è¦½å™¨é–‹æ­¤åŠŸèƒ½ return Task.FromResult\u0026lt;bool\u0026gt;(false); } } public class BrowserFilterSettings { public string[] Allowed { get; set; } } appsettings.json (å…è¨±Edgeç€è¦½å™¨é–‹å•ŸFeatureAåŠŸèƒ½)  \u0026quot;FeatureManagement\u0026quot;: { \u0026quot;FeatureA\u0026quot;: { \u0026quot;EnabledFor\u0026quot;: [ { \u0026quot;Name\u0026quot;: \u0026quot;Browser\u0026quot;, \u0026quot;Parameters\u0026quot;: { \u0026quot;Allowed\u0026quot;: [ \u0026quot;Edg\u0026quot; ] } } ] } } startup æ³¨å…¥  services.","title":"åœ¨ .NET Core ä½¿ç”¨ Feature Flag (Feature Toggle) - è‡ªè¨‚é‚è¼¯"},{"content":"å¦‚æœè¦é‡å°æŸç”¨æˆ¶æˆ–ç¾¤çµ„ä¾†é–‹å•Ÿç‰¹å®šåŠŸèƒ½ï¼Œåœ¨ .NET Feature Management ä¸­å¯ä»¥ç”¨ TargetFilter ä¾†æŒ‡å®š\n appsettings.json (æŒ‡å®šç•¶å‰ä½¿ç”¨è€…çš„Guidæˆ–ç¾¤çµ„)   RolloutPercentage ç‚ºé¸æ“‡æ€§åƒæ•¸ï¼Œå¯ä»¥æŒ‡å®šå¤šå°‘ç™¾åˆ†æ¯”çš„ä½¿ç”¨è€…æœƒå°å‘è©²åŠŸèƒ½\n \u0026quot;FeatureManagement\u0026quot;: { \u0026quot;FeatureA\u0026quot;: { \u0026quot;EnabledFor\u0026quot;: [ { \u0026quot;Name\u0026quot;: \u0026quot;Microsoft.Targeting\u0026quot;, \u0026quot;Parameters\u0026quot;: { \u0026quot;Audience\u0026quot;: { \u0026quot;Users\u0026quot;: [ \u0026quot;1948fcc1-dc03-44a6-824f-fb48166ffa9d\u0026quot; ], \u0026quot;Group\u0026quot;: [ { \u0026quot;Name\u0026quot;: \u0026quot;Group1\u0026quot;, \u0026quot;RolloutPercentage\u0026quot;: 80 }, { \u0026quot;Name\u0026quot;: \u0026quot;Group2\u0026quot; } ] } } } ] } } å¯¦ä½œ ITargetingContextAccessor  public class TestTargetingContextAccessor : ITargetingContextAccessor { private const string TargetingContextLookup = \u0026quot;TestTargetingContextAccessor.TargetingContext\u0026quot;; private readonly IHttpContextAccessor _httpContextAccessor; public TestTargetingContextAccessor(IHttpContextAccessor httpContextAccessor) { _httpContextAccessor = httpContextAccessor ?? throw new ArgumentNullException(nameof(httpContextAccessor)); } public ValueTask\u0026lt;TargetingContext\u0026gt; GetContextAsync() { HttpContext httpContext = _httpContextAccessor.HttpContext; if (httpContext.Items.TryGetValue(TargetingContextLookup, out object value)) { return new ValueTask\u0026lt;TargetingContext\u0026gt;((TargetingContext)value); } List\u0026lt;string\u0026gt; groups = new List\u0026lt;string\u0026gt;(); if (httpContext.User.Identity.Name != null) { groups.Add(httpContext.User.Identity.Name.Split(\u0026quot;@\u0026quot;, StringSplitOptions.None)[1]); } TargetingContext targetingContext = new TargetingContext { UserId = httpContext.User.Identity.Name, Groups = groups }; httpContext.Items[TargetingContextLookup] = targetingContext; return new ValueTask\u0026lt;TargetingContext\u0026gt;(targetingContext); } } startup æ³¨å…¥  services.AddSingleton\u0026lt;ITargetingContextAccessor, TestTargetingContextAccessor\u0026gt;(); services.AddFeatureManagement() .AddFeatureFilter\u0026lt;TargetingFilter\u0026gt;(); ","permalink":"https://kyleap.github.io/feature-flag-dotnet-core-basic-targeting/","summary":"å¦‚æœè¦é‡å°æŸç”¨æˆ¶æˆ–ç¾¤çµ„ä¾†é–‹å•Ÿç‰¹å®šåŠŸèƒ½ï¼Œåœ¨ .NET Feature Management ä¸­å¯ä»¥ç”¨ TargetFilter ä¾†æŒ‡å®š\n appsettings.json (æŒ‡å®šç•¶å‰ä½¿ç”¨è€…çš„Guidæˆ–ç¾¤çµ„)   RolloutPercentage ç‚ºé¸æ“‡æ€§åƒæ•¸ï¼Œå¯ä»¥æŒ‡å®šå¤šå°‘ç™¾åˆ†æ¯”çš„ä½¿ç”¨è€…æœƒå°å‘è©²åŠŸèƒ½\n \u0026quot;FeatureManagement\u0026quot;: { \u0026quot;FeatureA\u0026quot;: { \u0026quot;EnabledFor\u0026quot;: [ { \u0026quot;Name\u0026quot;: \u0026quot;Microsoft.Targeting\u0026quot;, \u0026quot;Parameters\u0026quot;: { \u0026quot;Audience\u0026quot;: { \u0026quot;Users\u0026quot;: [ \u0026quot;1948fcc1-dc03-44a6-824f-fb48166ffa9d\u0026quot; ], \u0026quot;Group\u0026quot;: [ { \u0026quot;Name\u0026quot;: \u0026quot;Group1\u0026quot;, \u0026quot;RolloutPercentage\u0026quot;: 80 }, { \u0026quot;Name\u0026quot;: \u0026quot;Group2\u0026quot; } ] } } } ] } } å¯¦ä½œ ITargetingContextAccessor  public class TestTargetingContextAccessor : ITargetingContextAccessor { private const string TargetingContextLookup = \u0026quot;TestTargetingContextAccessor.TargetingContext\u0026quot;; private readonly IHttpContextAccessor _httpContextAccessor; public TestTargetingContextAccessor(IHttpContextAccessor httpContextAccessor) { _httpContextAccessor = httpContextAccessor ?","title":"åœ¨ .NET Core ä½¿ç”¨ Feature Flag (Feature Toggle) - é‡å°å—çœ¾(targeting)"},{"content":"æ‰¿æ¥ä¸Šä¸€ç¯‡ï¼Œå¦‚æœæœ‰ä¸€äº›æƒ…å¢ƒæ˜¯é™æ™‚é–‹æ”¾çš„åŠŸèƒ½ï¼Œæ™‚é–“éäº†ä»¥å¾Œå°±è¦é—œé–‰ï¼Œé‚£å°±å¯ä»¥ç”¨åˆ° TimeWindow\n appsettings.json  \u0026quot;FeatureManagement\u0026quot;: { \u0026quot;FeatureB\u0026quot;: { \u0026quot;EnabledFor\u0026quot;: [ { \u0026quot;Name\u0026quot;: \u0026quot;Microsoft.TimeWindow\u0026quot;, \u0026quot;Parameters\u0026quot;: { \u0026quot;Start\u0026quot;: \u0026quot;2020-11-09 04:58:00Z\u0026quot;, \u0026quot;End\u0026quot;: \u0026quot;2099-11-09 05:00:00Z\u0026quot; } } ] } } åŸºæœ¬çš„ Feature Toggle ä½¿ç”¨  var isFeatureAEnabled = await _featureManager.IsEnabledAsync(\u0026quot;FeatureA\u0026quot;); if(isFeatureAEnabled) { // æœ‰æ‰“é–‹ï¼Œèµ°æ–°é‚è¼¯ } else { // æœªæ‰“é–‹ï¼Œèµ°èˆŠé‚è¼¯ } API Route å¤šå€‹ä½¿ç”¨æ–¹å¼ï¼Œé©—è­‰ä¸éæœƒå›å‚³404  [FeatureGate(\u0026quot;FeatureA\u0026quot;)] public async Task\u0026lt;ActionResult\u0026gt; Foo() { return Ok(result); } ä¹Ÿå¯æŒ‡å®šä»»ä¸€æˆ–å¤šå€‹ Feature æ˜¯å¦æœ‰æ‰“é–‹  [FeatureGate(requirementType: RequirementType.Any, \u0026quot;FeatureA\u0026quot;, \u0026quot;FeatureB\u0026quot;)] public async Task\u0026lt;ActionResult\u0026gt; Foo() { return Ok(result); } ä¹Ÿå¯ä»¥ç”¨ Enum é¿å…å¼±å‹åˆ¥çš„typo  [FeatureGate(MyFeatureFlags.FeatureA)] public enum MyFeatureFlags { FeatureA } startup æ³¨å…¥  services.AddFeatureManagement() .AddFeatureFilter\u0026lt;TargetingFilter\u0026gt;(); ","permalink":"https://kyleap.github.io/feature-flag-dotnet-core-basic-timewindow/","summary":"æ‰¿æ¥ä¸Šä¸€ç¯‡ï¼Œå¦‚æœæœ‰ä¸€äº›æƒ…å¢ƒæ˜¯é™æ™‚é–‹æ”¾çš„åŠŸèƒ½ï¼Œæ™‚é–“éäº†ä»¥å¾Œå°±è¦é—œé–‰ï¼Œé‚£å°±å¯ä»¥ç”¨åˆ° TimeWindow\n appsettings.json  \u0026quot;FeatureManagement\u0026quot;: { \u0026quot;FeatureB\u0026quot;: { \u0026quot;EnabledFor\u0026quot;: [ { \u0026quot;Name\u0026quot;: \u0026quot;Microsoft.TimeWindow\u0026quot;, \u0026quot;Parameters\u0026quot;: { \u0026quot;Start\u0026quot;: \u0026quot;2020-11-09 04:58:00Z\u0026quot;, \u0026quot;End\u0026quot;: \u0026quot;2099-11-09 05:00:00Z\u0026quot; } } ] } } åŸºæœ¬çš„ Feature Toggle ä½¿ç”¨  var isFeatureAEnabled = await _featureManager.IsEnabledAsync(\u0026quot;FeatureA\u0026quot;); if(isFeatureAEnabled) { // æœ‰æ‰“é–‹ï¼Œèµ°æ–°é‚è¼¯ } else { // æœªæ‰“é–‹ï¼Œèµ°èˆŠé‚è¼¯ } API Route å¤šå€‹ä½¿ç”¨æ–¹å¼ï¼Œé©—è­‰ä¸éæœƒå›å‚³404  [FeatureGate(\u0026quot;FeatureA\u0026quot;)] public async Task\u0026lt;ActionResult\u0026gt; Foo() { return Ok(result); } ä¹Ÿå¯æŒ‡å®šä»»ä¸€æˆ–å¤šå€‹ Feature æ˜¯å¦æœ‰æ‰“é–‹  [FeatureGate(requirementType: RequirementType.Any, \u0026quot;FeatureA\u0026quot;, \u0026quot;FeatureB\u0026quot;)] public async Task\u0026lt;ActionResult\u0026gt; Foo() { return Ok(result); } ä¹Ÿå¯ä»¥ç”¨ Enum é¿å…å¼±å‹åˆ¥çš„typo  [FeatureGate(MyFeatureFlags.","title":"åœ¨ .NET Core ä½¿ç”¨ Feature Flag (Feature Toggle) - æ™‚é–“æ§åˆ¶"},{"content":"æœ€è¿‘é–‹ç™¼æµç¨‹å¾ Gitflow æ”¹ç‚º Trunk-Basedï¼Œè®“æ¯å€‹ Feature èƒ½å¾ˆå¿«é€Ÿåœ°å›åˆ°ä¸»å¹¹åˆ†æ”¯ï¼Œä½†é »ç¹äº¤ä»˜æœ‰æ™‚ä¹Ÿä¸æœƒæƒ³æŠŠæ–°åŠŸèƒ½æ¨å‡ºåœ¨ä½¿ç”¨è€…é¢å‰ï¼Œæ‰€ä»¥é€™æ™‚å€™å°±èƒ½ç”¨ Feature Flag ä¾†ç®¡ç†é€™äº›é‚„æ²’æœ‰è¦ç™¼ä½ˆçš„åŠŸèƒ½ï¼Œæœ¬ç¯‡æ–‡ç« è¨˜éŒ„ä¸€ä¸‹å¦‚ä½•åœ¨ .NET Core åŠ å…¥æ­¤åŠŸèƒ½ï¼Œä¸¦è¬›è§£ä¸€ä¸‹ç›®å‰å¯¦å‹™ä¸Šå¸¸è¦åŒ–çš„ Flag\n Nuget å®‰è£  dotnet add package Microsoft.FeatureManagement.AspNetCore åŠ å…¥ Feature Toggle  public void ConfigureServices(IServiceCollection services) { // feature toggle services.AddFeatureManagement(); services.AddControllers(); services.AddSwaggerGen(c =\u0026gt; { c.SwaggerDoc(\u0026quot;v1\u0026quot;, new OpenApiInfo {Title = \u0026quot;FeatureFlagPoc.API\u0026quot;, Version = \u0026quot;v1\u0026quot;}); }); } è¦ä½¿ç”¨æ™‚ç›´æ¥æ³¨å…¥  private readonly IFeatureManager _featureManager; public WeatherForecastController(ILogger\u0026lt;WeatherForecastController\u0026gt; logger, IFeatureManager featureManager) { _logger = logger; _featureManager = featureManager; } åŸºæœ¬çš„ Feature Toggle ä½¿ç”¨  var isFeatureAEnabled = await _featureManager.IsEnabledAsync(\u0026quot;FeatureA\u0026quot;); if(isFeatureAEnabled) { // æœ‰æ‰“é–‹ï¼Œèµ°æ–°é‚è¼¯ } else { // æœªæ‰“é–‹ï¼Œèµ°èˆŠé‚è¼¯ } appsettings.json  \u0026quot;FeatureManagement\u0026quot;: { \u0026quot;FeatureA\u0026quot;: true } API Route å¤šå€‹ä½¿ç”¨æ–¹å¼ï¼Œé©—è­‰ä¸éæœƒå›å‚³404  [FeatureGate(\u0026quot;FeatureA\u0026quot;)] public async Task\u0026lt;ActionResult\u0026gt; Foo() { return Ok(result); } ä¹Ÿå¯æŒ‡å®šä»»ä¸€æˆ–å¤šå€‹ Feature æ˜¯å¦æœ‰æ‰“é–‹  [FeatureGate(requirementType: RequirementType.Any, \u0026quot;FeatureA\u0026quot;, \u0026quot;FeatureB\u0026quot;)] public async Task\u0026lt;ActionResult\u0026gt; Foo() { return Ok(result); } ä¹Ÿå¯ä»¥ç”¨ Enum é¿å…å¼±å‹åˆ¥çš„typo  [FeatureGate(MyFeatureFlags.FeatureA)] public enum MyFeatureFlags { FeatureA } Toggle å®šç¾© æ­¤ç¯‡æ–‡ç« å€¼å¾—ä¸€çœ‹ï¼Œè£¡é¢æåˆ°å¯¦å‹™ä¸Šå¯ä»¥å®šç¾©å››ç¨® Toggle ä¾†å€åˆ¥ç”¨é€”\n Release Toggles: é‚„æœªå®Œæˆä¹‹åŠŸèƒ½, é€šå¸¸ Release toggles çš„è®Šå‹•é »ç‡æ‡‰è©²è¦æ˜¯ç›¸ç•¶å°çš„, ç­‰ç‰ˆæœ¬æ¨å‡ºå¾ŒåŠŸèƒ½ç©©å®šå¾Œå°±æœƒè¢«æ‹¿æ‰ï¼Œé¿å…é€ æˆæœªä¾†ç¶­è­·çš„æˆæœ¬ Experiment Toggles: ç”¨åœ¨åšA/B Testå¯¦é©—, å¦‚æˆ‘è‡ªå·±æœƒç”¨åœ¨ LineBot åšä¸åŒæ–‡æ¡ˆçš„è½‰åŒ–è¿½è¹¤ Ops Toggles: ç”¨åœ¨è·Ÿç³»çµ±é‹ç¶­ç›¸é—œ, å¯èƒ½éœ€è¦è‡¨æ™‚ä¸Šç¶­è­·å…¬å‘Šï¼Œæˆ–è€…æ˜¯è‡¨æ™‚è¦é–‹å•Ÿæ­¤ç¨‹å¼ç‰‡æ®µçš„ç³»çµ±ç›£æ§ Permission Toggles: ç”¨åœ¨é™å®šç‰¹å®šä½¿ç”¨è€…å¯ä»¥ä½¿ç”¨, é‡å°æœ‰æ¬Šé™æ§åˆ¶çš„åŠŸèƒ½åšé¡¯ç¤º/éš±è—  Reference https://github.com/microsoft/FeatureManagement-Dotnet\n","permalink":"https://kyleap.github.io/feature-flag-dotnet-core-basic/","summary":"æœ€è¿‘é–‹ç™¼æµç¨‹å¾ Gitflow æ”¹ç‚º Trunk-Basedï¼Œè®“æ¯å€‹ Feature èƒ½å¾ˆå¿«é€Ÿåœ°å›åˆ°ä¸»å¹¹åˆ†æ”¯ï¼Œä½†é »ç¹äº¤ä»˜æœ‰æ™‚ä¹Ÿä¸æœƒæƒ³æŠŠæ–°åŠŸèƒ½æ¨å‡ºåœ¨ä½¿ç”¨è€…é¢å‰ï¼Œæ‰€ä»¥é€™æ™‚å€™å°±èƒ½ç”¨ Feature Flag ä¾†ç®¡ç†é€™äº›é‚„æ²’æœ‰è¦ç™¼ä½ˆçš„åŠŸèƒ½ï¼Œæœ¬ç¯‡æ–‡ç« è¨˜éŒ„ä¸€ä¸‹å¦‚ä½•åœ¨ .NET Core åŠ å…¥æ­¤åŠŸèƒ½ï¼Œä¸¦è¬›è§£ä¸€ä¸‹ç›®å‰å¯¦å‹™ä¸Šå¸¸è¦åŒ–çš„ Flag\n Nuget å®‰è£  dotnet add package Microsoft.FeatureManagement.AspNetCore åŠ å…¥ Feature Toggle  public void ConfigureServices(IServiceCollection services) { // feature toggle services.AddFeatureManagement(); services.AddControllers(); services.AddSwaggerGen(c =\u0026gt; { c.SwaggerDoc(\u0026quot;v1\u0026quot;, new OpenApiInfo {Title = \u0026quot;FeatureFlagPoc.API\u0026quot;, Version = \u0026quot;v1\u0026quot;}); }); } è¦ä½¿ç”¨æ™‚ç›´æ¥æ³¨å…¥  private readonly IFeatureManager _featureManager; public WeatherForecastController(ILogger\u0026lt;WeatherForecastController\u0026gt; logger, IFeatureManager featureManager) { _logger = logger; _featureManager = featureManager; } åŸºæœ¬çš„ Feature Toggle ä½¿ç”¨  var isFeatureAEnabled = await _featureManager.","title":"åœ¨ .NET Core ä½¿ç”¨ Feature Flag (Feature Toggle)"},{"content":" ä¸€å€‹è·‘é€²è¨­è¨ˆå­¸é™¢çš„å·¥ç¨‹å¸«\n ç›®å‰æ–¼è£½é€ æ¥­æ“”ä»» Product Ownerï¼Œæ›¾ä»» 2014-2018 å¾®è»Ÿæœ€æœ‰åƒ¹å€¼å°ˆå®¶ (Microsoft MVP)ï¼ŒæœŸæœ›èƒ½åˆ©ç”¨ ITåŠ›é‡æ”¹è®Šä¸–ç•Œã€‚ä»»è·éè»Ÿé«”ã€æ•™è‚²ã€ç‰©æµç”¢æ¥­â€¦ç­‰ï¼Œä¾æ“šä¸åŒç”¢æ¥­çš„ç¶“é©—ï¼Œä»¥ä½¿ç”¨è€…è§’åº¦æ€ç¶­å‡ºç™¼è¨­è¨ˆæˆå¯è¡Œæ€§çš„è³‡è¨Šæ¶æ§‹ã€‚èˆ‡å‹äººç¶“ç‡Ÿ Study4.TW æŠ€è¡“ç¤¾ç¾¤ï¼Œå®šæœŸèˆ‰è¾¦å„ç¨®é ˜åŸŸçš„æŠ€è¡“ç ”è¨æœƒï¼Œåœ¨åœ˜éšŠè£¡æ¨‚æ–¼åˆ†äº«æŠ€è¡“ï¼Œç›¸ä¿¡èˆ‡äººåˆ†äº«çš„åŒæ™‚ï¼Œæœƒè‡ªå·±èƒ½å¸¶ä¾†æ›´å¤šã€‚\nLinkedin : https://www.linkedin.com/in/kyleshen-net\n ç·šä¸Šèª²ç¨‹\n  ç”¨ Python å¿«é€Ÿæ‰“é€  8 æ¬¾ LINE Bot ç”Ÿæ´»åŠ©ç† (https://hiskio.com/fundraising/602/about?s=tc) æ´»ç”¨ Line Bot + å•†æ¥­æ€ç¶­æ‰“é€  MVP ç”¢å“ï¼ (https://hiskio.com/courses/588/about)   æ¼”è¬›ç¶“æ­·\n  2022 .NET Conf Taiwan - è¬›å¸« (é‚£äº›å¹´ç”¨ Azure Boards äº¤ä»˜éçš„ç”¢å“) 2022 LINE TAIWAN TECHPULSE 2022 Startup Demo 2021 .NET Conf Taiwan - æ´»å‹•ç­–åŠƒå°çµ„ 2021 MOPCON UnConf - è¬›å¸« (è¡Œå‹•åŒ–è§£æ±ºæ–¹æ¡ˆçš„æŠ€è¡“é¸å‹ï¼Œäº¤çµ¦ Line Bot ä¾†æå®š) 2021 å…­è§’å­¸é™¢ã€Œå¤§ç¥ä¾†å…­è§’ã€ - è¬›å¸« (ç”¨ Line Bot ä¾†æ‰“é€  MVP ç”¢å“) 2020 .NET Conf Taiwan - è¬›å¸« (ç”¨.NET Core ä¾†é–‹ç™¼.NET Conf 2020 Lineæ´»å‹•æ©Ÿå™¨äºº) 2020 å¾®è»Ÿäºå¤ªæŠ€è¡“å¹´æœƒ - DevDays Asia Online è¬›å¸« 2019 Microsoft AI Day - è¬›å¸« 2019 å¾®è»Ÿäºå¤ªæŠ€è¡“å¹´æœƒ - DevDays Asiaè¬›å¸« 2019 ESHç’°å®‰è¡›å¹´åº¦é«˜å³°æœƒè¬›å¸« 2018 ESHç’°å®‰è¡›å¹´åº¦é«˜å³°æœƒè¬›å¸« 2018 Insider Dev Tour @ å°åŒ— - è¬›å¸« (ç„¡ä¼ºæœå™¨æ¶æ§‹èˆ‡ Azure Functions) 2018 Azure Bootcamp @ åŒ—äº¬ - è¬›å¸« (å¿«é€Ÿå»ºç«‹WebæœåŠ¡ - ä½¿ç”¨Azure Function) 2017 Study4.TW-Dec-2017 @ å°åŒ— - è¬›å¸« (.NET Core èˆ‡ Angular ä¹‹ä½ å„‚æˆ‘å„‚) 2016 ç•¶ASP.NET MVCé‡è¦‹Angular.js MVC @ å°ä¸­ - è¬›å¸« 2016 Study4Love @ å°ä¸­ - è¬›å¸« (Cordova with Ionic) 2015 Global Azure Bootcamp @å°ä¸­ - è¬›å¸« (Auzre Website) 2015 Apache Cordova ( PhoneGap ) é–‹ç™¼ @å°ä¸­ - è¬›å¸«   Study4\n Study4 æˆç«‹æ–¼2011/9/25ï¼Œæˆ‘å€‘å¸Œæœ›è—‰ç”±ç¤¾ç¾¤æ¨å»£çš„åŠ›é‡ï¼Œä¾†è®“å°ä¸‹çš„æœ‹å‹è½åˆ°ä¾†è‡ªä¸åŒç¸£å¸‚çš„å¤§å¸«è¬›èª²ï¼Œä¹Ÿè®“å°ä¸Šå¹´è¼•ä¸€è¼©çš„æŠ€è¡“å‚³æ•™å£«èƒ½ä¸æ–·çš„ç¢ç£¨ä¸¦ä¸”è¿½ä¸Šå¤§å¸«ï¼Œé€™æ˜¯ä¸€å€‹ç¤¾ç¾¤ï¼Œæˆ‘å€‘å¸Œæœ›é€éåˆ†äº«ï¼Œçµ¦åé åœ°å€ã€å¹´è¼•ä¸€è¼©ã€æ¯ä¸€å€‹äººï¼Œå¤šé‚£éº¼ä¸€é»æ©Ÿæœƒ\nhttps://study4.tw/\n","permalink":"https://kyleap.github.io/kyleshen/","summary":"ä¸€å€‹è·‘é€²è¨­è¨ˆå­¸é™¢çš„å·¥ç¨‹å¸«\n ç›®å‰æ–¼è£½é€ æ¥­æ“”ä»» Product Ownerï¼Œæ›¾ä»» 2014-2018 å¾®è»Ÿæœ€æœ‰åƒ¹å€¼å°ˆå®¶ (Microsoft MVP)ï¼ŒæœŸæœ›èƒ½åˆ©ç”¨ ITåŠ›é‡æ”¹è®Šä¸–ç•Œã€‚ä»»è·éè»Ÿé«”ã€æ•™è‚²ã€ç‰©æµç”¢æ¥­â€¦ç­‰ï¼Œä¾æ“šä¸åŒç”¢æ¥­çš„ç¶“é©—ï¼Œä»¥ä½¿ç”¨è€…è§’åº¦æ€ç¶­å‡ºç™¼è¨­è¨ˆæˆå¯è¡Œæ€§çš„è³‡è¨Šæ¶æ§‹ã€‚èˆ‡å‹äººç¶“ç‡Ÿ Study4.TW æŠ€è¡“ç¤¾ç¾¤ï¼Œå®šæœŸèˆ‰è¾¦å„ç¨®é ˜åŸŸçš„æŠ€è¡“ç ”è¨æœƒï¼Œåœ¨åœ˜éšŠè£¡æ¨‚æ–¼åˆ†äº«æŠ€è¡“ï¼Œç›¸ä¿¡èˆ‡äººåˆ†äº«çš„åŒæ™‚ï¼Œæœƒè‡ªå·±èƒ½å¸¶ä¾†æ›´å¤šã€‚\nLinkedin : https://www.linkedin.com/in/kyleshen-net\n ç·šä¸Šèª²ç¨‹\n  ç”¨ Python å¿«é€Ÿæ‰“é€  8 æ¬¾ LINE Bot ç”Ÿæ´»åŠ©ç† (https://hiskio.com/fundraising/602/about?s=tc) æ´»ç”¨ Line Bot + å•†æ¥­æ€ç¶­æ‰“é€  MVP ç”¢å“ï¼ (https://hiskio.com/courses/588/about)   æ¼”è¬›ç¶“æ­·\n  2022 .NET Conf Taiwan - è¬›å¸« (é‚£äº›å¹´ç”¨ Azure Boards äº¤ä»˜éçš„ç”¢å“) 2022 LINE TAIWAN TECHPULSE 2022 Startup Demo 2021 .NET Conf Taiwan - æ´»å‹•ç­–åŠƒå°çµ„ 2021 MOPCON UnConf - è¬›å¸« (è¡Œå‹•åŒ–è§£æ±ºæ–¹æ¡ˆçš„æŠ€è¡“é¸å‹ï¼Œäº¤çµ¦ Line Bot ä¾†æå®š) 2021 å…­è§’å­¸é™¢ã€Œå¤§ç¥ä¾†å…­è§’ã€ - è¬›å¸« (ç”¨ Line Bot ä¾†æ‰“é€  MVP ç”¢å“) 2020 .","title":"Kyle Shen"},{"content":"Azure Static Web App æ˜¯ä»€éº¼? åœ¨ä»Šå¹´ 5 æœˆ Azure æ¨å‡ºäº† Azure Static Web App çš„æœå‹™ï¼Œå¦‚æœè¦ä¸€å¥è©±ä¾†èªªï¼Œå»ºç«‹æ­¤æœå‹™æ™‚ï¼Œå¯ä»¥ä¸€ä½µè¨­å®šèˆ‡ Github or Azure DevOps é€£çµï¼Œåœ¨æ¯æ¬¡ Commit çš„æ™‚å€™ï¼Œå°±èƒ½ç›´æ¥å°‡å‰ç«¯æ‡‰ç”¨ç¨‹å¼ä½ˆç½²åˆ°Azureï¼Œå¤§å¤§çš„å¢åŠ é–‹ç™¼é«”é©—ã€‚é™¤äº†éœæ…‹çš„ HTMLã€CSSã€JavaScriptï¼Œæ”¯æ´ä¸»æµæ¡†æ¶ React/Angular/Vue.jsï¼Œä¹Ÿæ”¯æ´ç”¨ C# æ’°å¯« SPA çš„æ¡†æ¶ Blazorï¼Œæ”¯æ´çš„å‰ç«¯æ¡†æ¶å¯ä»¥åˆ°æ­¤é€£çµï¼Œå¾Œç«¯å¯æ­é… Azure çš„ Serverless æœå‹™ (Azure Function) ä¾†å¯¦ç¾ Api çš„ä¸²æ¥ï¼Œé€é Reverse-Proxy ä¹Ÿçœå»çš„ CORS çš„è¨­å®š\nAzure Static Web App çš„åƒ¹æ ¼ åœ¨å…è²»çš„æ–¹æ¡ˆï¼Œå³æä¾› SSL çš„ Hostingï¼ŒåŠ 2 å€‹è‡ªè¨‚ç¶²åŸŸï¼Œå¯æ–¼ DNS Server è¨­å®š cnameï¼Œä¹Ÿå¯ä½ˆç½²ä½ çš„å¾Œç«¯ç¨‹å¼æ–¼ Azure Function æ­é…å‰å¾Œç«¯ä¸²æ¥ï¼Œäº«æœ‰ 100 è¬å€‹ Request çš„å…è²»é¡åº¦\nç™¼ä½ˆ LINE Liff App åˆ° Azure Static Web App LIFF å…¨åæ˜¯ LINE Front-end Frameworkï¼Œä¸€å€‹å¯ä»¥åœ¨ LINE App å…§é‹ä½œçš„ç¶²é ç¨‹å¼ï¼Œå¯ä»¥å°‡ä¸€äº›ä¸é©åˆå°è©±å¼çš„æƒ…å¢ƒï¼Œçµåˆæ–¼ Line App è£¡é¢ï¼Œé”æˆä¸€è‡´çš„é«”é©—ï¼Œä¹Ÿå› ç‚ºæ˜¯ Liff App æ˜¯å…¨å‰ç«¯å¯¦ç¾ï¼Œæ‰€ä»¥å¾ˆé©åˆç™¼ä½ˆåˆ° Azure Static Web Appï¼Œä»¥ä¸‹ç”¨å®˜æ–¹çš„ Liff Starter ä¾†åšä¸€å€‹éƒ¨å±¬ç¤ºç¯„ https://github.com/line/line-liff-v2-starter\nFork Liff Starter Repo æ–¼ Azure å»ºç«‹ Azure Static Web App ç™»å…¥ Github å®Œæˆé©—è­‰ é¸æ“‡ Repo èˆ‡ Branch é¸æ“‡ Frameworks  é¸æ“‡ä¸åŒçš„Framework æœƒå½±éŸ¿ Github Action è¨­å®šçš„ build commandï¼Œæ­¤ä¾‹ç‚ºå–®ç´”çš„ JavaScriptï¼Œæ•…é¸æ“‡Customï¼ŒRoot è¨­å®šç‚º /public\n å»ºç«‹å¾Œ Github Action æœƒåŒæ­¥å®Œæˆ CI è¨­å®šä¸¦é–‹å§‹ç™¼ä½ˆ ç€è¦½å®Œæˆå¾Œçš„éƒ¨ç½²  å‡ºç¾æ­¤ç•«é¢ä»£è¡¨æ­£å¸¸ï¼Œå› ç‚ºæˆ‘å€‘é‚„æœªæŒ‡å®š LIFF ID\n å»ºç«‹ Liff App åˆ° https://developers.line.biz/ å¾Œå°ï¼Œæ–¼ Provider åº•ä¸‹å»ºç«‹ä¸€å€‹ Line Login æœå‹™ (è¨˜å¾— Bot è·Ÿ Line Login è¦åœ¨åŒä¸€å€‹ Provider åº•ä¸‹) å°‡ LIFF ID è¤‡è£½èµ·ä¾†ï¼ŒLIFF URL å°±æ˜¯å¾…æœƒæˆ‘å€‘è¦è§¸ç™¼çš„ç¶²å€ ä¿®æ”¹ç¨‹å¼ä¸¦ Commit\nLIFF Starter é€™å€‹ Repo æˆ‘å€‘è¦æ”¹å…©å€‹åœ°æ–¹ï¼Œä¸€å€‹æ˜¯å°‡ userNodeJS æ”¹ç‚º false (å› ç‚ºæˆ‘å€‘æ˜¯è·‘ static ç«™å°)ï¼ŒdefaultLiffId æ”¹ç‚ºå‰›å‰›è¤‡è£½çš„ LIFF ID\nCommit å¾Œå¯ä»¥çœ‹åˆ° CI ä¹ŸåŒæ™‚è§¸ç™¼\nç€è¦½çµæœ\nå°çµ ç”¨ Azure Static Web App æˆ‘è¦ºå¾—æœ‰ä¸‰å¤§å¥½è™• ğŸ“Œ å…è²»çš„ Hosting, SSL ğŸ“Œ å¾Repoå‡ºç™¼è‡ªå‹•å»ºç«‹å¥½ Github Action CI/CDï¼Œå°ˆæ³¨åœ¨å¯«codeå°±å¥½ ğŸ“Œ æ–¹ä¾¿æ•´åˆ Azure Serverless (Azure Function) æœå‹™ä¹Ÿèƒ½é–‹ç™¼å¾Œç«¯ Api (æ¯æœˆæœ‰ 100 è¬ Request å…è²»)\nåƒè€ƒé€£çµ  Azure Static Web https://azure.microsoft.com/zh-tw/services/app-service/static/ Line LIFF Starter https://github.com/line/line-liff-v2-starter  ","permalink":"https://kyleap.github.io/liff-app-deploy-azure-static-web/","summary":"Azure Static Web App æ˜¯ä»€éº¼? åœ¨ä»Šå¹´ 5 æœˆ Azure æ¨å‡ºäº† Azure Static Web App çš„æœå‹™ï¼Œå¦‚æœè¦ä¸€å¥è©±ä¾†èªªï¼Œå»ºç«‹æ­¤æœå‹™æ™‚ï¼Œå¯ä»¥ä¸€ä½µè¨­å®šèˆ‡ Github or Azure DevOps é€£çµï¼Œåœ¨æ¯æ¬¡ Commit çš„æ™‚å€™ï¼Œå°±èƒ½ç›´æ¥å°‡å‰ç«¯æ‡‰ç”¨ç¨‹å¼ä½ˆç½²åˆ°Azureï¼Œå¤§å¤§çš„å¢åŠ é–‹ç™¼é«”é©—ã€‚é™¤äº†éœæ…‹çš„ HTMLã€CSSã€JavaScriptï¼Œæ”¯æ´ä¸»æµæ¡†æ¶ React/Angular/Vue.jsï¼Œä¹Ÿæ”¯æ´ç”¨ C# æ’°å¯« SPA çš„æ¡†æ¶ Blazorï¼Œæ”¯æ´çš„å‰ç«¯æ¡†æ¶å¯ä»¥åˆ°æ­¤é€£çµï¼Œå¾Œç«¯å¯æ­é… Azure çš„ Serverless æœå‹™ (Azure Function) ä¾†å¯¦ç¾ Api çš„ä¸²æ¥ï¼Œé€é Reverse-Proxy ä¹Ÿçœå»çš„ CORS çš„è¨­å®š\nAzure Static Web App çš„åƒ¹æ ¼ åœ¨å…è²»çš„æ–¹æ¡ˆï¼Œå³æä¾› SSL çš„ Hostingï¼ŒåŠ 2 å€‹è‡ªè¨‚ç¶²åŸŸï¼Œå¯æ–¼ DNS Server è¨­å®š cnameï¼Œä¹Ÿå¯ä½ˆç½²ä½ çš„å¾Œç«¯ç¨‹å¼æ–¼ Azure Function æ­é…å‰å¾Œç«¯ä¸²æ¥ï¼Œäº«æœ‰ 100 è¬å€‹ Request çš„å…è²»é¡åº¦\nç™¼ä½ˆ LINE Liff App åˆ° Azure Static Web App LIFF å…¨åæ˜¯ LINE Front-end Frameworkï¼Œä¸€å€‹å¯ä»¥åœ¨ LINE App å…§é‹ä½œçš„ç¶²é ç¨‹å¼ï¼Œå¯ä»¥å°‡ä¸€äº›ä¸é©åˆå°è©±å¼çš„æƒ…å¢ƒï¼Œçµåˆæ–¼ Line App è£¡é¢ï¼Œé”æˆä¸€è‡´çš„é«”é©—ï¼Œä¹Ÿå› ç‚ºæ˜¯ Liff App æ˜¯å…¨å‰ç«¯å¯¦ç¾ï¼Œæ‰€ä»¥å¾ˆé©åˆç™¼ä½ˆåˆ° Azure Static Web Appï¼Œä»¥ä¸‹ç”¨å®˜æ–¹çš„ Liff Starter ä¾†åšä¸€å€‹éƒ¨å±¬ç¤ºç¯„ https://github.","title":"å°‡ Line Liff App ç™¼ä½ˆåˆ°å…è²»çš„ Azure Static Web App"},{"content":"é€™æ˜¯æˆ‘è‡ªå·±æ•´ç†çš„ Line Message Api Postman Collections\nä»»ä½•äººåªè¦ Import å¾Œä¿®æ”¹å³å¯ç›´æ¥èª¿ç”¨æ¸¬è©¦\nè©³ç´°å…§å®¹è«‹è¦‹æˆ‘çš„ Github Repo: https://github.com/kyleap/line-message-api-postman\n","permalink":"https://kyleap.github.io/line-message-api-postman-collections/","summary":"é€™æ˜¯æˆ‘è‡ªå·±æ•´ç†çš„ Line Message Api Postman Collections\nä»»ä½•äººåªè¦ Import å¾Œä¿®æ”¹å³å¯ç›´æ¥èª¿ç”¨æ¸¬è©¦\nè©³ç´°å…§å®¹è«‹è¦‹æˆ‘çš„ Github Repo: https://github.com/kyleap/line-message-api-postman","title":"Line Message Api Postman Collections"},{"content":"Flex Message æ˜¯ Line é€é JSON æ ¼å¼æ‰€å¯¦ç¾çš„å‹•æ…‹è¨Šæ¯ï¼Œå¯ä»¥çµ„å‡ºå„ç¨®è¨Šæ¯æ ¼å¼ï¼Œä¸”æ¯”èµ· Template Messageï¼ŒFlex Message ä¹Ÿæ”¯æ´ Line é›»è…¦ç‰ˆï¼Œæ•…ç¾åœ¨åœ¨å¯« Line Bot çš„æ™‚å€™ï¼Œç¬¬ä¸€è€ƒé‡å°±æœƒç”¨ Flex ä¾†è‡ªè¨‚ä¸€äº›è¼ƒç‰¹åˆ¥çš„è¨Šæ¯ï¼Œå®˜ç¶²æä¾›å…©å€‹ GUI å·¥å…·ä¾†å¿«é€Ÿæ‹‰ Flex çš„è¨Šæ¯ï¼š\n Bot Designer Flex Simulator  æˆ‘è‡ªå·±æ¯”è¼ƒå¸¸ç”¨æ˜¯ç¬¬äºŒå€‹ï¼Œå®˜ç¶²å·²ç¶“å¾ˆå¤šçš„ç¯„æœ¬æä¾›å¥—å…¥\nä¸”ç›®å‰æ”¯æ´å¾ˆæ–¹ä¾¿çš„åŠŸèƒ½ï¼Œå¯ä»¥ç›´æ¥ç™¼åˆ°æ‰‹æ©Ÿè£ç½®ç€è¦½çµæœ\nåœ¨ Flex çš„ image é¡å‹æ˜¯å¯æ”¯æ´æ”¾å…¥ .APNG æ ¼å¼åœ–ç‰‡çš„å‹•ç•«ï¼Œé€éä»¥ä¸‹ç¶²ç«™å¯ä»¥å°‡ Git è½‰æˆ .APNG æ ¼å¼\nhttps://ezgif.com/gif-to-apng\nDemo Flex ç¯„ä¾‹ { \u0026quot;type\u0026quot;: \u0026quot;bubble\u0026quot;, \u0026quot;body\u0026quot;: { \u0026quot;type\u0026quot;: \u0026quot;box\u0026quot;, \u0026quot;layout\u0026quot;: \u0026quot;vertical\u0026quot;, \u0026quot;contents\u0026quot;: [ { \u0026quot;type\u0026quot;: \u0026quot;image\u0026quot;, \u0026quot;url\u0026quot;: \u0026quot;https://apng.onevcat.com/assets/elephant.png\u0026quot;, \u0026quot;size\u0026quot;: \u0026quot;full\u0026quot;, \u0026quot;aspectMode\u0026quot;: \u0026quot;cover\u0026quot;, \u0026quot;aspectRatio\u0026quot;: \u0026quot;1:1\u0026quot;, \u0026quot;gravity\u0026quot;: \u0026quot;center\u0026quot; }, { \u0026quot;type\u0026quot;: \u0026quot;box\u0026quot;, \u0026quot;layout\u0026quot;: \u0026quot;vertical\u0026quot;, \u0026quot;contents\u0026quot;: [], \u0026quot;position\u0026quot;: \u0026quot;absolute\u0026quot;, \u0026quot;background\u0026quot;: { \u0026quot;type\u0026quot;: \u0026quot;linearGradient\u0026quot;, \u0026quot;angle\u0026quot;: \u0026quot;0deg\u0026quot;, \u0026quot;endColor\u0026quot;: \u0026quot;#00000000\u0026quot;, \u0026quot;startColor\u0026quot;: \u0026quot;#00000099\u0026quot; }, \u0026quot;width\u0026quot;: \u0026quot;100%\u0026quot;, \u0026quot;height\u0026quot;: \u0026quot;40%\u0026quot;, \u0026quot;offsetBottom\u0026quot;: \u0026quot;0px\u0026quot;, \u0026quot;offsetStart\u0026quot;: \u0026quot;0px\u0026quot;, \u0026quot;offsetEnd\u0026quot;: \u0026quot;0px\u0026quot; }, { \u0026quot;type\u0026quot;: \u0026quot;box\u0026quot;, \u0026quot;layout\u0026quot;: \u0026quot;horizontal\u0026quot;, \u0026quot;contents\u0026quot;: [ { \u0026quot;type\u0026quot;: \u0026quot;box\u0026quot;, \u0026quot;layout\u0026quot;: \u0026quot;vertical\u0026quot;, \u0026quot;contents\u0026quot;: [ { \u0026quot;type\u0026quot;: \u0026quot;box\u0026quot;, \u0026quot;layout\u0026quot;: \u0026quot;horizontal\u0026quot;, \u0026quot;contents\u0026quot;: [ { \u0026quot;type\u0026quot;: \u0026quot;text\u0026quot;, \u0026quot;text\u0026quot;: \u0026quot;APNG Demo\u0026quot;, \u0026quot;size\u0026quot;: \u0026quot;xl\u0026quot;, \u0026quot;color\u0026quot;: \u0026quot;#ffffff\u0026quot; } ] } ], \u0026quot;spacing\u0026quot;: \u0026quot;xs\u0026quot; } ], \u0026quot;position\u0026quot;: \u0026quot;absolute\u0026quot;, \u0026quot;offsetBottom\u0026quot;: \u0026quot;0px\u0026quot;, \u0026quot;offsetStart\u0026quot;: \u0026quot;0px\u0026quot;, \u0026quot;offsetEnd\u0026quot;: \u0026quot;0px\u0026quot;, \u0026quot;paddingAll\u0026quot;: \u0026quot;20px\u0026quot; } ], \u0026quot;paddingAll\u0026quot;: \u0026quot;0px\u0026quot; } } \u0026ndash;\nFlex Message Image https://developers.line.biz/en/reference/messaging-api/#f-image\n","permalink":"https://kyleap.github.io/2021-07-11-line-flex-message-animation/","summary":"Flex Message æ˜¯ Line é€é JSON æ ¼å¼æ‰€å¯¦ç¾çš„å‹•æ…‹è¨Šæ¯ï¼Œå¯ä»¥çµ„å‡ºå„ç¨®è¨Šæ¯æ ¼å¼ï¼Œä¸”æ¯”èµ· Template Messageï¼ŒFlex Message ä¹Ÿæ”¯æ´ Line é›»è…¦ç‰ˆï¼Œæ•…ç¾åœ¨åœ¨å¯« Line Bot çš„æ™‚å€™ï¼Œç¬¬ä¸€è€ƒé‡å°±æœƒç”¨ Flex ä¾†è‡ªè¨‚ä¸€äº›è¼ƒç‰¹åˆ¥çš„è¨Šæ¯ï¼Œå®˜ç¶²æä¾›å…©å€‹ GUI å·¥å…·ä¾†å¿«é€Ÿæ‹‰ Flex çš„è¨Šæ¯ï¼š\n Bot Designer Flex Simulator  æˆ‘è‡ªå·±æ¯”è¼ƒå¸¸ç”¨æ˜¯ç¬¬äºŒå€‹ï¼Œå®˜ç¶²å·²ç¶“å¾ˆå¤šçš„ç¯„æœ¬æä¾›å¥—å…¥\nä¸”ç›®å‰æ”¯æ´å¾ˆæ–¹ä¾¿çš„åŠŸèƒ½ï¼Œå¯ä»¥ç›´æ¥ç™¼åˆ°æ‰‹æ©Ÿè£ç½®ç€è¦½çµæœ\nåœ¨ Flex çš„ image é¡å‹æ˜¯å¯æ”¯æ´æ”¾å…¥ .APNG æ ¼å¼åœ–ç‰‡çš„å‹•ç•«ï¼Œé€éä»¥ä¸‹ç¶²ç«™å¯ä»¥å°‡ Git è½‰æˆ .APNG æ ¼å¼\nhttps://ezgif.com/gif-to-apng\nDemo Flex ç¯„ä¾‹ { \u0026quot;type\u0026quot;: \u0026quot;bubble\u0026quot;, \u0026quot;body\u0026quot;: { \u0026quot;type\u0026quot;: \u0026quot;box\u0026quot;, \u0026quot;layout\u0026quot;: \u0026quot;vertical\u0026quot;, \u0026quot;contents\u0026quot;: [ { \u0026quot;type\u0026quot;: \u0026quot;image\u0026quot;, \u0026quot;url\u0026quot;: \u0026quot;https://apng.onevcat.com/assets/elephant.png\u0026quot;, \u0026quot;size\u0026quot;: \u0026quot;full\u0026quot;, \u0026quot;aspectMode\u0026quot;: \u0026quot;cover\u0026quot;, \u0026quot;aspectRatio\u0026quot;: \u0026quot;1:1\u0026quot;, \u0026quot;gravity\u0026quot;: \u0026quot;center\u0026quot; }, { \u0026quot;type\u0026quot;: \u0026quot;box\u0026quot;, \u0026quot;layout\u0026quot;: \u0026quot;vertical\u0026quot;, \u0026quot;contents\u0026quot;: [], \u0026quot;position\u0026quot;: \u0026quot;absolute\u0026quot;, \u0026quot;background\u0026quot;: { \u0026quot;type\u0026quot;: \u0026quot;linearGradient\u0026quot;, \u0026quot;angle\u0026quot;: \u0026quot;0deg\u0026quot;, \u0026quot;endColor\u0026quot;: \u0026quot;#00000000\u0026quot;, \u0026quot;startColor\u0026quot;: \u0026quot;#00000099\u0026quot; }, \u0026quot;width\u0026quot;: \u0026quot;100%\u0026quot;, \u0026quot;height\u0026quot;: \u0026quot;40%\u0026quot;, \u0026quot;offsetBottom\u0026quot;: \u0026quot;0px\u0026quot;, \u0026quot;offsetStart\u0026quot;: \u0026quot;0px\u0026quot;, \u0026quot;offsetEnd\u0026quot;: \u0026quot;0px\u0026quot; }, { \u0026quot;type\u0026quot;: \u0026quot;box\u0026quot;, \u0026quot;layout\u0026quot;: \u0026quot;horizontal\u0026quot;, \u0026quot;contents\u0026quot;: [ { \u0026quot;type\u0026quot;: \u0026quot;box\u0026quot;, \u0026quot;layout\u0026quot;: \u0026quot;vertical\u0026quot;, \u0026quot;contents\u0026quot;: [ { \u0026quot;type\u0026quot;: \u0026quot;box\u0026quot;, \u0026quot;layout\u0026quot;: \u0026quot;horizontal\u0026quot;, \u0026quot;contents\u0026quot;: [ { \u0026quot;type\u0026quot;: \u0026quot;text\u0026quot;, \u0026quot;text\u0026quot;: \u0026quot;APNG Demo\u0026quot;, \u0026quot;size\u0026quot;: \u0026quot;xl\u0026quot;, \u0026quot;color\u0026quot;: \u0026quot;#ffffff\u0026quot; } ] } ], \u0026quot;spacing\u0026quot;: \u0026quot;xs\u0026quot; } ], \u0026quot;position\u0026quot;: \u0026quot;absolute\u0026quot;, \u0026quot;offsetBottom\u0026quot;: \u0026quot;0px\u0026quot;, \u0026quot;offsetStart\u0026quot;: \u0026quot;0px\u0026quot;, \u0026quot;offsetEnd\u0026quot;: \u0026quot;0px\u0026quot;, \u0026quot;paddingAll\u0026quot;: \u0026quot;20px\u0026quot; } ], \u0026quot;paddingAll\u0026quot;: \u0026quot;0px\u0026quot; } } \u0026ndash;","title":"Line Flex Message å‚³é€å‹•ç•«è¨Šæ¯ï¼Œè®“è¨Šæ¯æ›´ç”Ÿå‹•"},{"content":"Rich Menu åœ–æ–‡é¸å–®æ˜¯ä»€éº¼? å¯« Chatbot å¼•å°å¾ˆé‡è¦ï¼Œåœ¨ Line è£¡é¢æœ‰ RichMenu å¯ä»¥ç”¨ï¼Œè®“ä½¿ç”¨è€…å¯ä»¥å¿«é€Ÿçš„é»æ“Šå¸¸ç”¨åŠŸèƒ½ï¼Œè¦å¦‚ä½•å»ºç«‹ RichMenu å‘¢? å¿«é€Ÿä¸ç”¨å¯«ç¨‹å¼çš„æ–¹å¼æ˜¯é€é Official Account è¨­å®š\nä½ å¯é¸æ“‡å·²ç¶“é è¨­å¥½çš„ç‰ˆå‹ï¼Œä¸¦é‡å°æ¯å€‹å€å¡Šè¨­å®šè¦åŸ·è¡Œçš„å‹•ä½œ\nä½†å¦‚æœæ˜¯é€é Message Api çš„è©±ï¼Œå¯ä»¥è¨­å®šçš„å‹•ä½œå°±æ›´å½ˆæ€§äº†ï¼Œä¸€å¼µåœ–ç¸½å…±å¯ä»¥è¨­å®š 20 å€‹ Actionsï¼Œå¯ä»¥åšå¾—äº‹å°±æ›´å¤šäº†ã€‚è¦é€é Message Api æ–°å¢ä¸€å€‹ Rich Menuï¼Œæœ‰ä»¥ä¸‹æ­¥é©Ÿ\n æ–°å¢ä¸€å€‹é¸å–® ä¸Šå‚³è©²é¸å–®çš„åœ–æª”   æˆ‘æ•´ç†äº†Rich Menuç›¸é—œçš„ postman collections åªè¦å°‡ç’°å¢ƒè®Šæ•¸ {{botAcceccToken}} è¨­ç‚ºä½  Channel çš„ Access Token å¯ç›´æ¥åŒ¯å…¥ä½¿ç”¨ï¼š https://www.getpostman.com/collections/f090d101b7e08e411f12\n æ–¹æ³•1: é€é Postman ä¾†ä¸Šå‚³ Rich Menu åœ¨ä¸Šé¢çš„ postman collectionsï¼Œä½ å¯ä»¥ä½¿ç”¨ Create Rich Menu ä¾†æ–°å¢ï¼ŒæˆåŠŸçš„è©±æœƒå›å‚³ RichMenuID\né‚£é€™å€‹ Post çš„ JSON æ€éº¼ç”¢ç”Ÿå‘¢ï¼Ÿåœ¨ NET 5 ä½ å¯ä»¥ç›´æ¥å®‰è£æˆ‘çš„ NetCoreLineBotSDK é€éç‰©ä»¶çš„æ–¹å¼ç›´æ¥ç”¢ç”Ÿ Api æ‰€éœ€è¦çš„ JSON Requestï¼Œä¸Ÿåˆ° postman è£¡é¢\nvar sampleMenu = new RichmenuDetail(); sampleMenu.size = new CreateSize(1200, 810); sampleMenu.selected = true; // æ˜¯å¦ç‚ºé è¨­é¸å–® sampleMenu.name = \u0026quot;sampleMenu\u0026quot;; // é¸å–®åç¨± sampleMenu.chatBarText = \u0026quot;More\u0026quot;; // é¸å–®æ–‡å­— sampleMenu.areas = new List\u0026lt;CreateArea\u0026gt;() // é»æ“Šå€åŸŸè¦åŸ·è¡Œçš„Action { new CreateArea(boundx:0,boundy:0,width:1200,height:810, _action: new MessageAction(\u0026quot;Hello Rich Menu!\u0026quot;)) }; var postJson = JsonConvert.SerializeObject(sampleMenu, new JsonSerializerSettings { NullValueHandling = NullValueHandling.Ignore, ContractResolver = new DefaultContractResolver { NamingStrategy = new CamelCaseNamingStrategy() } }); æˆ–è€…æ˜¯é€™å€‹æ­¥é©Ÿå¯ä»¥ç”¨ Bot Designer å·¥å…·ï¼Œå¯ä»¥ç›´æ¥ç”¨åŒ¡åˆ—çš„æ–¹å¼è¨­å®šå¥½ï¼Œä¸¦ç›´æ¥ç”¢ç”ŸJSON\næ¥è‘—é€é postman collections Upload Rich Menu Images ä½ å¯ä»¥æ–¼ URI æŒ‡å®šå‰›å‰›çš„ Rich Menu IDï¼ŒåŠä¸Šå‚³åœ–ç‰‡ä¾†å®Œæˆç¶å®š\næ–¹æ³•2: é€é NetCoreLineBotSDK ä¸Šå‚³ åœ¨ SDK è£¡é¢ï¼Œä½ å¯ä»¥ç›´æ¥ç”¨ä¸‹åˆ—èªæ³•å®ŒæˆRichMenuçš„ä¸Šå‚³èˆ‡åœ–ç‰‡ç¶å®š\nvar sampleMenu = new RichmenuDetail(); sampleMenu.size = new CreateSize(1200, 810); sampleMenu.selected = true; // æ˜¯å¦ç‚ºé è¨­é¸å–® sampleMenu.name = \u0026quot;sampleMenu\u0026quot;; // é¸å–®åç¨± sampleMenu.chatBarText = \u0026quot;More\u0026quot;; // é¸å–®æ–‡å­— sampleMenu.areas = new List\u0026lt;CreateArea\u0026gt;() // é»æ“Šå€åŸŸè¦åŸ·è¡Œçš„Action { new CreateArea(boundx:0,boundy:0,width:1200,height:810, _action: new MessageAction(\u0026quot;Hello Rich Menu!\u0026quot;)) }; await CreateRichMenuWithImageAsync(sampleMenu,\u0026quot;https://via.placeholder.com/1200x810/E71989.png/fff\u0026quot;); æˆ–è€…æ˜¯ç›´æ¥ä¸ŸBot Designerç”¢å‡ºçš„JSON\nawait CreateRichMenuByJsonWithImageAsync(json, \u0026quot;https://via.placeholder.com/1200x810/E71989.png/fff\u0026quot;, alias: \u0026quot;richmenu-a\u0026quot;); Rich Menu çš„åˆ‡æ› Line åœ¨ 6/21 çš„æ™‚å€™æ¨å‡ºäº† Swtich Rich Mnues çš„åŠŸèƒ½ï¼Œä»¥å‰è¦é”åˆ°é€™ç¨®éœ€æ±‚ï¼Œéƒ½è¦ç”¨ Link Rich Menu To User é€™é¡çš„ Api æ‰èƒ½é”æˆï¼Œåœ¨é€™æ¬¡æ”¹ç‰ˆï¼Œæ–°å¢ä¸€å€‹Action é¡å‹å«åš Rich menu switch actionï¼Œä½†ç›®å‰é€™å€‹ Action åªèƒ½æ”¯æ´åœ¨Rich Menuè§¸ç™¼ï¼Œæ‰€ä»¥é€é Message Types/Flex è£¡é¢å»æŒ‡å®šé€™å€‹ Action æ˜¯æœƒå‡ºéŒ¯çš„ï¼Œç°¡å–®ä¾†è¬›å°±æ˜¯ï¼Œåˆ‡æ›é¸å–®çš„å‹•ä½œåªèƒ½åœ¨é¸å–®ä¾†è§¸ç™¼ï¼Œé‚£æ€éº¼åˆ‡æ›å‘¢? é¦–å…ˆè¦å…ˆè¨­å®šåˆ¥å:\næ–¹æ³•1: é€é Postman è¨­å®š RichMenu Alias é€é Create rich menu alias é€™å€‹ Api æŒ‡å®šRichMenuIdçš„åˆ¥å\nç”¨ Get list of rich menu alias é©—è­‰ç•¶å‰æ‰€æœ‰å·²è¨­å®šçš„ alias\nç•¶ç„¶ï¼Œåˆ¥åè¨­å®šéŒ¯äº†ï¼Œé‚„æ˜¯å¯ä»¥ç”¨ Update rich menu alias ä¾†æ›´æ–°\næ¥è‘—åªè¦åœ¨å»ºç«‹ RichMenu çš„æ™‚å€™ï¼ŒAction æŒ‡å®šç‚ºåˆ¥åå°±æœƒåˆ‡æ›äº†ï¼Œä»¥ä¸‹é¢ç‚ºä¾‹ï¼Œæˆ‘å»ºç«‹äº†ä¸‰å€‹RichMenué»æ“Šå€åŸŸï¼Œåˆ¥ååˆ†åˆ¥æ˜¯ a/b/cï¼Œé»æ“Šå¾Œå°±å¯ä»¥åˆ‡æ›è‡³ç›¸å°æ‡‰çš„é¸å–®ï¼Œè€Œé»æ“Šå¾Œä¹Ÿæœƒè§¸ç™¼postbackäº‹ä»¶ï¼Œå¯åœ¨é€™å€‹æ¬„ä½å¡ä¸€äº›è³‡æ–™ï¼Œåšäº‹ä»¶çš„è™•ç†ï¼Œç¯„ä¾‹çš„çš„ JSON å¦‚ä¸‹\n{\u0026quot;name\u0026quot;:\u0026quot;sampleMenu-c\u0026quot;,\u0026quot;size\u0026quot;:{\u0026quot;width\u0026quot;:1200,\u0026quot;height\u0026quot;:810},\u0026quot;chatBarText\u0026quot;:\u0026quot;More\u0026quot;,\u0026quot;selected\u0026quot;:true,\u0026quot;areas\u0026quot;:[{\u0026quot;bounds\u0026quot;:{\u0026quot;x\u0026quot;:0,\u0026quot;y\u0026quot;:0,\u0026quot;width\u0026quot;:400,\u0026quot;height\u0026quot;:810},\u0026quot;action\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;richmenuswitch\u0026quot;,\u0026quot;richMenuAliasId\u0026quot;:\u0026quot;richmenu-a\u0026quot;,\u0026quot;data\u0026quot;:\u0026quot;richmenu-a-postback\u0026quot;}},{\u0026quot;bounds\u0026quot;:{\u0026quot;x\u0026quot;:400,\u0026quot;y\u0026quot;:0,\u0026quot;width\u0026quot;:400,\u0026quot;height\u0026quot;:810},\u0026quot;action\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;richmenuswitch\u0026quot;,\u0026quot;richMenuAliasId\u0026quot;:\u0026quot;richmenu-b\u0026quot;,\u0026quot;data\u0026quot;:\u0026quot;richmenu-b-postback\u0026quot;}},{\u0026quot;bounds\u0026quot;:{\u0026quot;x\u0026quot;:800,\u0026quot;y\u0026quot;:0,\u0026quot;width\u0026quot;:400,\u0026quot;height\u0026quot;:810},\u0026quot;action\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;richmenuswitch\u0026quot;,\u0026quot;richMenuAliasId\u0026quot;:\u0026quot;richmenu-c\u0026quot;,\u0026quot;data\u0026quot;:\u0026quot;richmenu-c-postback\u0026quot;}}]} å·®åˆ¥åœ¨æ–¼é»æ“Šçš„å€åŸŸå¯ä»¥æŒ‡å®š RichMenuSwitch Action\n{ \u0026quot;type\u0026quot;:\u0026quot;richmenuswitch\u0026quot;, \u0026quot;richMenuAliasId\u0026quot;:\u0026quot;richmenu-a\u0026quot;, \u0026quot;data\u0026quot;:\u0026quot;richmenu-a-postback\u0026quot; }  2021.07.08 æ¸¬è©¦ Bot Designer å·¥å…·é‚„ä¸èƒ½é¸åˆ° RichMenuSwitch Actionï¼Œä¹Ÿè¨±ä¹‹å¾Œæœƒæ”¯æ´\n æ–¹æ³•2: é€é NetCoreLineBotSDK è¨­å®š RichMenu Alias å› æ‡‰æœ¬æ¬¡æ”¹ç‰ˆï¼Œåœ¨æˆ‘é–‹æºçš„ SDK ä¹Ÿæ“´å……ä»¥ä¸‹é¸æ“‡æ€§åƒæ•¸äº†ï¼Œä½ å¯ä»¥åœ¨å»ºç«‹ RichMenu çš„æ™‚å€™ç›´æ¥çµ¦ä»–åˆ¥åï¼Œå³å¯å®Œæˆ RichMenu æ–°å¢.åœ–ç‰‡.åˆ¥åçš„è¨­å®š\nvar sampleMenu = new RichmenuDetail(); sampleMenu.size = new CreateSize(1200, 810); sampleMenu.selected = true; sampleMenu.name = \u0026quot;sampleMenu-c\u0026quot;; sampleMenu.chatBarText = \u0026quot;More\u0026quot;; sampleMenu.areas = new List\u0026lt;CreateArea\u0026gt;() { new CreateArea(boundx:0,boundy:0,width:400,height:810, _action: new RichMenuSwitchAction(\u0026quot;richmenu-a\u0026quot;, \u0026quot;richmenu-a-postback\u0026quot;)), new CreateArea(boundx:400,boundy:0,width:400,height:810, _action: new RichMenuSwitchAction(\u0026quot;richmenu-b\u0026quot;, \u0026quot;richmenu-b-postback\u0026quot;)), new CreateArea(boundx:800,boundy:0,width:400,height:810, _action: new RichMenuSwitchAction(\u0026quot;richmenu-c\u0026quot;, \u0026quot;richmenu-c-postback\u0026quot;)), }; await CreateRichMenuWithImageAsync(sampleMenu,\u0026quot;https://via.placeholder.com/1200x810/E71989.png/fff\u0026quot;, alias: \u0026quot;richmenu-a\u0026quot;); æˆ–è€…æ˜¯ç›´æ¥ä¸ŸRichMenuçš„Json\nawait CreateRichMenuByJsonWithImageAsync(json, \u0026quot;https://via.placeholder.com/1200x810/E71989.png/fff\u0026quot;, alias: \u0026quot;richmenu-a\u0026quot;); Demo æ•´é«”çš„åˆ‡æ›é€Ÿåº¦é‚„è »é †æš¢çš„!\n NetCoreLineBotSDK æ˜¯æˆ‘é–‹æºçš„å‡½å¼åº«ï¼Œç›®å‰æ­£åœ¨åŠªåŠ›èŒå£¯ä¸­ï¼Œå¦‚æœæœ‰ä»»ä½•ç–‘å•éƒ½å¯ä»¥åœ¨ Github è¨è«–\n github: https://github.com/kyleap/NetCoreLineBotSDK nuget: https://www.nuget.org/packages/NetCoreLineBotSDK/  åƒè€ƒé€£çµ  https://developers.line.biz/en/reference/messaging-api/#rich-menu https://developers.line.biz/en/reference/messaging-api/#richmenu-switch-action  ","permalink":"https://kyleap.github.io/2021-07-08-line-rich-menu-switch/","summary":"Rich Menu åœ–æ–‡é¸å–®æ˜¯ä»€éº¼? å¯« Chatbot å¼•å°å¾ˆé‡è¦ï¼Œåœ¨ Line è£¡é¢æœ‰ RichMenu å¯ä»¥ç”¨ï¼Œè®“ä½¿ç”¨è€…å¯ä»¥å¿«é€Ÿçš„é»æ“Šå¸¸ç”¨åŠŸèƒ½ï¼Œè¦å¦‚ä½•å»ºç«‹ RichMenu å‘¢? å¿«é€Ÿä¸ç”¨å¯«ç¨‹å¼çš„æ–¹å¼æ˜¯é€é Official Account è¨­å®š\nä½ å¯é¸æ“‡å·²ç¶“é è¨­å¥½çš„ç‰ˆå‹ï¼Œä¸¦é‡å°æ¯å€‹å€å¡Šè¨­å®šè¦åŸ·è¡Œçš„å‹•ä½œ\nä½†å¦‚æœæ˜¯é€é Message Api çš„è©±ï¼Œå¯ä»¥è¨­å®šçš„å‹•ä½œå°±æ›´å½ˆæ€§äº†ï¼Œä¸€å¼µåœ–ç¸½å…±å¯ä»¥è¨­å®š 20 å€‹ Actionsï¼Œå¯ä»¥åšå¾—äº‹å°±æ›´å¤šäº†ã€‚è¦é€é Message Api æ–°å¢ä¸€å€‹ Rich Menuï¼Œæœ‰ä»¥ä¸‹æ­¥é©Ÿ\n æ–°å¢ä¸€å€‹é¸å–® ä¸Šå‚³è©²é¸å–®çš„åœ–æª”   æˆ‘æ•´ç†äº†Rich Menuç›¸é—œçš„ postman collections åªè¦å°‡ç’°å¢ƒè®Šæ•¸ {{botAcceccToken}} è¨­ç‚ºä½  Channel çš„ Access Token å¯ç›´æ¥åŒ¯å…¥ä½¿ç”¨ï¼š https://www.getpostman.com/collections/f090d101b7e08e411f12\n æ–¹æ³•1: é€é Postman ä¾†ä¸Šå‚³ Rich Menu åœ¨ä¸Šé¢çš„ postman collectionsï¼Œä½ å¯ä»¥ä½¿ç”¨ Create Rich Menu ä¾†æ–°å¢ï¼ŒæˆåŠŸçš„è©±æœƒå›å‚³ RichMenuID\né‚£é€™å€‹ Post çš„ JSON æ€éº¼ç”¢ç”Ÿå‘¢ï¼Ÿåœ¨ NET 5 ä½ å¯ä»¥ç›´æ¥å®‰è£æˆ‘çš„ NetCoreLineBotSDK é€éç‰©ä»¶çš„æ–¹å¼ç›´æ¥ç”¢ç”Ÿ Api æ‰€éœ€è¦çš„ JSON Requestï¼Œä¸Ÿåˆ° postman è£¡é¢","title":"Line RichMenu è¨­å®šèˆ‡åˆ‡æ›ï¼Œä»¥ NET 5 ç‚ºä¾‹"},{"content":"å‰è¨€ åœ¨éæ´²ä¸€åˆ†é˜å°±æœ‰60ç§’éå»ï¼Œæ‰€ä»¥åœ¨å·¥ä½œä¸Šåªè¦ç¯€çœ5ç§’é˜ï¼Œä¸€å¹´ä¸‹ä¾†å°±æ˜¯çœä¸‹1825ç§’é˜¿ï¼Œæ¯”çˆ¾è“‹èŒ²èªªéæ‡¶æƒ°çš„äººæ­¡è¿åˆ°å¾®è»Ÿï¼Œä¸»è¦æ˜¯èƒ½æ‰¾åˆ°é‚£ç¨®å·¥ä½œä¸Šæœƒä¸æ–·å„ªåŒ–è‡ªå·±å·¥ä½œçš„å“¡å·¥ï¼Œæ‰€ä»¥è¦æ™‚æ™‚åˆ»åˆ»æ€è€ƒï¼Œå¦‚æœä½ å·¥ä½œä¸Šæœ‰å¤ªå¤šçš„é‡è¤‡çš„äº‹é …/å¤ªå¤šå›ºå®šçš„æµç¨‹ï¼Œä¸‹ä¸€æ­¥å°±è¦æ€è€ƒè‡ªå‹•åŒ–ã€‚\nä»Šå¤©è¦ä»‹ç´¹çš„æ˜¯å…è²»å·¥å…· beefText ï¼Œå·¥ä½œä¸Šå¯èƒ½æœƒæœ‰ä¸€äº›é•·æ‰“çš„ç¨‹å¼ç‰‡æ®µï¼Œè­¬å¦‚æ’°å¯«SQLæŸ¥è©¢ä¸€äº›å•é¡Œæ™‚ï¼Œä½†é€™äº›ç‰‡æ®µä¹Ÿè¨±å¯ä»¥ç”¨ç·¨è¼¯å™¨å­˜èµ·ä¾†ï¼Œä½†WFHå¯èƒ½ä¹Ÿæœƒæœ‰ä¸€äº›å¸¸è¦‹è¦å›çš„è©±ï¼Œæˆ–è€…æ˜¯ä¸€äº›emailç¯„æœ¬(é¢è©¦æ„Ÿè¬ä¿¡â€¦ç­‰ç­‰)ï¼Œæ¯æ¬¡éƒ½è¦é‡æ–°è¼¸å…¥äººç”Ÿå°±æµªè²»äº†å¹¾ç§’é˜äº†é˜¿!!\nåŠŸèƒ½ä»‹ç´¹ ä½ å¯å»ºç«‹å¤šå€‹Groupä¾†åšåˆ†é¡ï¼ŒGroupåº•ä¸‹å¯ä»¥å»º Comboï¼Œè­¬å¦‚ e_ii (email_interview_invite) å°±èƒ½è§¸ç™¼ Email çš„é‚€è«‹ç¯„æœ¬ï¼Œå¯« Email æ™‚å€™å†å»å¾®èª¿å°±å¥½äº†\né è¨­åªè¦è¼¸å…¥åµæ¸¬åˆ°é—œéµå­—å°±æœƒè§¸ç™¼å–ä»£ä½ å»ºç«‹å¥½çš„ Templateï¼Œä½†ä¹Ÿå¯èª¿æ•´ç©ºç™½éµæ‰å»åµæ¸¬\næŒ‡ä»¤è¶Šä¾†è¶Šå¤šæ™‚å€™ï¼Œä¹Ÿå¯ä»¥ç”¨ picker åŠŸèƒ½ï¼Œæˆ‘ç¿’æ…£é©ç”¨ windows+alt+p\nå¦‚æœæ›é›»è…¦çš„è©±ï¼Œå¯ä»¥å°‡è¨­å®šæª”å¾ä»¥ä¸‹è·¯å¾‘å‚™ä»½å‡ºä¾†ï¼ŒListæœƒæ˜¯ä¸€å€‹JSONæª”\nBeefTextä¸‹è¼‰\nhttps://beeftext.org/\n","permalink":"https://kyleap.github.io/tools-beeftext/","summary":"å‰è¨€ åœ¨éæ´²ä¸€åˆ†é˜å°±æœ‰60ç§’éå»ï¼Œæ‰€ä»¥åœ¨å·¥ä½œä¸Šåªè¦ç¯€çœ5ç§’é˜ï¼Œä¸€å¹´ä¸‹ä¾†å°±æ˜¯çœä¸‹1825ç§’é˜¿ï¼Œæ¯”çˆ¾è“‹èŒ²èªªéæ‡¶æƒ°çš„äººæ­¡è¿åˆ°å¾®è»Ÿï¼Œä¸»è¦æ˜¯èƒ½æ‰¾åˆ°é‚£ç¨®å·¥ä½œä¸Šæœƒä¸æ–·å„ªåŒ–è‡ªå·±å·¥ä½œçš„å“¡å·¥ï¼Œæ‰€ä»¥è¦æ™‚æ™‚åˆ»åˆ»æ€è€ƒï¼Œå¦‚æœä½ å·¥ä½œä¸Šæœ‰å¤ªå¤šçš„é‡è¤‡çš„äº‹é …/å¤ªå¤šå›ºå®šçš„æµç¨‹ï¼Œä¸‹ä¸€æ­¥å°±è¦æ€è€ƒè‡ªå‹•åŒ–ã€‚\nä»Šå¤©è¦ä»‹ç´¹çš„æ˜¯å…è²»å·¥å…· beefText ï¼Œå·¥ä½œä¸Šå¯èƒ½æœƒæœ‰ä¸€äº›é•·æ‰“çš„ç¨‹å¼ç‰‡æ®µï¼Œè­¬å¦‚æ’°å¯«SQLæŸ¥è©¢ä¸€äº›å•é¡Œæ™‚ï¼Œä½†é€™äº›ç‰‡æ®µä¹Ÿè¨±å¯ä»¥ç”¨ç·¨è¼¯å™¨å­˜èµ·ä¾†ï¼Œä½†WFHå¯èƒ½ä¹Ÿæœƒæœ‰ä¸€äº›å¸¸è¦‹è¦å›çš„è©±ï¼Œæˆ–è€…æ˜¯ä¸€äº›emailç¯„æœ¬(é¢è©¦æ„Ÿè¬ä¿¡â€¦ç­‰ç­‰)ï¼Œæ¯æ¬¡éƒ½è¦é‡æ–°è¼¸å…¥äººç”Ÿå°±æµªè²»äº†å¹¾ç§’é˜äº†é˜¿!!\nåŠŸèƒ½ä»‹ç´¹ ä½ å¯å»ºç«‹å¤šå€‹Groupä¾†åšåˆ†é¡ï¼ŒGroupåº•ä¸‹å¯ä»¥å»º Comboï¼Œè­¬å¦‚ e_ii (email_interview_invite) å°±èƒ½è§¸ç™¼ Email çš„é‚€è«‹ç¯„æœ¬ï¼Œå¯« Email æ™‚å€™å†å»å¾®èª¿å°±å¥½äº†\né è¨­åªè¦è¼¸å…¥åµæ¸¬åˆ°é—œéµå­—å°±æœƒè§¸ç™¼å–ä»£ä½ å»ºç«‹å¥½çš„ Templateï¼Œä½†ä¹Ÿå¯èª¿æ•´ç©ºç™½éµæ‰å»åµæ¸¬\næŒ‡ä»¤è¶Šä¾†è¶Šå¤šæ™‚å€™ï¼Œä¹Ÿå¯ä»¥ç”¨ picker åŠŸèƒ½ï¼Œæˆ‘ç¿’æ…£é©ç”¨ windows+alt+p\nå¦‚æœæ›é›»è…¦çš„è©±ï¼Œå¯ä»¥å°‡è¨­å®šæª”å¾ä»¥ä¸‹è·¯å¾‘å‚™ä»½å‡ºä¾†ï¼ŒListæœƒæ˜¯ä¸€å€‹JSONæª”\nBeefTextä¸‹è¼‰\nhttps://beeftext.org/","title":"ç”¨ BeefText ä¾†æ¸›å°‘å¸¸è¼¸å…¥çš„æ–‡å­—ï¼Œå¢åŠ å·¥ä½œæ•ˆç‡"},{"content":"ä»Šå¹´è·æ¶¯æœ‰äº›æ”¹è®Šï¼Œåˆå›åˆ°æ•™è‚²ç§‘æŠ€æ–°å‰µæ‰“é€  SaaS å¹³å°ï¼Œå…¬å¸æ˜¯å…¨é ç«¯ä½œæ¥­ï¼Œå“¡å·¥éé›†å…¨å°å„åœ°ï¼Œé€™ä¹Ÿæ˜¯ç‚ºäº†æœªä¾†æµ·å¤–å“¡å·¥å”åšèƒ½é †æš¢ï¼Œåˆ°è·ä¹Ÿæ»¿ä¸‰å€‹æœˆäº†ï¼Œæ•…å¯«ç¯‡æ–‡ç« è¨˜éŒ„ä¸€ä¸‹é€™å¹¾å€‹æœˆå°æ–¼é ç«¯å·¥ä½œçš„ä¸‰å€‹é¢å‘\nä¿¡ä»»æ„Ÿ - ä¸Šä¸‹å±¤å°é½Šç›®æ¨™ ç–«æƒ…å¤§çˆ†ç™¼å¾ˆæ…¶å¹¸è‡ªå·±ç›®å‰ä»»è·çš„å…¬å¸æ˜¯å®Œå…¨é ç«¯å·¥ä½œï¼Œå…¬å¸æ˜¯ç‰¹ä¼‘ç„¡ä¸Šé™ï¼Œè‡ªå·±å®‰æ’å¥½ä»»å‹™å°±å¥½ï¼Œæ•…é ç«¯åœ˜éšŠæˆ‘èªç‚ºä¸€å®šè¦æ‰¾ è‡ªæˆ‘ç®¡ç† çš„å“¡å·¥ï¼Œèƒ½ç®¡å¥½è‡ªå·±ï¼Œæ‰èƒ½ç®¡å¥½åœ˜éšŠç›®æ¨™ã€å…¬å¸ç›®æ¨™ã€‚è¦æ“¬é€ è‡ªæˆ‘ç®¡ç†é«˜åœ˜éšŠéœ€è¦ è‰¯å¥½çš„ä¼æ¥­æ–‡åŒ–ï¼Œä½†ä¼æ¥­æ–‡åŒ–å¦‚ä½•é¤Šæˆï¼Œæˆ‘è¦ºå¾—æœ€é‡è¦çš„æ˜¯å°æ–¼ ç›®æ¨™èªåŒæ„Ÿï¼Œè¦å¡‘é€ å“¡å·¥èƒ½æŒ‘æˆ°ç›®æ¨™ã€èªåŒç›®æ¨™çš„æ–‡åŒ–ï¼Œæ•…æˆ‘å€‘æ¯å­£æœƒæœ‰é‡å°å…¨é«”å“¡å·¥çš„è…¦åŠ›æ¿€ç›ªæœƒè­°ï¼Œç”±å…¬å¸æ“¬å®šå‡ºä¸Šå±¤çš„é—œéµæ•¸æ“šç›®æ¨™ (å¯èƒ½æ˜¯ç‡Ÿæ¥­é¡ï¼Œå®¢æˆ¶æ•¸ç­‰)ï¼Œå°æ–¼ä¸€å€‹CEOè€Œè¨€ï¼Œæˆ‘è¦ºå¾—æœ€é‡è¦çš„äº‹è¦é—¡è¿°é€™äº›æ•¸æ“šèƒŒå¾Œçš„æ„ç¾©æ˜¯ä»€éº¼ï¼Œå¯èƒ½æ˜¯å‹Ÿè³‡ç­–ç•¥ï¼Œåˆä½œå¤¥ä¼´ï¼Œè²¡å‹™ç‹€æ³â€¦ç­‰ç­‰ï¼Œå¾€ä¸‹å¾Œé–‹å§‹ä¸€èµ·è¨è«–è§£æ±ºæ–¹æ¡ˆï¼Œç”¢å‡ºä¸€å€‹å¯é‡åŒ–ä¸”åˆç†çš„ç›®æ¨™ï¼Œé€šå¸¸æˆ‘å€‘æœƒè¨‚æŒ‡æ¨™æ¯æ—¥æ¯é€±å°±å ±å‘Šé€™äº›é …ç›®ï¼Œæœ‰æŒ‡æ¨™å¾Œï¼Œå¦‚æœæœ‰è½å·®å†ä¾†æ»¾å‹•å¼èª¿æ•´ï¼Œé€™å°±æ˜¯å¸¸è¦‹çš„OKRï¼šæ•¸æ“š/æ—¥æœŸ/å…·é«”ä½œç‚º ä¸å¯å°‘ã€‚ä¹Ÿè¨±å…¨é«”å“¡å·¥è¨è«–æœƒå¾ˆèŠ±æ™‚é–“ï¼Œä½†æ¯”èµ·ç„¡æ³•å°é½Šä¸Šå±¤ç›®æ¨™ï¼Œåšå‡ºå¯èƒ½æµªè²»çš„ä½œç‚ºï¼Œé€™äº›æœƒè­°æ™‚é–“éƒ½æ˜¯å¾ˆå€¼å¾—æŠ•è³‡çš„ã€‚\nå„€å¼æ„Ÿ - åˆ‡æ›å¥½å·¥ä½œèˆ‡ç”Ÿæ´»æ¨¡å¼ é ç«¯å·¥ä½œèµ·åºŠå°±ä¸Šç­ï¼Œä¹Ÿæ²’æœ‰ä¸Šç­æ™‚é–“é€šå‹¤çš„æ™‚é–“èƒ½é†’è…¦ï¼Œæ•…æˆ‘è »å»ºè­°å¯ä»¥ææ—©èµ·åºŠåšä¸€äº›ç¢ç‰‡åŒ–çš„é–±è®€ï¼Œçœ‹çœ‹æ™‚äº‹æˆ–ä¸€äº›æ–‡ç« æˆ–æ›¸å¾Œå†ä¾†é€²å…¥å·¥ä½œç‹€æ…‹ï¼Œå¦å¤–å°±æ˜¯å·¥ä½œç’°å¢ƒè·Ÿç”Ÿæ´»ç’°å¢ƒè¦å€éš”æˆ‘è¦ºå¾—ä¹Ÿè »é‡è¦çš„ï¼Œåˆ°äº†ä¸‹ç­æ™‚é–“è¦åˆ‡æ›ä¸‹ç­æ¨¡å¼é‚„æ˜¯æœ‰é»ç”Ÿæ´»ï¼Œç•¢ç«Ÿé•·æœŸåŠ ç­æœ¬ä¾†å°±æ˜¯ä¸€å€‹ä¸å¥åº·çš„ç‹€æ…‹ï¼›é ç«¯å·¥ä½œä¸€å®šä¸æœƒæ¯”è¾¦å…¬å®¤æ–‡åŒ–ä¾†å¾—äº’å‹•æ€§é«˜ï¼Œèƒ½ç•¶é¢å¹¹è©±é‚„æ˜¯æœ€èˆ’æœçš„ï¼Œteam buildingä¹Ÿä¸èƒ½å°‘ï¼Œå¯èƒ½å®šæœŸçš„ä¸­åˆç·šä¸Šèšé¤.ç·šä¸Šæ¡ŒéŠ.è®€æ›¸æœƒéƒ½è »é‡è¦çš„ï¼Œæˆ–è€…æ˜¯æœƒè­°å‰æ˜¯å¦èƒ½æå‰é€²æœƒè­°å®¤ï¼Œè·Ÿå¤§å®¶èŠèŠè¬›è¬›å¹¹è©±ï¼Œé—œå¿ƒè¿‘æ³ï¼Œéƒ½èƒ½è®“ WFH ä¸å†é‚£éº¼é‚Šç·£ã€‚\næºé€šæ–‡åŒ– - æ‡‰è©²è¦è¬¹è¨€æ…è¡Œï¼Œæ›´æœ‰æ¢ç† é ç«¯å·¥ä½œä¸å–®åªåœ¨å®¶å·¥ä½œï¼Œåœ˜éšŠå¦‚æœ‰åŒ—ä¸­å—ï¼Œæµ·å¤–åœ˜éšŠï¼Œä¹Ÿæ˜¯å¦å¤–ä¸€ç¨®é ç«¯æºé€šï¼Œæ¯”èµ·è¾¦å…¬å®¤æ–‡åŒ–ï¼Œåœ¨æºé€šä¸Šæ¯”è¼ƒä¸èƒ½çœ‹åˆ°å°æ–¹çš„è¡¨æƒ…ï¼Œå½¼æ­¤ä¹Ÿæ€•æ’è©±å°±æœƒå¥é»ï¼Œé€™éƒ½æœƒé€ æˆæœƒè­°çš„æ²’æ•ˆç‡ï¼Œä¹‹å‰æˆ‘å€‘å…§éƒ¨åœ¨é€™å¡Šä¹Ÿä¸å¤ªé †åˆ©ï¼Œå¾Œä¾†æ±ºå®šé‚„æ˜¯è¦æœ‰å€‹ä¸»æŒäººï¼Œæœƒè­°å‰å…ˆæ¢åˆ—å¼é—¡è¿°æœƒè­°ç›®æ¨™ï¼Œé æœŸæœƒè­°çµæŸæ™‚é–“ï¼Œéç¨‹ä¸­æœ‰åé¡Œå°±æ‹‰å›ä¾†ï¼Œå°‘ç”¨é–‹æ”¾æ€§å•ç­”ï¼Œç›´æ¥é»åå•æƒ³æ³•ï¼Œè¦æ±‚å¤§å®¶ä¸€èµ·å…±ç­†ä»¥å…å°æ–¼æœƒè­°åˆ†å¿ƒæˆ–æ²’è²¢ç»ï¼Œæœƒè­°çµæŸå†Summayä¸€æ¬¡æœƒè­°ç¸½çµï¼Œå…±ç­†çµæœä¸‹ä¸€æ­¥ç›´æ¥åˆ— Actions è²¼åˆ°å°è©±é »é“\né ç«¯ä¹Ÿå¾ˆé›£çŒœåˆ°ç›®å‰å°æ–¹çš„æƒ…ç·’ï¼Œæ‡‰è©²è¦é¿å…ä¸€äº›æƒ…ç·’æ€§çš„ç™¼è¨€ï¼Œé‡å°äº‹æƒ…ä¾†è¨è«–ï¼Œå¦‚æœæœ‰ä»»ä½•å»ºè­°æ‡‰è©²æ™‚å¸¸ä¸»å‹•å›é¥‹ï¼Œè€Œä¸æ˜¯æ‚¶åœ¨å¿ƒè£¡ï¼Œç•¢ç«Ÿç„¡æ³•é¢å°é¢è§€å¯Ÿæƒ…ç·’ï¼Œæºé€šä¸Šé‚„æ˜¯æœ‰æ‰€æŠ˜æ‰£ï¼Œæ–‡å­—è¡¨é”å…§å®¹æ™‚ä¹Ÿç›¡é‡æè¿°å¾—æ¸…æ¥šä¸€é»ã€å»é™¤ä¸å¿…è¦çš„èªåŠ©è©ï¼Œé¿å…èª¤æœƒã€‚æºé€šæ–‡åŒ–ä¹Ÿè·Ÿä¿¡ä»»æ„Ÿç¿’ç¿’ç›¸é—œï¼Œè€é—†æ˜¯å¦æœ‰åœ¨é©ç•¶çš„æ™‚æ©Ÿè·³ä¸‹ä¾†é—œå¿ƒå“¡å·¥æ˜¯å¦éœ€è¦æ›´å¤šè³‡æºï¼Œå“¡å·¥åœ¨é›¢ç›®æ¨™æœ‰è½å¾Œæ™‚ï¼Œæ˜¯å¦èƒ½æä¾›è‡ªå·±æ¥ä¸‹ä¾†åœæé»è·ŸPlan Bï¼Œå±æ©Ÿè™•ç†æ™‚æ˜¯å¦æœ‰éšæ®µæ€§çš„å›å ±ï¼Œç¸½ä¹‹ï¼Œå¤šå¤šæ›ä½æ€è€ƒï¼ŒæœŸå¾…è€é—†çµ¦äºˆä¿¡ä»»çš„åŒæ™‚ï¼Œå¾—æ€è€ƒè‡ªå·±æ˜¯å¦ä¹Ÿæœ‰çµ¦è€é—†è¶³å¤ çš„ä¿¡ä»»æ„Ÿã€‚\n","permalink":"https://kyleap.github.io/wfh-mindset/","summary":"ä»Šå¹´è·æ¶¯æœ‰äº›æ”¹è®Šï¼Œåˆå›åˆ°æ•™è‚²ç§‘æŠ€æ–°å‰µæ‰“é€  SaaS å¹³å°ï¼Œå…¬å¸æ˜¯å…¨é ç«¯ä½œæ¥­ï¼Œå“¡å·¥éé›†å…¨å°å„åœ°ï¼Œé€™ä¹Ÿæ˜¯ç‚ºäº†æœªä¾†æµ·å¤–å“¡å·¥å”åšèƒ½é †æš¢ï¼Œåˆ°è·ä¹Ÿæ»¿ä¸‰å€‹æœˆäº†ï¼Œæ•…å¯«ç¯‡æ–‡ç« è¨˜éŒ„ä¸€ä¸‹é€™å¹¾å€‹æœˆå°æ–¼é ç«¯å·¥ä½œçš„ä¸‰å€‹é¢å‘\nä¿¡ä»»æ„Ÿ - ä¸Šä¸‹å±¤å°é½Šç›®æ¨™ ç–«æƒ…å¤§çˆ†ç™¼å¾ˆæ…¶å¹¸è‡ªå·±ç›®å‰ä»»è·çš„å…¬å¸æ˜¯å®Œå…¨é ç«¯å·¥ä½œï¼Œå…¬å¸æ˜¯ç‰¹ä¼‘ç„¡ä¸Šé™ï¼Œè‡ªå·±å®‰æ’å¥½ä»»å‹™å°±å¥½ï¼Œæ•…é ç«¯åœ˜éšŠæˆ‘èªç‚ºä¸€å®šè¦æ‰¾ è‡ªæˆ‘ç®¡ç† çš„å“¡å·¥ï¼Œèƒ½ç®¡å¥½è‡ªå·±ï¼Œæ‰èƒ½ç®¡å¥½åœ˜éšŠç›®æ¨™ã€å…¬å¸ç›®æ¨™ã€‚è¦æ“¬é€ è‡ªæˆ‘ç®¡ç†é«˜åœ˜éšŠéœ€è¦ è‰¯å¥½çš„ä¼æ¥­æ–‡åŒ–ï¼Œä½†ä¼æ¥­æ–‡åŒ–å¦‚ä½•é¤Šæˆï¼Œæˆ‘è¦ºå¾—æœ€é‡è¦çš„æ˜¯å°æ–¼ ç›®æ¨™èªåŒæ„Ÿï¼Œè¦å¡‘é€ å“¡å·¥èƒ½æŒ‘æˆ°ç›®æ¨™ã€èªåŒç›®æ¨™çš„æ–‡åŒ–ï¼Œæ•…æˆ‘å€‘æ¯å­£æœƒæœ‰é‡å°å…¨é«”å“¡å·¥çš„è…¦åŠ›æ¿€ç›ªæœƒè­°ï¼Œç”±å…¬å¸æ“¬å®šå‡ºä¸Šå±¤çš„é—œéµæ•¸æ“šç›®æ¨™ (å¯èƒ½æ˜¯ç‡Ÿæ¥­é¡ï¼Œå®¢æˆ¶æ•¸ç­‰)ï¼Œå°æ–¼ä¸€å€‹CEOè€Œè¨€ï¼Œæˆ‘è¦ºå¾—æœ€é‡è¦çš„äº‹è¦é—¡è¿°é€™äº›æ•¸æ“šèƒŒå¾Œçš„æ„ç¾©æ˜¯ä»€éº¼ï¼Œå¯èƒ½æ˜¯å‹Ÿè³‡ç­–ç•¥ï¼Œåˆä½œå¤¥ä¼´ï¼Œè²¡å‹™ç‹€æ³â€¦ç­‰ç­‰ï¼Œå¾€ä¸‹å¾Œé–‹å§‹ä¸€èµ·è¨è«–è§£æ±ºæ–¹æ¡ˆï¼Œç”¢å‡ºä¸€å€‹å¯é‡åŒ–ä¸”åˆç†çš„ç›®æ¨™ï¼Œé€šå¸¸æˆ‘å€‘æœƒè¨‚æŒ‡æ¨™æ¯æ—¥æ¯é€±å°±å ±å‘Šé€™äº›é …ç›®ï¼Œæœ‰æŒ‡æ¨™å¾Œï¼Œå¦‚æœæœ‰è½å·®å†ä¾†æ»¾å‹•å¼èª¿æ•´ï¼Œé€™å°±æ˜¯å¸¸è¦‹çš„OKRï¼šæ•¸æ“š/æ—¥æœŸ/å…·é«”ä½œç‚º ä¸å¯å°‘ã€‚ä¹Ÿè¨±å…¨é«”å“¡å·¥è¨è«–æœƒå¾ˆèŠ±æ™‚é–“ï¼Œä½†æ¯”èµ·ç„¡æ³•å°é½Šä¸Šå±¤ç›®æ¨™ï¼Œåšå‡ºå¯èƒ½æµªè²»çš„ä½œç‚ºï¼Œé€™äº›æœƒè­°æ™‚é–“éƒ½æ˜¯å¾ˆå€¼å¾—æŠ•è³‡çš„ã€‚\nå„€å¼æ„Ÿ - åˆ‡æ›å¥½å·¥ä½œèˆ‡ç”Ÿæ´»æ¨¡å¼ é ç«¯å·¥ä½œèµ·åºŠå°±ä¸Šç­ï¼Œä¹Ÿæ²’æœ‰ä¸Šç­æ™‚é–“é€šå‹¤çš„æ™‚é–“èƒ½é†’è…¦ï¼Œæ•…æˆ‘è »å»ºè­°å¯ä»¥ææ—©èµ·åºŠåšä¸€äº›ç¢ç‰‡åŒ–çš„é–±è®€ï¼Œçœ‹çœ‹æ™‚äº‹æˆ–ä¸€äº›æ–‡ç« æˆ–æ›¸å¾Œå†ä¾†é€²å…¥å·¥ä½œç‹€æ…‹ï¼Œå¦å¤–å°±æ˜¯å·¥ä½œç’°å¢ƒè·Ÿç”Ÿæ´»ç’°å¢ƒè¦å€éš”æˆ‘è¦ºå¾—ä¹Ÿè »é‡è¦çš„ï¼Œåˆ°äº†ä¸‹ç­æ™‚é–“è¦åˆ‡æ›ä¸‹ç­æ¨¡å¼é‚„æ˜¯æœ‰é»ç”Ÿæ´»ï¼Œç•¢ç«Ÿé•·æœŸåŠ ç­æœ¬ä¾†å°±æ˜¯ä¸€å€‹ä¸å¥åº·çš„ç‹€æ…‹ï¼›é ç«¯å·¥ä½œä¸€å®šä¸æœƒæ¯”è¾¦å…¬å®¤æ–‡åŒ–ä¾†å¾—äº’å‹•æ€§é«˜ï¼Œèƒ½ç•¶é¢å¹¹è©±é‚„æ˜¯æœ€èˆ’æœçš„ï¼Œteam buildingä¹Ÿä¸èƒ½å°‘ï¼Œå¯èƒ½å®šæœŸçš„ä¸­åˆç·šä¸Šèšé¤.ç·šä¸Šæ¡ŒéŠ.è®€æ›¸æœƒéƒ½è »é‡è¦çš„ï¼Œæˆ–è€…æ˜¯æœƒè­°å‰æ˜¯å¦èƒ½æå‰é€²æœƒè­°å®¤ï¼Œè·Ÿå¤§å®¶èŠèŠè¬›è¬›å¹¹è©±ï¼Œé—œå¿ƒè¿‘æ³ï¼Œéƒ½èƒ½è®“ WFH ä¸å†é‚£éº¼é‚Šç·£ã€‚\næºé€šæ–‡åŒ– - æ‡‰è©²è¦è¬¹è¨€æ…è¡Œï¼Œæ›´æœ‰æ¢ç† é ç«¯å·¥ä½œä¸å–®åªåœ¨å®¶å·¥ä½œï¼Œåœ˜éšŠå¦‚æœ‰åŒ—ä¸­å—ï¼Œæµ·å¤–åœ˜éšŠï¼Œä¹Ÿæ˜¯å¦å¤–ä¸€ç¨®é ç«¯æºé€šï¼Œæ¯”èµ·è¾¦å…¬å®¤æ–‡åŒ–ï¼Œåœ¨æºé€šä¸Šæ¯”è¼ƒä¸èƒ½çœ‹åˆ°å°æ–¹çš„è¡¨æƒ…ï¼Œå½¼æ­¤ä¹Ÿæ€•æ’è©±å°±æœƒå¥é»ï¼Œé€™éƒ½æœƒé€ æˆæœƒè­°çš„æ²’æ•ˆç‡ï¼Œä¹‹å‰æˆ‘å€‘å…§éƒ¨åœ¨é€™å¡Šä¹Ÿä¸å¤ªé †åˆ©ï¼Œå¾Œä¾†æ±ºå®šé‚„æ˜¯è¦æœ‰å€‹ä¸»æŒäººï¼Œæœƒè­°å‰å…ˆæ¢åˆ—å¼é—¡è¿°æœƒè­°ç›®æ¨™ï¼Œé æœŸæœƒè­°çµæŸæ™‚é–“ï¼Œéç¨‹ä¸­æœ‰åé¡Œå°±æ‹‰å›ä¾†ï¼Œå°‘ç”¨é–‹æ”¾æ€§å•ç­”ï¼Œç›´æ¥é»åå•æƒ³æ³•ï¼Œè¦æ±‚å¤§å®¶ä¸€èµ·å…±ç­†ä»¥å…å°æ–¼æœƒè­°åˆ†å¿ƒæˆ–æ²’è²¢ç»ï¼Œæœƒè­°çµæŸå†Summayä¸€æ¬¡æœƒè­°ç¸½çµï¼Œå…±ç­†çµæœä¸‹ä¸€æ­¥ç›´æ¥åˆ— Actions è²¼åˆ°å°è©±é »é“\né ç«¯ä¹Ÿå¾ˆé›£çŒœåˆ°ç›®å‰å°æ–¹çš„æƒ…ç·’ï¼Œæ‡‰è©²è¦é¿å…ä¸€äº›æƒ…ç·’æ€§çš„ç™¼è¨€ï¼Œé‡å°äº‹æƒ…ä¾†è¨è«–ï¼Œå¦‚æœæœ‰ä»»ä½•å»ºè­°æ‡‰è©²æ™‚å¸¸ä¸»å‹•å›é¥‹ï¼Œè€Œä¸æ˜¯æ‚¶åœ¨å¿ƒè£¡ï¼Œç•¢ç«Ÿç„¡æ³•é¢å°é¢è§€å¯Ÿæƒ…ç·’ï¼Œæºé€šä¸Šé‚„æ˜¯æœ‰æ‰€æŠ˜æ‰£ï¼Œæ–‡å­—è¡¨é”å…§å®¹æ™‚ä¹Ÿç›¡é‡æè¿°å¾—æ¸…æ¥šä¸€é»ã€å»é™¤ä¸å¿…è¦çš„èªåŠ©è©ï¼Œé¿å…èª¤æœƒã€‚æºé€šæ–‡åŒ–ä¹Ÿè·Ÿä¿¡ä»»æ„Ÿç¿’ç¿’ç›¸é—œï¼Œè€é—†æ˜¯å¦æœ‰åœ¨é©ç•¶çš„æ™‚æ©Ÿè·³ä¸‹ä¾†é—œå¿ƒå“¡å·¥æ˜¯å¦éœ€è¦æ›´å¤šè³‡æºï¼Œå“¡å·¥åœ¨é›¢ç›®æ¨™æœ‰è½å¾Œæ™‚ï¼Œæ˜¯å¦èƒ½æä¾›è‡ªå·±æ¥ä¸‹ä¾†åœæé»è·ŸPlan Bï¼Œå±æ©Ÿè™•ç†æ™‚æ˜¯å¦æœ‰éšæ®µæ€§çš„å›å ±ï¼Œç¸½ä¹‹ï¼Œå¤šå¤šæ›ä½æ€è€ƒï¼ŒæœŸå¾…è€é—†çµ¦äºˆä¿¡ä»»çš„åŒæ™‚ï¼Œå¾—æ€è€ƒè‡ªå·±æ˜¯å¦ä¹Ÿæœ‰çµ¦è€é—†è¶³å¤ çš„ä¿¡ä»»æ„Ÿã€‚","title":"èŠé ç«¯å·¥ä½œä¸‰å€‹é¢å‘ï¼šä¿¡ä»»æ„Ÿã€å„€å¼æ„Ÿã€æºé€šæ–‡åŒ–"},{"content":"ä¹‹å‰ä¹Ÿä¸€å€‹éœ€æ±‚æ˜¯éœ€è¦å°‡ä¸€å€‹Blobç§»è½‰è‡³å¦ä¸€å€‹å¦ä¸€å€‹è¨‚é–±ï¼Œä½†ä¸å¤ªå¯èƒ½ä¸€å€‹ä¸€å€‹æ¬æˆ–é‡æ–°ä¸Šå‚³ï¼Œé€é AzCopy å°±å¯ä»¥ä¸€éµå®Œæˆé€™ä»¶äº‹ï¼Œä¸”æ¬ç§»çš„æ•ˆèƒ½ä¹Ÿè »å¿«çš„\nAzureCopy å¯ä»¥åœ¨é€™é‚Šä¸‹è¼‰ https://docs.microsoft.com/zh-tw/azure/storage/common/storage-use-azcopy-v10\nazcopy copy \u0026lt;source\u0026gt; \u0026lt;destination\u0026gt; --recursive --overwrite false  source: https://.blob.core.windows.net/ destination: å¯ä»¥åœ¨ Azure Portal å–å¾—ï¼Œéœ€è¦ç”¢ç”Ÿä¸€å€‹å¯ä»¥å­˜å–çš„ Access Signature recursive: æ˜¯å¦è¦éè¿´å»æŠ“æ›´å¤šè³‡æ–™å¤¾åº•ä¸‹çš„æª”æ¡ˆï¼Œæœ‰æ™‚å€™æª”æ¡ˆéšå±¤æœƒæ˜¯ files/aaa/file.txt overwrite: false è¡¨ç¤ºæª”æ¡ˆå·²å­˜åœ¨å°±å¿½ç•¥  åœ¨Azure Portal å–å¾— Access Signature\n\u0026ndash; References https://docs.microsoft.com/en-us/azure/storage/common/storage-ref-azcopy-copy?toc=/azure/storage/blobs/toc.json\n","permalink":"https://kyleap.github.io/azure-copy-to-blob-container/","summary":"ä¹‹å‰ä¹Ÿä¸€å€‹éœ€æ±‚æ˜¯éœ€è¦å°‡ä¸€å€‹Blobç§»è½‰è‡³å¦ä¸€å€‹å¦ä¸€å€‹è¨‚é–±ï¼Œä½†ä¸å¤ªå¯èƒ½ä¸€å€‹ä¸€å€‹æ¬æˆ–é‡æ–°ä¸Šå‚³ï¼Œé€é AzCopy å°±å¯ä»¥ä¸€éµå®Œæˆé€™ä»¶äº‹ï¼Œä¸”æ¬ç§»çš„æ•ˆèƒ½ä¹Ÿè »å¿«çš„\nAzureCopy å¯ä»¥åœ¨é€™é‚Šä¸‹è¼‰ https://docs.microsoft.com/zh-tw/azure/storage/common/storage-use-azcopy-v10\nazcopy copy \u0026lt;source\u0026gt; \u0026lt;destination\u0026gt; --recursive --overwrite false  source: https://.blob.core.windows.net/ destination: å¯ä»¥åœ¨ Azure Portal å–å¾—ï¼Œéœ€è¦ç”¢ç”Ÿä¸€å€‹å¯ä»¥å­˜å–çš„ Access Signature recursive: æ˜¯å¦è¦éè¿´å»æŠ“æ›´å¤šè³‡æ–™å¤¾åº•ä¸‹çš„æª”æ¡ˆï¼Œæœ‰æ™‚å€™æª”æ¡ˆéšå±¤æœƒæ˜¯ files/aaa/file.txt overwrite: false è¡¨ç¤ºæª”æ¡ˆå·²å­˜åœ¨å°±å¿½ç•¥  åœ¨Azure Portal å–å¾— Access Signature\n\u0026ndash; References https://docs.microsoft.com/en-us/azure/storage/common/storage-ref-azcopy-copy?toc=/azure/storage/blobs/toc.json","title":"åˆ©ç”¨ AzCopy ä¾†å°‡ Azure Blob Container æ‰€æœ‰æª”æ¡ˆç§»è½‰è‡³å¦ä¸€å€‹ Blob Container"},{"content":"å¯« Line Bot ä¹Ÿæ‡‰è©²ç†è§£ Line URL Scheme æ€éº¼ç”¨ï¼Œå®ƒæ˜¯é€éä¸€ä¸²ç‰¹æ®Šçš„ URL ä¾†å•Ÿå‹• Line çš„åŠŸèƒ½ï¼Œå¯ä»¥è¨­è¨ˆæ–¼ BOt çš„ URL Actionï¼Œæˆ–è€…æ˜¯ç›´æ¥å‚³è‡³å°è©±æ¡†ï¼Œè®“ä½¿ç”¨è€…é»æ“Šæ­¤ç¯‡æ–‡ç« å°±èƒ½å¼•å°åˆ°é–‹å•Ÿä¸€äº›åŠŸèƒ½ï¼Œæ­¤ç¯‡æ–‡ç« é‚Šç©ä¸¦åšå€‹ç´€éŒ„ï¼Œä¹Ÿç‚ºè‡ªå·±ç•¶å€‹å°æŠ„\né–‹å•Ÿç›¸æ©Ÿæˆ–ç›¸ç‰‡ https://line.me/R/nv/camera (æ‰“é–‹ç›¸æ©Ÿ) https://line.me/R/nv/cameraRoll/single (æ‰“é–‹ç›¸ç°¿ï¼Œå‚³é€ä¸€å¼µ) https://line.me/R/nv/cameraRoll/multi (æ‰“é–‹ç›¸ç°¿ï¼Œå‚³é€å¤šå¼µ\né–‹å•Ÿå®šä½ https://line.me/R/nv/location/\t(æ‰“é–‹åœ°åœ–)\nåˆ†äº«å®˜æ–¹å¸³è™Ÿ https://line.me/R/ti/p/(ç›´æ¥è·³è‡³æ­¤Botçš„å°è©±è¦–çª—) https://line.me/R/nv/recommendOA/(å‚³é€æ­¤Botçµ¦å¥½å‹) https://line.me/R/home/public/main?id=(Botä¸»é ) https://line.me/R/home/public/profile?id=(Botå€‹äººæª”æ¡ˆé ) https://line.me/R/home/public/post?id=svgvs\u0026amp;postId={postId} (ç§»è‡³è²¼æ–‡)\nChatbox https://line.me/R/share?text=Hello (åˆ†äº«çµ¦å¥½å‹è¨Šæ¯) https://line.me/R/oaMessage/@102svgvs/?Helloå­¸é™¢ (è·³è‡³Botå°è©±è¦–çª—ï¼Œä¸¦å¸¶å…¥æ–‡å­—åˆ°Chatbox)\nå€‹äººè³‡è¨Šç›¸é—œ https://line.me/R/nv/profile (å€‹äººæª”æ¡ˆé ) https://line.me/R/nv/profileSetId (ç§»ç½®å€‹äººIDè¨­å®šé ) https://line.me/R/nv/chat (ç§»ç½®å°è©±åˆ—è¡¨) https://line.me/R/nv/timeline (ç§»è‡³å‹•æ…‹åˆ—è¡¨) https://line.me/R/nv/wallet\t(ç§»è‡³éŒ¢åŒ…) https://line.me/R/nv/addFriends (åŠ å…¥å¥½å‹é ) https://line.me/R/nv/officialAccounts (æ¢ç´¢å®˜æ–¹å¸³è™Ÿ) https://line.me/R/nv/settings (è¨­å®šé ) https://line.me/R/nv/settings/account (å€‹äººå¸³è™Ÿè¨­å®šé ) https://line.me/R/nv/connectedApps (ç®¡ç†å·²é€£çµçš„ChatBot) https://line.me/R/nv/connectedDevices (ç®¡ç†å·²é€£çµçš„è¨­å‚™) https://line.me/R/nv/settings/privacy (éš±ç§è¨­å®š) https://line.me/R/nv/things/deviceLink (ç®¡ç†Line Thingå·²é€£çµè£ç½®) https://line.me/R/nv/settings/sticker (è²¼åœ–è¨­å®š) https://line.me/R/nv/stickerShop/mySticker (æˆ‘çš„è²¼åœ–) https://line.me/R/nv/settings/themeSettingsMenu ç„¡æ•ˆé€£çµ https://line.me/R/nv/settings/theme (ä¸»é¡Œè¨­å®š) https://line.me/R/nv/themeSettings\t(ä¸»é¡Œä¸€è¦½) https://line.me/R/nv/notificationServiceDetail (é€£å‹•ä¸­çš„æ‡‰ç”¨ç¨‹å¼) https://line.me/R/nv/settings/chatSettings\t(èŠå¤©è¨­å®š) https://line.me/R/nv/suggestSettings (é¡¯ç¤ºå»ºè­°è²¼åœ–) https://line.me/R/nv/settings/callSettings (é€šè©±è¨­å®š) https://line.me/R/nv/settings/addressBookSync (å¥½å‹è¨­å®š) https://line.me/R/nv/settings/timelineSettings (è²¼æ–‡ä¸²è¨­å®š)\næ‰“é–‹è²¼åœ–å°èˆ– https://line.me/R/shop/sticker/detail/{package_id} (æ‰“é–‹è²¼åœ–å°èˆ–é€£çµ) https://line.me/R/shop/category/{category_id} (å®˜æ–¹è²¼åœ–é€£çµ) https://line.me/R/shop/sticker/author/{author_id} ä¸Šé¢ä¸‰å€‹çš„IDå¯ä»¥å¾ https://store.line.me/ çš„ URL å–å¾— ID\nhttps://line.me/R/nv/stickerShop (è²¼åœ–å°èˆ–) https://line.me/R/shop/sticker/hot (ç†±é–€è²¼åœ–) https://line.me/R/shop/sticker/new (æœ€æ–°è²¼åœ–) https://line.me/R/shop/sticker/event (è²¼åœ–æ´»å‹•) https://line.me/R/shop/sticker/category (è²¼åœ–åˆ†é¡)\næ‰“é–‹ä¸»é¡Œ https://line.me/R/shop/theme/detail?id={product_id}\nLine Out https://line.me/R/calls (é€šè©±ç´€éŒ„) https://line.me/R/call/\u0026lt;åœ‹ç¢¼\u0026gt;/\u0026lt;è™Ÿç¢¼\u0026gt;(Line Out, å°ç£æœªæ”¯æ´) https://line.me/R/call/dialpad\t(Line Out, å°ç£æœªæ”¯æ´) https://line.me/R/call/settings\t(Line Out, å°ç£æœªæ”¯æ´) https://line.me/R/call/contacts (Line Out, å°ç£æœªæ”¯æ´) https://line.me/R/call/redeem (Line Out, å°ç£æœªæ”¯æ´)\n","permalink":"https://kyleap.github.io/play-with-line-url-scheme/","summary":"å¯« Line Bot ä¹Ÿæ‡‰è©²ç†è§£ Line URL Scheme æ€éº¼ç”¨ï¼Œå®ƒæ˜¯é€éä¸€ä¸²ç‰¹æ®Šçš„ URL ä¾†å•Ÿå‹• Line çš„åŠŸèƒ½ï¼Œå¯ä»¥è¨­è¨ˆæ–¼ BOt çš„ URL Actionï¼Œæˆ–è€…æ˜¯ç›´æ¥å‚³è‡³å°è©±æ¡†ï¼Œè®“ä½¿ç”¨è€…é»æ“Šæ­¤ç¯‡æ–‡ç« å°±èƒ½å¼•å°åˆ°é–‹å•Ÿä¸€äº›åŠŸèƒ½ï¼Œæ­¤ç¯‡æ–‡ç« é‚Šç©ä¸¦åšå€‹ç´€éŒ„ï¼Œä¹Ÿç‚ºè‡ªå·±ç•¶å€‹å°æŠ„\né–‹å•Ÿç›¸æ©Ÿæˆ–ç›¸ç‰‡ https://line.me/R/nv/camera (æ‰“é–‹ç›¸æ©Ÿ) https://line.me/R/nv/cameraRoll/single (æ‰“é–‹ç›¸ç°¿ï¼Œå‚³é€ä¸€å¼µ) https://line.me/R/nv/cameraRoll/multi (æ‰“é–‹ç›¸ç°¿ï¼Œå‚³é€å¤šå¼µ\né–‹å•Ÿå®šä½ https://line.me/R/nv/location/\t(æ‰“é–‹åœ°åœ–)\nåˆ†äº«å®˜æ–¹å¸³è™Ÿ https://line.me/R/ti/p/(ç›´æ¥è·³è‡³æ­¤Botçš„å°è©±è¦–çª—) https://line.me/R/nv/recommendOA/(å‚³é€æ­¤Botçµ¦å¥½å‹) https://line.me/R/home/public/main?id=(Botä¸»é ) https://line.me/R/home/public/profile?id=(Botå€‹äººæª”æ¡ˆé ) https://line.me/R/home/public/post?id=svgvs\u0026amp;postId={postId} (ç§»è‡³è²¼æ–‡)\nChatbox https://line.me/R/share?text=Hello (åˆ†äº«çµ¦å¥½å‹è¨Šæ¯) https://line.me/R/oaMessage/@102svgvs/?Helloå­¸é™¢ (è·³è‡³Botå°è©±è¦–çª—ï¼Œä¸¦å¸¶å…¥æ–‡å­—åˆ°Chatbox)\nå€‹äººè³‡è¨Šç›¸é—œ https://line.me/R/nv/profile (å€‹äººæª”æ¡ˆé ) https://line.me/R/nv/profileSetId (ç§»ç½®å€‹äººIDè¨­å®šé ) https://line.me/R/nv/chat (ç§»ç½®å°è©±åˆ—è¡¨) https://line.me/R/nv/timeline (ç§»è‡³å‹•æ…‹åˆ—è¡¨) https://line.me/R/nv/wallet\t(ç§»è‡³éŒ¢åŒ…) https://line.me/R/nv/addFriends (åŠ å…¥å¥½å‹é ) https://line.me/R/nv/officialAccounts (æ¢ç´¢å®˜æ–¹å¸³è™Ÿ) https://line.me/R/nv/settings (è¨­å®šé ) https://line.me/R/nv/settings/account (å€‹äººå¸³è™Ÿè¨­å®šé ) https://line.me/R/nv/connectedApps (ç®¡ç†å·²é€£çµçš„ChatBot) https://line.me/R/nv/connectedDevices (ç®¡ç†å·²é€£çµçš„è¨­å‚™) https://line.me/R/nv/settings/privacy (éš±ç§è¨­å®š) https://line.me/R/nv/things/deviceLink (ç®¡ç†Line Thingå·²é€£çµè£ç½®) https://line.me/R/nv/settings/sticker (è²¼åœ–è¨­å®š) https://line.me/R/nv/stickerShop/mySticker (æˆ‘çš„è²¼åœ–) https://line.","title":"ä¸ç”¨å¯«ç¨‹å¼ï¼ŒLine URL Scheme æ‡‰ç”¨æ•´ç†"},{"content":" å•ƒæ›¸ä»£è¡¨æ˜¯åœ¨é–±è®€æ™‚ï¼Œé‡å°è‡ªå·±æœ‰å¹«åŠ©çš„ç‰‡æ®µï¼Œåšåæ€èˆ‡ç´€éŒ„ï¼Œå¦‚æƒ³é–±è®€å®Œæ•´çŸ¥è­˜å»ºè­°é‚„æ˜¯è³¼è²·å®Œæ•´æ›¸ç± :P\n always center.\nChatbot çš„æ©Ÿæœƒèˆ‡æœªä¾† è¿‘å¹´ä¾† Chatbot æŠ€è¡“èˆˆèµ·ï¼Œä½¿ç”¨è€…ä¸‹è¼‰Appæ„é¡˜é™ä½ï¼ŒåŠ ä¸Šå„å¤§å¹³å°ä¹Ÿé–‹å§‹æ¨å‡ºèŠå¤©æ©Ÿå™¨äººApiä¸²æ¥ï¼Œé–‹å§‹è¶Šä¾†è¶Šå¤šæ‡‰ç”¨å‡ºç¾ï¼Œäº¤äº’ä»‹é¢å·²ç¶“å¾å‚³çµ±çš„Appé»æ“Šäº’å‹•ï¼Œè½‰è®Šç‚ºå°è©±äº’å‹•ï¼Œä¹Ÿå› ç‚º Chatbot ä¾é™„åœ¨å„å¤§å¹³å°ä¸Š e.g Line/Facebookâ€¦ç­‰ï¼Œæ¨å»£ä¸Šä¹Ÿè¼ƒå®¹æ˜“ï¼Œå†åŠ ä¸Šè‡ªç„¶èªè¨€åˆ†ææŠ€è¡“æ—¥æ¼¸æˆç†Ÿï¼Œè¶Šä¾†è¶Šå¤šçš„AIæœå‹™å¯ä»¥æ‡‰ç”¨ï¼Œå¯ä»¥æƒ³åƒæˆç™¾ä¸Šåƒçš„ App æœƒé€æ¼¸è½‰ç‚º Chatbotã€‚\nåœ¨è¨­è¨ˆ Chatbot æ™‚ï¼Œè¦æ™‚åˆ»è¨˜å¾—å°è©±äº¤äº’æ˜¯æ‰‹æ®µè€Œéç›®çš„ï¼Œè¦é€šéæœ€ç°¡å–®çš„äº’å‹•æ–¹å¼è®“ä½¿ç”¨è€…ç²å–æœå‹™ï¼Œè€Œæœ€ç°¡å–®çš„äº¤ä»˜æ–¹å¼ä¸ä¸€å®šè¦ç”¨å°è©±ï¼Œé€™æ™‚å°±èƒ½é€éåœ–å½¢åŒ–ä»‹é¢èˆ‡äººå·¥æ¥å…¥æµç¨‹ä¾†æ›¿ä½¿ç”¨è€…å®Œæˆç›®æ¨™ï¼Œä¸”æ‡‰è©²æ™‚æ™‚åˆ»åˆ»å»è§€å¯Ÿä½¿ç”¨è€…çš„å¿ƒç†è®ŠåŒ–ï¼Œè§€å¯Ÿä¸Šä¸‹æ–‡ï¼Œæ˜¯å¦é€ æˆè¿·è·¯ï¼Œè§€å¯Ÿå°è©±ç¯€å¥æ˜¯å¦åˆç†ï¼Œé€æ­¥çš„èª¿æ•™èˆ‡å„ªåŒ–æµç¨‹ï¼Œè®“é‡è¤‡æ€§çš„ä»»å‹™äº¤çµ¦Botå¼•å°ä¾†å®Œæˆã€‚æœ¬æ›¸æå‡ºè»Ÿé«”é–‹ç™¼çš„ç”Ÿå‘½é€±æœŸï¼Œæä¾›çµ¦ç”¢å“è¨­è¨ˆå¸«åœ¨è¦åŠƒ Chatbot ç”¢å“æ™‚ä¸€å€‹æŒ‡å—ã€‚\næ€è€ƒä¸€ä¸‹ç”¢å“å®šä½ï¼Œå®šç¾©ç”¢å“é‚Šç•Œ Chatobt çš„æ‡‰ç”¨æƒ…å¢ƒå¤§æ¦‚å¯ä»¥åˆ†ç‚ºé–‹æ”¾é ˜åŸŸ (open-domain) æˆ–å°é–‰é ˜åŸŸ (closed-domain) å…©å¤§é¡ï¼Œé–‹æ”¾å¼å¤§æ¦‚æ²’æœ‰é™å®šä¸»é¡Œï¼ŒåƒGoogleåŠ©ç†æˆ–è€… Siri é€™ç¨®å•ä»€éº¼éƒ½è‡ªç”±å°è©±ï¼Œé€™å¯¦è¸èµ·ä¾†ä¹Ÿè¼ƒå›°é›£ï¼Œè€Œå°é–‰å¼é€šå¸¸æœƒé™ç¸®åœ¨ä¸€å®šçš„å ´æ™¯ä¸‹ï¼Œä¹Ÿå°±æ˜¯ Chatbot çš„è¼¸å…¥è¼¸å‡ºæ˜¯æœ‰é™çš„ï¼Œè­¬å¦‚è¨‚ä½ç‚ºåœ¨ç·šå®¢æœ/æ•™è‚²/å€‹äººåŠ©ç†ï¼Œè·Ÿé€™å¹¾å€‹ä»»å‹™ç„¡é—œçš„äº‹é …ï¼Œå°±å¼•å°å®¢æˆ¶èƒ½ç›®å‰èƒ½å®Œæˆä»€éº¼äº‹æƒ…ï¼Œåƒ…é‡å°è©²é ˜åŸŸï¼Œçµåˆå•†æ¥­.ç”¢å“.é‹ç‡Ÿï¼Œé‡å°é ˜åŸŸå ´æ™¯å„ªåŒ–äº¤äº’å…§å®¹ã€‚\nä»¥æ‡‰ç”¨å¸‚å ´è§’åº¦ä¾†çœ‹ï¼Œå¯ä»¥å°‡ Chatbot å®šç‚ºå››é¡:\n é™ªä¼´å‹: è‡ªç”±å›ç­”ï¼Œè­¬å¦‚å…’ç«¥é™ªä¼´é¡çš„Bot å•†å‹™å‹: å”åŠ©ä¼æ¥­å®Œæˆå•†æ¥­ä»»å‹™Botï¼Œè­¬å¦‚ Github æ¨å‡º Hubot ä¾†å®Œæˆè·Ÿ DevOps æœ‰é—œçš„ç›¸é—œä»»å‹™ è³‡è¨Šå‹: è®“ä½¿ç”¨è€…ç²å–æ–°èé¡çš„è¨Šæ¯ï¼Œè­¬å¦‚ç–¾ç®¡å®¶ æŒ‡ä»¤å‹: é€éæŒ‡ä»¤ä¾†è®“Botå®Œæˆä¸€äº›ä»»å‹™ï¼Œè­¬å¦‚ä¸²æ¥æ™ºèƒ½å®¶é›»æ‰“é–‹é›»ç‡ˆ/é›»è¦–   åœ¨è¨­è¨ˆ Chatbot å‰ï¼Œå…ˆæ€è€ƒä¸€ä¸‹ç”¢å“å®šä½ï¼ŒæŠŠå•†å‹™å‹çš„botå°è©±è¨­è¨ˆæˆåƒé™ªä¼´å‹ï¼Œåªæœƒè®“äººæ„Ÿè¦ºåˆ°é€™å€‹Botå¾ˆä¸æ™ºèƒ½ï¼Œä»€éº¼éƒ½ä¸æœƒï¼Œé€ æˆæ¥µå·®çš„ä½¿ç”¨è€…é«”é©—\n æµç¨‹è¨­è¨ˆæ‡‰å°ˆæ³¨åœ¨å®Œæˆå•†æ¥­ç›®æ¨™åŠå¹«åŠ©ä½¿ç”¨è€…å®Œæˆä»»å‹™ å½±éŸ¿ç¶²ç«™æˆåŠŸçš„æ‡‰ç”¨ç¨‹å¼éƒ½æœ‰ä¸€å€‹å…±åŒé»ï¼Œå“è¶Šçš„ä½¿ç”¨è€…é«”é©—ï¼ŒChatbot å¯é€éä»¥ä¸‹å› ç´ ä¾†è©•ä¼°\n å¦‚ä½•ç”¨æœ€å°‘çš„æ­¥é©Ÿè§£æ±ºä½¿ä½¿ç”¨è€…å•é¡Œ? èƒ½æ¯”å…¶ä»–æ–¹å¼æ›´å¥½è§£æ±ºä½¿ç”¨è€…å•é¡Œ? èƒ½å¦åœ¨ä½¿ç”¨è€…ç¿’æ…£çš„å¹³å°ä¸Šé‹è¡Œ ç”¨æˆ¶ç²å– Chatbot çš„é€”å¾‘æ˜¯å¦æ–¹ä¾¿ ç”¨æˆ¶èƒ½ç„¡é–€æª»çš„ä½¿ç”¨ Chatbot  åœ¨é€²é–‹ç™¼å‰ï¼Œå¯é€éä»¥ä¸‹çš„æ­¥é©Ÿä¾†æ”¶æ–‚éœ€æ±‚ï¼šå…ˆæœ‰å¤§é‡çš„å°è©±è…³æœ¬ï¼Œå†ä¾†ç¹ªè£½æµç¨‹åœ–ï¼ŒChatbot å¸¸è¦‹çš„æŠ€è¡“åè©æœ‰æ„åœ– (intent) åŠ å¯¦é«” (entity)ï¼Œç¹ªè£½æµç¨‹åœ–é¿å…å°‡æ„åœ–è·Ÿå°è©±æ··åœ¨ä¸€èµ·æ€è€ƒï¼Œå› å°è©±å­˜åœ¨å¤šç¨®å¯èƒ½ï¼Œæ•…ä¸èƒ½åªè€ƒæ…®æ ¸å¿ƒå ´æ™¯ï¼Œæ•…å¯å¾å°è©±è…³æœ¬è£¡é¢ç¢ºå®šå ´æ™¯èˆ‡å„ªå…ˆåŠæ‹†å‡ºæ„åœ–è·Ÿå¯¦é«”ï¼Œe.g æ„åœ–å¯èƒ½å¾å„ªå…ˆç´šæ’åºæœƒæ˜¯\n è¨‚ç«è»Šç¥¨ (p1) å¸¸è¦‹å•é¡Œ (p2) å¤©æ°£æŸ¥è©¢ (p3) ç°¡å–®å•å€™èªç­”è¬ (p4)  ä»¥è¨‚ç«è»Šç¥¨ç‚ºä¾‹ï¼Œè¨‚ç¥¨å¯æ‹†å‡ºé—œéµè¨Šæ¯ï¼šå‡ºç™¼æ™‚é–“.åˆ°é”æ™‚é–“.ç«è»Šé¡å‹.è»Šä½.åº§ä½\né€²è€Œæ‹†å‡ºå¯¦é«” (Entity) e.g ç«è»Šé¡å‹å¯æ‹†å‡ºçš„ entityç‚º:é«˜éµ/å°éµâ€¦ï¼Œå‡ºç™¼æ™‚é–“å¯æ‹†å‡ºä¸Šåˆ/ä¸‹åˆ/æ™šä¸Š (éœ€å¦å¤–è¨­è¨ˆè³‡æ–™çµæ§‹å®šç¾©ä½•è¬‚ä¸Šåˆæ™‚æ®µ)\né€™äº›æ”¶æ–‚å¯ä»¥ç”¨å¿ƒæ™ºåœ–å¾ˆå¥½çš„æ‹‰å‡ºèˆ‡æ­¸ç´:\næ•´ç†å®Œæ„åœ–èˆ‡è¨Šæ¯å¾Œï¼Œå¯ç¹ªè£½å–®æ„åœ–çš„æµç¨‹åœ–ï¼Œè­¬å¦‚ä»¥ä¸‹ Chatbot çš„æ„åœ–æµç¨‹:\nè’ç¾…åœ‹å…§å¤–æ¡ˆä¾‹ !48å€‹ FB x LINE Chatbot ç©æ³•å¤§å…¬é–‹\nChatbot æœ‰æ™‚æœƒç‰½æ‰¯ç¬¬ä¸‰æ–¹æœå‹™ä¸²æ¥ï¼Œé€™æ™‚ç”¨æ³³é“åœ–å°±èƒ½å¾ˆå¥½çš„è¡¨é”:\næŠ½å–å¯¹è¯æµç¨‹\nä¸Šç·šå¾Œè§€æ¸¬æŒ‡æ¨™ Chatbot ä¸Šç·šå¾Œçš„æŒ‡æ¨™ç›£æ§ï¼Œç”±æ–¼é–’èŠå‹Botéæ–¼è¤‡é›œ (å¯ä»¥æ€è€ƒæˆæ˜¯ç”±ç„¡æ•¸å€‹ä»»å‹™å‹çš„Botçš„é›†æˆ)ï¼Œæ•…ä¸å†è¨è«–ç¯„åœï¼Œå°æ–¼èªæ„äº†å¯ä»¥åˆ†ææ„åœ–/å¯¦é«”çš„èƒ½åŠ›ï¼Œä¹Ÿå¯å°‡éŒ¯å­—å®¹éŒ¯ç‡/åŒç¾©è©è½‰åŒ–åŠ å…¥ç›£æ§çš„ç¯„åœï¼Œå°è©±ç®¡ç†çš„æ¸¬è©•æŒ‡æ¨™ï¼Œå¯é€éä»»å‹™å®Œæˆç‡ã€ç”¨æˆ¶æ»¿æ„åº¦ã€å°è©±è¼ªæ¬¡å®Œæˆåº¦(ä»»å‹™å‹æ‡‰è©²è¦åœ¨æœ€ä½çš„æ­¥é©Ÿå¼•å°å®Œæˆä»»å‹™)â€¦ä¾†å®šç¾©ä¸€äº›æŒ‡æ¨™ã€‚\né–’èŠå‹çš„ Chatbot å¯é€éæº–ç¢ºç‡ (æ­£ç¢ºå›ç­”/å•é¡Œç¸½æ•¸) ï¼›å¬å›ç‡(èƒ½å›ç­”çš„å•é¡Œæ•¸/å•é¡Œç¸½æ•¸)ï¼›æœªè½‰ç‚ºäººå·¥å®¢æœçš„å•é¡Œè§£æ±ºç‡(æˆåŠŸè§£æ±ºçš„å•é¡Œæ•¸)ï¼Œä¾†åšæŒ‡æ¨™è¡¡é‡\n","permalink":"https://kyleap.github.io/chatbot-zero-to-one/","summary":"å•ƒæ›¸ä»£è¡¨æ˜¯åœ¨é–±è®€æ™‚ï¼Œé‡å°è‡ªå·±æœ‰å¹«åŠ©çš„ç‰‡æ®µï¼Œåšåæ€èˆ‡ç´€éŒ„ï¼Œå¦‚æƒ³é–±è®€å®Œæ•´çŸ¥è­˜å»ºè­°é‚„æ˜¯è³¼è²·å®Œæ•´æ›¸ç± :P\n always center.\nChatbot çš„æ©Ÿæœƒèˆ‡æœªä¾† è¿‘å¹´ä¾† Chatbot æŠ€è¡“èˆˆèµ·ï¼Œä½¿ç”¨è€…ä¸‹è¼‰Appæ„é¡˜é™ä½ï¼ŒåŠ ä¸Šå„å¤§å¹³å°ä¹Ÿé–‹å§‹æ¨å‡ºèŠå¤©æ©Ÿå™¨äººApiä¸²æ¥ï¼Œé–‹å§‹è¶Šä¾†è¶Šå¤šæ‡‰ç”¨å‡ºç¾ï¼Œäº¤äº’ä»‹é¢å·²ç¶“å¾å‚³çµ±çš„Appé»æ“Šäº’å‹•ï¼Œè½‰è®Šç‚ºå°è©±äº’å‹•ï¼Œä¹Ÿå› ç‚º Chatbot ä¾é™„åœ¨å„å¤§å¹³å°ä¸Š e.g Line/Facebookâ€¦ç­‰ï¼Œæ¨å»£ä¸Šä¹Ÿè¼ƒå®¹æ˜“ï¼Œå†åŠ ä¸Šè‡ªç„¶èªè¨€åˆ†ææŠ€è¡“æ—¥æ¼¸æˆç†Ÿï¼Œè¶Šä¾†è¶Šå¤šçš„AIæœå‹™å¯ä»¥æ‡‰ç”¨ï¼Œå¯ä»¥æƒ³åƒæˆç™¾ä¸Šåƒçš„ App æœƒé€æ¼¸è½‰ç‚º Chatbotã€‚\nåœ¨è¨­è¨ˆ Chatbot æ™‚ï¼Œè¦æ™‚åˆ»è¨˜å¾—å°è©±äº¤äº’æ˜¯æ‰‹æ®µè€Œéç›®çš„ï¼Œè¦é€šéæœ€ç°¡å–®çš„äº’å‹•æ–¹å¼è®“ä½¿ç”¨è€…ç²å–æœå‹™ï¼Œè€Œæœ€ç°¡å–®çš„äº¤ä»˜æ–¹å¼ä¸ä¸€å®šè¦ç”¨å°è©±ï¼Œé€™æ™‚å°±èƒ½é€éåœ–å½¢åŒ–ä»‹é¢èˆ‡äººå·¥æ¥å…¥æµç¨‹ä¾†æ›¿ä½¿ç”¨è€…å®Œæˆç›®æ¨™ï¼Œä¸”æ‡‰è©²æ™‚æ™‚åˆ»åˆ»å»è§€å¯Ÿä½¿ç”¨è€…çš„å¿ƒç†è®ŠåŒ–ï¼Œè§€å¯Ÿä¸Šä¸‹æ–‡ï¼Œæ˜¯å¦é€ æˆè¿·è·¯ï¼Œè§€å¯Ÿå°è©±ç¯€å¥æ˜¯å¦åˆç†ï¼Œé€æ­¥çš„èª¿æ•™èˆ‡å„ªåŒ–æµç¨‹ï¼Œè®“é‡è¤‡æ€§çš„ä»»å‹™äº¤çµ¦Botå¼•å°ä¾†å®Œæˆã€‚æœ¬æ›¸æå‡ºè»Ÿé«”é–‹ç™¼çš„ç”Ÿå‘½é€±æœŸï¼Œæä¾›çµ¦ç”¢å“è¨­è¨ˆå¸«åœ¨è¦åŠƒ Chatbot ç”¢å“æ™‚ä¸€å€‹æŒ‡å—ã€‚\næ€è€ƒä¸€ä¸‹ç”¢å“å®šä½ï¼Œå®šç¾©ç”¢å“é‚Šç•Œ Chatobt çš„æ‡‰ç”¨æƒ…å¢ƒå¤§æ¦‚å¯ä»¥åˆ†ç‚ºé–‹æ”¾é ˜åŸŸ (open-domain) æˆ–å°é–‰é ˜åŸŸ (closed-domain) å…©å¤§é¡ï¼Œé–‹æ”¾å¼å¤§æ¦‚æ²’æœ‰é™å®šä¸»é¡Œï¼ŒåƒGoogleåŠ©ç†æˆ–è€… Siri é€™ç¨®å•ä»€éº¼éƒ½è‡ªç”±å°è©±ï¼Œé€™å¯¦è¸èµ·ä¾†ä¹Ÿè¼ƒå›°é›£ï¼Œè€Œå°é–‰å¼é€šå¸¸æœƒé™ç¸®åœ¨ä¸€å®šçš„å ´æ™¯ä¸‹ï¼Œä¹Ÿå°±æ˜¯ Chatbot çš„è¼¸å…¥è¼¸å‡ºæ˜¯æœ‰é™çš„ï¼Œè­¬å¦‚è¨‚ä½ç‚ºåœ¨ç·šå®¢æœ/æ•™è‚²/å€‹äººåŠ©ç†ï¼Œè·Ÿé€™å¹¾å€‹ä»»å‹™ç„¡é—œçš„äº‹é …ï¼Œå°±å¼•å°å®¢æˆ¶èƒ½ç›®å‰èƒ½å®Œæˆä»€éº¼äº‹æƒ…ï¼Œåƒ…é‡å°è©²é ˜åŸŸï¼Œçµåˆå•†æ¥­.ç”¢å“.é‹ç‡Ÿï¼Œé‡å°é ˜åŸŸå ´æ™¯å„ªåŒ–äº¤äº’å…§å®¹ã€‚\nä»¥æ‡‰ç”¨å¸‚å ´è§’åº¦ä¾†çœ‹ï¼Œå¯ä»¥å°‡ Chatbot å®šç‚ºå››é¡:\n é™ªä¼´å‹: è‡ªç”±å›ç­”ï¼Œè­¬å¦‚å…’ç«¥é™ªä¼´é¡çš„Bot å•†å‹™å‹: å”åŠ©ä¼æ¥­å®Œæˆå•†æ¥­ä»»å‹™Botï¼Œè­¬å¦‚ Github æ¨å‡º Hubot ä¾†å®Œæˆè·Ÿ DevOps æœ‰é—œçš„ç›¸é—œä»»å‹™ è³‡è¨Šå‹: è®“ä½¿ç”¨è€…ç²å–æ–°èé¡çš„è¨Šæ¯ï¼Œè­¬å¦‚ç–¾ç®¡å®¶ æŒ‡ä»¤å‹: é€éæŒ‡ä»¤ä¾†è®“Botå®Œæˆä¸€äº›ä»»å‹™ï¼Œè­¬å¦‚ä¸²æ¥æ™ºèƒ½å®¶é›»æ‰“é–‹é›»ç‡ˆ/é›»è¦–   åœ¨è¨­è¨ˆ Chatbot å‰ï¼Œå…ˆæ€è€ƒä¸€ä¸‹ç”¢å“å®šä½ï¼ŒæŠŠå•†å‹™å‹çš„botå°è©±è¨­è¨ˆæˆåƒé™ªä¼´å‹ï¼Œåªæœƒè®“äººæ„Ÿè¦ºåˆ°é€™å€‹Botå¾ˆä¸æ™ºèƒ½ï¼Œä»€éº¼éƒ½ä¸æœƒï¼Œé€ æˆæ¥µå·®çš„ä½¿ç”¨è€…é«”é©—\n æµç¨‹è¨­è¨ˆæ‡‰å°ˆæ³¨åœ¨å®Œæˆå•†æ¥­ç›®æ¨™åŠå¹«åŠ©ä½¿ç”¨è€…å®Œæˆä»»å‹™ å½±éŸ¿ç¶²ç«™æˆåŠŸçš„æ‡‰ç”¨ç¨‹å¼éƒ½æœ‰ä¸€å€‹å…±åŒé»ï¼Œå“è¶Šçš„ä½¿ç”¨è€…é«”é©—ï¼ŒChatbot å¯é€éä»¥ä¸‹å› ç´ ä¾†è©•ä¼°\n å¦‚ä½•ç”¨æœ€å°‘çš„æ­¥é©Ÿè§£æ±ºä½¿ä½¿ç”¨è€…å•é¡Œ? èƒ½æ¯”å…¶ä»–æ–¹å¼æ›´å¥½è§£æ±ºä½¿ç”¨è€…å•é¡Œ? èƒ½å¦åœ¨ä½¿ç”¨è€…ç¿’æ…£çš„å¹³å°ä¸Šé‹è¡Œ ç”¨æˆ¶ç²å– Chatbot çš„é€”å¾‘æ˜¯å¦æ–¹ä¾¿ ç”¨æˆ¶èƒ½ç„¡é–€æª»çš„ä½¿ç”¨ Chatbot  åœ¨é€²é–‹ç™¼å‰ï¼Œå¯é€éä»¥ä¸‹çš„æ­¥é©Ÿä¾†æ”¶æ–‚éœ€æ±‚ï¼šå…ˆæœ‰å¤§é‡çš„å°è©±è…³æœ¬ï¼Œå†ä¾†ç¹ªè£½æµç¨‹åœ–ï¼ŒChatbot å¸¸è¦‹çš„æŠ€è¡“åè©æœ‰æ„åœ– (intent) åŠ å¯¦é«” (entity)ï¼Œç¹ªè£½æµç¨‹åœ–é¿å…å°‡æ„åœ–è·Ÿå°è©±æ··åœ¨ä¸€èµ·æ€è€ƒï¼Œå› å°è©±å­˜åœ¨å¤šç¨®å¯èƒ½ï¼Œæ•…ä¸èƒ½åªè€ƒæ…®æ ¸å¿ƒå ´æ™¯ï¼Œæ•…å¯å¾å°è©±è…³æœ¬è£¡é¢ç¢ºå®šå ´æ™¯èˆ‡å„ªå…ˆåŠæ‹†å‡ºæ„åœ–è·Ÿå¯¦é«”ï¼Œe.","title":"(å•ƒæ›¸) Chatbotå¾0åˆ°1"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day30)\nçµ‚æ–¼èµ°åˆ°é€™ä¸€å¤©äº†ï¼Œæ¯æ¬¡éƒ½è¦ºå¾—éµäººè³½éç¨‹éƒ½ç”Ÿä¸å¦‚æ­»ï¼Œä½†å¯«å®Œ30å¤©å€™ç¸½æœ‰ä¸€ç¨®æˆå°±æ„Ÿï¼ŒæŠ€è¡“è·Ÿæ–‡ç« ä¸é›£ï¼Œé›£çš„æ˜¯30å¤©é¤Šæˆä¸€å€‹å›ºå®šçš„ç¿’æ…£é˜¿!\nå›åˆ°ç¬¬ä¸€å¤©æ–‡ç« æ‰€è¬›çš„ï¼šæ‰€ç”¨åˆ°çš„æŠ€è¡“é è¨ˆæ¡ç”¨ .NET Core 3.1ã€Html/CSS/JavaScriptã€Line API ã€Azureçš„ä¸€äº›æœå‹™â€¦ç­‰ç­‰ (ä½†å¯«é€™ç¯‡æ–‡ç« æ™‚å®Œå…¨é‚„æ²’å¯¦ä½œXDâ€¦åªèƒ½èªªå¾…è¨‚)\né€™æ¬¡å¯«å®Œ30å¤©ä¹Ÿæ”¶ç©«è‰¯å¤šï¼Œä¸»è¦ä¹Ÿæ˜¯æŒ‘ä¸€äº›ä¹‹å‰æ¯”è¼ƒå°‘ç¢°çš„æ±è¥¿é †ä¾¿ç©ç©çœ‹\n æŠŠ Line çš„ Api æ–‡ä»¶åˆå®Œæ•´Käº†ä¸€éï¼Œä¸¦ä¸€å€‹ä¸€å€‹å¯«æˆ .NET Core çš„ç‰ˆæœ¬ï¼Œ ä¹‹å‰æ¯”è¼ƒæ²’ç¢°éçš„æ˜¯ Line Pay/Line Beacon å¯«å¾—éç¨‹ä¸­çœ‹åˆ° vue æµ·è³Šç‹ç‰ˆæœ¬æ¨å‡º (vue 3.0)ï¼Œèµ·äº†å°ˆæ¡ˆå¯¦è¸äº†ä¸€äº›åŠŸèƒ½ï¼Œä¾†çœ‹çœ‹å®ƒçš„æ¶æ§‹ ç”¨äº† Razor Pageï¼Œè®“æˆ‘å›åˆ° ASP.NET WebForm çš„å¾©å¤æ„Ÿ ç©äº†ä¸€äº› Azure æœå‹™ï¼ŒAzure Storageã€QnA Makerï¼Œå…¶ä¸­ Azure SignalR Service æ˜¯ä¹‹å‰æ¯”è¼ƒæ²’ç©éçš„ æŠŠä¹‹å‰è‡ªå·±å©šç¦®ç”¨çš„ chatbot æ”¹ä¸€ç‰ˆï¼Œé †ä¾¿è¦çµ¦æ¥ä¸‹ä¾†çµå©šçš„æœ‹å‹ç”¨ XD çœŸå¯¦çš„æŠŠæ‰€åšçš„Side Projectçµ¦ç”¨ä¸Š é‚Šçœ‹æ–‡ä»¶é‚Šå¯«SDKå‡ºä¾†ï¼Œä¸¦é–‹æºå‡ºä¾†  æœ¬ç¯‡å°±ä¾†è¬›è¬›æœ€å¾Œä¸€å“©è·¯ï¼Œæ€éº¼ç™¼ä½ˆåˆ° NuGet ä¸Šå§ï¼\næˆ‘å°‡é€™æ¬¡ç³»åˆ—é‚Šèµ°é‚Šçœ‹å¾—çš„ç¨‹å¼ç¨ä½œæ•´ç†ï¼Œå»ºç«‹ä¸€å€‹ .NET Core çš„å‡½ç¤ºåº«å°ˆæ¡ˆ\nåœ¨ VS æŒ‰å³éµå¥—ä»¶\n æˆ–è€…å¯ä»¥ä½¿ç”¨CLI : dotnet pack\n ç·¨è¼¯å¥—ä»¶çš„è³‡è¨Š\nrelease ç·¨è­¯å¾Œï¼Œå¯ä»¥çœ‹åˆ° bin\\release æœ‰ nupkg æª”æ¡ˆ\næ¥è‘—åˆ° nuget.org è¨»å†Šä¸€å€‹å¸³è™Ÿï¼Œä¸¦æ–°å¢ Api Key\né»é¸ Copy ï¼Œ\nåœ¨ bin\\release åŸ·è¡Œ\ndotnet nuget push NetCoreLineBotSDK.0.1.3.nupkg --api-key \u0026lt;Nuget API Key\u0026gt; --source [https://api.nuget.org/v3/index.json](https://api.nuget.org/v3/index.json) ç­‰ä¸€æ®µæ™‚é–“ï¼Œå°±èƒ½çœ‹åˆ° NuGet çš„é€£çµå•¦~ https://www.nuget.org/packages/NetCoreLineBotSDK/\né–‹å§‹ç¬¬ä¸€å€‹ Line Chatbot é€™ç¯‡å†ä¾†å¿«é€Ÿåšä¸€æ¬¡ä¸€å€‹Line Chatbot Hello World\nå®‰è£å¥—ä»¶\nInstall-Package NetCoreLineBotSDK Startup.cs æ–°å¢ AddLineBotSDK\npublic void ConfigureServices(IServiceCollection services) { services.AddControllers(); services.AddLineBotSDK(Configuration); } appsettings.json å¢åŠ tokenï¼Œé€™äº›æ€éº¼æ‹¿? çœ‹é€™ç¯‡\n\u0026quot;LineSetting\u0026quot;: { \u0026quot;ChannelSecret\u0026quot;: \u0026quot;\u0026lt;Your Line Channel Secret\u0026gt;\u0026quot;, \u0026quot;ChannelAccessToken\u0026quot;: \u0026quot;\u0026lt;Your Line Channel Access Token\u0026gt;\u0026quot; } æ–°å¢ä¸€å€‹ Web Api\nç¹¼æ‰¿ LineBotAppï¼Œé‡å°ä¸åŒäº‹ä»¶ override è™•ç†\nç…§é€™ç¯‡æ–‡ç« ç”¨ ngrok Run èµ·ä¾†ï¼ŒURLè¨­å®šæ–¼ Line Develop å¾Œå°ï¼Œé€™æ¨£å°±å®Œæˆå•¦\næœ¬æ¬¡ Nuget é€£çµï¼šhttps://www.nuget.org/packages/NetCoreLineBotSDK/ Github é€£çµï¼šhttps://github.com/kyleap/NetCoreLineBotSDK\nç‰ˆæœ¬å…ˆå®šç‚º v0.1.0 QQ å› ç‚ºé‚„ä¸å¤ æˆç†Ÿï¼Œä¸€æ–¹é¢é‚„æ²’æœ‰å¯¦ä½œå®Œæ‰€æœ‰åŠŸèƒ½ï¼ŒåŸºæœ¬çš„ä¾‹å¤–è™•ç†èˆ‡åƒæ•¸çš„é©—è­‰éƒ½é‚„æ²’åŠ ä¸Šï¼Œä½†éµäººè³½é€™åªæ˜¯çš„é–‹å§‹ï¼Œä¸»è¦ä¹Ÿæ˜¯å¸Œæœ›ç”¨è‡ªå·±çš„SDKä¾†æ‡‰å°ä¹‹å¾Œçš„é–‹ç™¼ï¼Œå†ä¾†ä¹Ÿæœƒç¹¼çºŒæ’¥ç©ºå¾€ v1.0.0 æ¨é€²~\næœ¬ç³»åˆ—æ–‡ç« ç´¢å¼•åœ¨ç¬¬ä¸€ç¯‡ï¼šç”¨.NET Coreèˆ‡Line Botè£½ä½œå©šç¦®æ©Ÿå™¨äºº\næ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  å¦‚ä½•åšè‡ªå·±çš„å…ƒä»¶ï¼Œç™¼ä½ˆåˆ° NuGet https://docs.microsoft.com/zh-tw/nuget/nuget-org/publish-a-package  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-30/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day30)\nçµ‚æ–¼èµ°åˆ°é€™ä¸€å¤©äº†ï¼Œæ¯æ¬¡éƒ½è¦ºå¾—éµäººè³½éç¨‹éƒ½ç”Ÿä¸å¦‚æ­»ï¼Œä½†å¯«å®Œ30å¤©å€™ç¸½æœ‰ä¸€ç¨®æˆå°±æ„Ÿï¼ŒæŠ€è¡“è·Ÿæ–‡ç« ä¸é›£ï¼Œé›£çš„æ˜¯30å¤©é¤Šæˆä¸€å€‹å›ºå®šçš„ç¿’æ…£é˜¿!\nå›åˆ°ç¬¬ä¸€å¤©æ–‡ç« æ‰€è¬›çš„ï¼šæ‰€ç”¨åˆ°çš„æŠ€è¡“é è¨ˆæ¡ç”¨ .NET Core 3.1ã€Html/CSS/JavaScriptã€Line API ã€Azureçš„ä¸€äº›æœå‹™â€¦ç­‰ç­‰ (ä½†å¯«é€™ç¯‡æ–‡ç« æ™‚å®Œå…¨é‚„æ²’å¯¦ä½œXDâ€¦åªèƒ½èªªå¾…è¨‚)\né€™æ¬¡å¯«å®Œ30å¤©ä¹Ÿæ”¶ç©«è‰¯å¤šï¼Œä¸»è¦ä¹Ÿæ˜¯æŒ‘ä¸€äº›ä¹‹å‰æ¯”è¼ƒå°‘ç¢°çš„æ±è¥¿é †ä¾¿ç©ç©çœ‹\n æŠŠ Line çš„ Api æ–‡ä»¶åˆå®Œæ•´Käº†ä¸€éï¼Œä¸¦ä¸€å€‹ä¸€å€‹å¯«æˆ .NET Core çš„ç‰ˆæœ¬ï¼Œ ä¹‹å‰æ¯”è¼ƒæ²’ç¢°éçš„æ˜¯ Line Pay/Line Beacon å¯«å¾—éç¨‹ä¸­çœ‹åˆ° vue æµ·è³Šç‹ç‰ˆæœ¬æ¨å‡º (vue 3.0)ï¼Œèµ·äº†å°ˆæ¡ˆå¯¦è¸äº†ä¸€äº›åŠŸèƒ½ï¼Œä¾†çœ‹çœ‹å®ƒçš„æ¶æ§‹ ç”¨äº† Razor Pageï¼Œè®“æˆ‘å›åˆ° ASP.NET WebForm çš„å¾©å¤æ„Ÿ ç©äº†ä¸€äº› Azure æœå‹™ï¼ŒAzure Storageã€QnA Makerï¼Œå…¶ä¸­ Azure SignalR Service æ˜¯ä¹‹å‰æ¯”è¼ƒæ²’ç©éçš„ æŠŠä¹‹å‰è‡ªå·±å©šç¦®ç”¨çš„ chatbot æ”¹ä¸€ç‰ˆï¼Œé †ä¾¿è¦çµ¦æ¥ä¸‹ä¾†çµå©šçš„æœ‹å‹ç”¨ XD çœŸå¯¦çš„æŠŠæ‰€åšçš„Side Projectçµ¦ç”¨ä¸Š é‚Šçœ‹æ–‡ä»¶é‚Šå¯«SDKå‡ºä¾†ï¼Œä¸¦é–‹æºå‡ºä¾†  æœ¬ç¯‡å°±ä¾†è¬›è¬›æœ€å¾Œä¸€å“©è·¯ï¼Œæ€éº¼ç™¼ä½ˆåˆ° NuGet ä¸Šå§ï¼\næˆ‘å°‡é€™æ¬¡ç³»åˆ—é‚Šèµ°é‚Šçœ‹å¾—çš„ç¨‹å¼ç¨ä½œæ•´ç†ï¼Œå»ºç«‹ä¸€å€‹ .NET Core çš„å‡½ç¤ºåº«å°ˆæ¡ˆ\nåœ¨ VS æŒ‰å³éµå¥—ä»¶\n æˆ–è€…å¯ä»¥ä½¿ç”¨CLI : dotnet pack\n ç·¨è¼¯å¥—ä»¶çš„è³‡è¨Š","title":"éµäººè³½å®Œè³½æ•´ç†\u0026é–‹æº (30)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day29)\nåœ¨ä¸Šä¸€ç¯‡æˆ‘å€‘ç”¨ Console App ç™¼é€è¨Šæ¯åˆ° Api çš„ Server Hubï¼Œä¸¦å‘ˆç¾åœ¨HTMLä¸Šï¼Œä»Šå¤©é€™ç¯‡æˆ‘å€‘è¦ä¾†çµåˆ chatbotï¼Œå…¶å¯¦å°±æ˜¯åœ¨chatbotç•¶æˆSignalRçš„clientè€Œå·²ï¼Œå¯¦éš›æ•ˆæœå¦‚ä¸‹(æœ¬ç¯‡ä¸æœƒä»‹ç´¹CSSéƒ¨åˆ†)ï¼š\næ–°å¢ä¸€å€‹ MessageBoard class ä¾†è™•ç†ç•™è¨€æ¿ç™¼é€ï¼Œé€™éƒ¨åˆ†å¯ä»¥çœ‹é€™ç¯‡\nè€Œé€é Line çš„ User Id ï¼Œæˆ‘å€‘èƒ½å–å¾—ä½¿ç”¨è€…çš„å¤§é ­ç…§.å§“åâ€¦ç­‰ç­‰è³‡è¨Š\n public async Task ReplyAsync(string replyToken) { var profile = await lineProfileUtility.GetUserProfile(userId); var hubClient = new ClientSignalR(); await hubClient.Initialize(\u0026quot;http://localhost:12733/message\u0026quot;); await hubClient.SendHubMessage(\u0026quot;SendMessage\u0026quot;, profile.pictureUrl, profile.displayName, message); await lineMessageUtility.ReplyMessageAsync(replyToken, \u0026quot;è¬è¬æ‚¨ï¼Œæˆ‘å€‘å·²æ”¶åˆ°ç•™è¨€\u0026quot;); } GetUserProfile\n public async Task\u0026lt;UserProfile\u0026gt; GetUserProfile(string userId) { using (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;GET\u0026quot;), $\u0026quot;{lineMessageApiBaseUrl}/{userId}\u0026quot;)) { request.Headers.TryAddWithoutValidation(\u0026quot;Authorization\u0026quot;, $\u0026quot;Bearer {accessToken}\u0026quot;); var response = await httpClient.SendAsync(request); if(response.StatusCode != HttpStatusCode.OK) { // é€™é‚Šæœªä¾†æ‡‰è©²è¦ log èµ·ä¾† throw new Exception(\u0026quot;get_profile_error\u0026quot;); } var result = await response.Content.ReadAsStringAsync(); return JsonConvert.DeserializeObject\u0026lt;UserProfile\u0026gt;(result); } } } HTML éƒ¨åˆ†\né€™é‚Šæ˜¯ç”¨JavaScriptå»å¡DOMï¼Œå¦‚æœç”¨ä¸»æµæ¡†æ¶Angular/Vue/Reactå¯«èµ·ä¾†æ‡‰è©²æ›´ç°¡æ½”~\n document.addEventListener('DOMContentLoaded', function () { // å»ºç«‹é€£ç·š var connection = new signalR.HubConnectionBuilder() .withUrl('/message') //å› ç‚ºæ˜¯åŒå€‹ç¶²åŸŸï¼Œè¦è¦–æƒ…æ³æ›æˆå®ŒæˆServer Hubçš„URL .build(); // é–‹å§‹é€£ç·š connection.start() .then(function () { console.log('é€£ç·šæˆåŠŸ...'); }) .catch(function (error) { console.error(error.message); }); bindConnectionMessage(connection); // å‘ˆç¾è³‡æ–™åˆ°Html function createMessageEntry(imgUrl, encodedName, encodedMsg) { var entry = document.createElement('li'); var html = '\u0026lt;a href=\u0026quot;#\u0026quot;\u0026gt;\u0026lt;div\u0026gt;\u0026lt;div id=\u0026quot;divcss5\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;' + imgUrl +'\u0026quot; /\u0026gt;'; html += '\u0026lt;span class=\u0026quot;displayName\u0026quot;\u0026gt;' + encodedName+'\u0026lt;/span\u0026gt;'; html += '\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;p\u0026gt;' + encodedMsg+'\u0026lt;/p\u0026gt;\u0026lt;/a\u0026gt;'; entry.innerHTML = html; console.log(html); return entry; } // ç›£è½æ¥æ”¶è¨Šæ¯äº‹ä»¶ function bindConnectionMessage(connection) { connection.on('CallBackMessage', function (imgUrl, displayName, message) { if (!message) return; var encodedName = displayName; var encodedMsg = message.replace(/\u0026amp;/g, \u0026quot;\u0026amp;\u0026quot;).replace(/\u0026lt;/g, \u0026quot;\u0026lt;\u0026quot;).replace(/\u0026gt;/g, \u0026quot;\u0026gt;\u0026quot;); var messageEntry = createMessageEntry(imgUrl, encodedName, encodedMsg); var messageBox = document.getElementById('messages'); messageBox.appendChild(messageEntry); messageBox.scrollTop = messageBox.scrollHeight; }); } }); é€™æ¨£å°±èƒ½å®Œæˆå³æ™‚ç”¨Lineå‚³é€çš„ç•™è¨€æ¿äº†ï¼Œä½†é€™å€‹åªæ˜¯Demoï¼ŒçœŸæ­£çš„è©±é‚„æ˜¯è¦å¯©æ ¸ä¸€ä¸‹è¨Šæ¯ï¼Œä¸ç„¶æŠŠæ€ªæ€ªçš„è¨Šæ¯ç™¼é€åˆ°å¤§è¢å¹•å°±ä¸å¥½å•¦ã€‚Azure SignalR Service å·²ç¶“å¤§å¤§é™ä½åšå³æ™‚é€šè¨Šçš„é–‹ç™¼é–€æª»ï¼Œé€éé€™ç¨®æœå‹™å°±èƒ½å»ç™¼æƒ³æ›´å¤šçš„æ‡‰ç”¨ï¼\næ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  åœ¨ C# Clinet ç«¯ç™¼é€è¨Šæ¯è‡³ SignalR Hub https://daniel-krzyczkowski.github.io/Real-time-data-with-Microsoft-Azure-SignalR-Service/  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-29/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day29)\nåœ¨ä¸Šä¸€ç¯‡æˆ‘å€‘ç”¨ Console App ç™¼é€è¨Šæ¯åˆ° Api çš„ Server Hubï¼Œä¸¦å‘ˆç¾åœ¨HTMLä¸Šï¼Œä»Šå¤©é€™ç¯‡æˆ‘å€‘è¦ä¾†çµåˆ chatbotï¼Œå…¶å¯¦å°±æ˜¯åœ¨chatbotç•¶æˆSignalRçš„clientè€Œå·²ï¼Œå¯¦éš›æ•ˆæœå¦‚ä¸‹(æœ¬ç¯‡ä¸æœƒä»‹ç´¹CSSéƒ¨åˆ†)ï¼š\næ–°å¢ä¸€å€‹ MessageBoard class ä¾†è™•ç†ç•™è¨€æ¿ç™¼é€ï¼Œé€™éƒ¨åˆ†å¯ä»¥çœ‹é€™ç¯‡\nè€Œé€é Line çš„ User Id ï¼Œæˆ‘å€‘èƒ½å–å¾—ä½¿ç”¨è€…çš„å¤§é ­ç…§.å§“åâ€¦ç­‰ç­‰è³‡è¨Š\n public async Task ReplyAsync(string replyToken) { var profile = await lineProfileUtility.GetUserProfile(userId); var hubClient = new ClientSignalR(); await hubClient.Initialize(\u0026quot;http://localhost:12733/message\u0026quot;); await hubClient.SendHubMessage(\u0026quot;SendMessage\u0026quot;, profile.pictureUrl, profile.displayName, message); await lineMessageUtility.ReplyMessageAsync(replyToken, \u0026quot;è¬è¬æ‚¨ï¼Œæˆ‘å€‘å·²æ”¶åˆ°ç•™è¨€\u0026quot;); } GetUserProfile\n public async Task\u0026lt;UserProfile\u0026gt; GetUserProfile(string userId) { using (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;GET\u0026quot;), $\u0026quot;{lineMessageApiBaseUrl}/{userId}\u0026quot;)) { request.","title":"è£½ä½œå©šç¦®ç¾å ´å³æ™‚ç•™è¨€ç‰ˆ- Azure SignalR Service II (29)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day28)\nSignalRæ˜¯å¯¦ç¾å³æ™‚é€šè¨Šçš„æ¡†æ¶ï¼Œå¦‚ä¸‹åœ–ï¼Œåœ¨Server Hubå®£å‘Šè¦çµ¦clientç«¯å‘¼å«çš„æ–¹æ³•ï¼Œèƒ½å‚³é€å³æ™‚è¨Šæ¯çµ¦å·²é€£ç·šçš„ä½¿ç”¨è€…\nhttps://www.pubnub.com/learn/glossary/what-is-signalr/\nè€Œé€éAzure SignalR æœå‹™ï¼Œå¤§å¤§ç°¡åŒ–ä½¿ç”¨é–€æª»ï¼Œå¾ˆç°¡å–®å°±èƒ½å»ºç«‹ä¸€å€‹æœå‹™ï¼Œä¸”äº«æœ‰é›²ç«¯å¸¶ä¾†çš„é«˜æ‹“å±•æ€§ï¼Œé€™ç¯‡æ–‡ç« æœƒstep by step å¯¦ä½œä»¥ä¸‹å…§å®¹\n å»ºç«‹ Azure SignalR æœå‹™ å»ºç«‹ SignalR Server Hub å»ºç«‹ HTML Client å³æ™‚å‘ˆç¾è¨Šæ¯ å»ºç«‹ .NET Console App ä¾†ç™¼é€è¨Šæ¯  å»ºç«‹ Azure SignalR æœå‹™ ç™»å…¥Azureï¼Œé€²å…¥https://portal.azure.com/#create/Microsoft.SignalRGalleryPackage æ–°å¢æœå‹™\nå»ºå®Œå¾Œï¼Œåˆ°keyçš„é¸å–®ï¼Œæˆ‘å€‘ç­‰ç­‰éœ€è¦é€™å€‹ Connection String\nå»ºç«‹ SignalR Server Hub æ‰“é–‹ Web Api å°ˆæ¡ˆçš„ .csprojï¼ŒåŠ å…¥ä»¥ä¸‹ç¨‹å¼ç¢¼\n \u0026lt;ItemGroup\u0026gt; \u0026lt;DotNetCliToolReference Include=\u0026quot;Microsoft.VisualStudio.Web.CodeGeneration.Tools\u0026quot; Version=\u0026quot;2.0.0\u0026quot; /\u0026gt; \u0026lt;DotNetCliToolReference Include=\u0026quot;Microsoft.Extensions.SecretManager.Tools\u0026quot; Version=\u0026quot;2.0.0\u0026quot; /\u0026gt; \u0026lt;/ItemGroup\u0026gt; ç”¨ Nuget å®‰è£ Microsoft.Azure.SignalR\nåœ¨ Web Api å°ˆæ¡ˆæ¡ˆå³éµï¼Œå»ºç«‹ç®¡ç†ä½¿ç”¨è€…å¯†ç¢¼ï¼Œ\nå»ºç«‹ Azure:SignalR:ConnectionString ï¼ŒæŠŠå‰›å‰›çš„é€£ç·šå­—ä¸²è²¼ä¸Š\nWeb Api å°ˆæ¡ˆ Startup.cs çš„ ConfigureServices å¢åŠ  AddSignalR\n services.AddSignalR().AddAzureSignalR(); Configure å¢åŠ  Hub çš„å¯¦ä½œ app.UseEndpoints(endpoints =\u0026gt; { endpoints.MapControllers(); endpoints.MapRazorPages(); endpoints.MapHub\u0026lt;WeddingMessage\u0026gt;(\u0026quot;/message\u0026quot;); }); WeddingMessage.cs\nä¹‹å¾Œå¯ä»¥ä¾ç…§è‡ªå·±çš„éœ€æ±‚åœ¨æ­¤å¯¦ä½œæ–¹æ³•\n public class WeddingMessage : Hub { public void SendMessage(string name, string message) { Clients.All.SendAsync(\u0026quot;SendMessage\u0026quot;, name, message); } } ç°¡å–®å¹¾å€‹æ­¥é©Ÿå°±å®Œæˆ Server Side çš„ Hub\nå»ºç«‹ HTML Client å³æ™‚å‘ˆç¾è¨Šæ¯ æœ¬ç¯‡ç¹¼çºŒä½¿ç”¨ Razor Pageï¼Œä½†ç´”HTMLä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå› ç‚ºæˆ‘å€‘æœƒè¼‰å…¥SignalRçš„JavaScript SDK\n\u0026lt;script type=\u0026quot;text/javascript\u0026quot; src=\u0026quot;https://cdn.jsdelivr.net/npm/@@aspnet/signalr@1.1.0/dist/browser/signalr.min.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt; åœ¨JavaScriptä¹Ÿè »å®¹æ˜“å¯¦ä½œç™¼é€è¨Šæ¯åŠæ¥æ”¶è¨Šæ¯\n \u0026lt;script\u0026gt; document.addEventListener('DOMContentLoaded', function () { // å»ºç«‹é€£ç·š var connection = new signalR.HubConnectionBuilder() .withUrl('/message') //å› ç‚ºæ˜¯åŒå€‹ç¶²åŸŸï¼Œè¦è¦–æƒ…æ³æ›æˆå®ŒæˆServer Hubçš„URL .build(); // é–‹å§‹é€£ç·š connection.start() .then(function () { connection.send('SendMessage', 'SYSTEM', 'é€£ç·šæˆåŠŸ...'); }) .catch(function (error) { console.error(error.message); }); bindConnectionMessage(connection); // å‘ˆç¾è³‡æ–™åˆ°Html function createMessageEntry(encodedName, encodedMsg) { var entry = document.createElement('li'); entry.innerHTML = encodedName + \u0026quot;:\u0026quot; + encodedMsg; return entry; } // ç›£è½æ¥æ”¶è¨Šæ¯äº‹ä»¶ function bindConnectionMessage(connection) { connection.on('CallBackMessage', function (name, message) { if (!message) return; var encodedName = name; var encodedMsg = message.replace(/\u0026amp;/g, \u0026quot;\u0026amp;\u0026quot;).replace(/\u0026lt;/g, \u0026quot;\u0026lt;\u0026quot;).replace(/\u0026gt;/g, \u0026quot;\u0026gt;\u0026quot;); var messageEntry = createMessageEntry(encodedName, encodedMsg); var messageBox = document.getElementById('messages'); messageBox.appendChild(messageEntry); messageBox.scrollTop = messageBox.scrollHeight; }); } }); \u0026lt;/script\u0026gt; Html éƒ¨åˆ†\n\u0026lt;h2\u0026gt;Kyle's Wedding ç•™è¨€æ¿\u0026lt;/h2\u0026gt; \u0026lt;ul id=\u0026quot;messages\u0026quot;\u0026gt; \u0026lt;/ul\u0026gt; å»ºç«‹ .NET Console App ä¾†ç™¼é€è¨Šæ¯ å†ä¾†æˆ‘å€‘å»ºç«‹å€‹ Console App ä¾†ç™¼é€çœ‹çœ‹\nå®‰è£ Microsoft.AspNetCore.SignalR.Client\nå»ºç«‹ä¸€å€‹ ClientSignalR ä¾†å°è£ç™¼é€\n public class ClientSignalR { private HubConnection _hub; public HubConnection Hub { get; } private string _connectionUrl; public string ConnectionUrl { get; } public ClientSignalR() { } public async Task Initialize(string connectionUrl) { _connectionUrl = connectionUrl; _hub = new HubConnectionBuilder() .WithUrl(_connectionUrl) .Build(); await _hub.StartAsync(); } public async Task SendHubMessage(string methodName, string name, string message) { await _hub?.InvokeAsync(methodName, name, message); } public async Task CloseConnection() { await _hub.DisposeAsync(); } } Program.cs\n static async System.Threading.Tasks.Task Main(string[] args) { var hubClient = new ClientSignalR(); await hubClient.Initialize(\u0026quot;\u0026lt;Your Server Hub URL\u0026gt;/message\u0026quot;); while (true) { Console.WriteLine(\u0026quot;Please enter you message:\u0026quot;); var input = Console.ReadLine(); await hubClient.SendHubMessage(\u0026quot;SendMessage\u0026quot;, \u0026quot;Kyle\u0026quot;, input); } } å¯¦ä½œæ•ˆæœ ä»Šå¤©é€™ä¸€ç¯‡å…ˆé€™æ¨£é¿å…å¤ªé•·ï¼Œä¸‹ä¸€ç¯‡æˆ‘å€‘è¦ä¾†ç¾åŒ–HTML\u0026amp;è·ŸChatbotçµåˆ\næ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  å»ºç«‹ Azure SignalR æœå‹™ https://azure.microsoft.com/zh-tw/services/signalr-service/ å»ºç«‹ SignalR Server Hub https://docs.microsoft.com/zh-tw/azure/azure-signalr/signalr-quickstart-dotnet-core å»ºç«‹ HTML Client å³æ™‚å‘ˆç¾è¨Šæ¯ https://docs.microsoft.com/zh-tw/azure/azure-signalr/signalr-quickstart-dotnet-core å»ºç«‹ .NET Console App ä¾†ç™¼é€è¨Šæ¯ https://daniel-krzyczkowski.github.io/Real-time-data-with-Microsoft-Azure-SignalR-Service/  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-28/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day28)\nSignalRæ˜¯å¯¦ç¾å³æ™‚é€šè¨Šçš„æ¡†æ¶ï¼Œå¦‚ä¸‹åœ–ï¼Œåœ¨Server Hubå®£å‘Šè¦çµ¦clientç«¯å‘¼å«çš„æ–¹æ³•ï¼Œèƒ½å‚³é€å³æ™‚è¨Šæ¯çµ¦å·²é€£ç·šçš„ä½¿ç”¨è€…\nhttps://www.pubnub.com/learn/glossary/what-is-signalr/\nè€Œé€éAzure SignalR æœå‹™ï¼Œå¤§å¤§ç°¡åŒ–ä½¿ç”¨é–€æª»ï¼Œå¾ˆç°¡å–®å°±èƒ½å»ºç«‹ä¸€å€‹æœå‹™ï¼Œä¸”äº«æœ‰é›²ç«¯å¸¶ä¾†çš„é«˜æ‹“å±•æ€§ï¼Œé€™ç¯‡æ–‡ç« æœƒstep by step å¯¦ä½œä»¥ä¸‹å…§å®¹\n å»ºç«‹ Azure SignalR æœå‹™ å»ºç«‹ SignalR Server Hub å»ºç«‹ HTML Client å³æ™‚å‘ˆç¾è¨Šæ¯ å»ºç«‹ .NET Console App ä¾†ç™¼é€è¨Šæ¯  å»ºç«‹ Azure SignalR æœå‹™ ç™»å…¥Azureï¼Œé€²å…¥https://portal.azure.com/#create/Microsoft.SignalRGalleryPackage æ–°å¢æœå‹™\nå»ºå®Œå¾Œï¼Œåˆ°keyçš„é¸å–®ï¼Œæˆ‘å€‘ç­‰ç­‰éœ€è¦é€™å€‹ Connection String\nå»ºç«‹ SignalR Server Hub æ‰“é–‹ Web Api å°ˆæ¡ˆçš„ .csprojï¼ŒåŠ å…¥ä»¥ä¸‹ç¨‹å¼ç¢¼\n \u0026lt;ItemGroup\u0026gt; \u0026lt;DotNetCliToolReference Include=\u0026quot;Microsoft.VisualStudio.Web.CodeGeneration.Tools\u0026quot; Version=\u0026quot;2.0.0\u0026quot; /\u0026gt; \u0026lt;DotNetCliToolReference Include=\u0026quot;Microsoft.Extensions.SecretManager.Tools\u0026quot; Version=\u0026quot;2.0.0\u0026quot; /\u0026gt; \u0026lt;/ItemGroup\u0026gt; ç”¨ Nuget å®‰è£ Microsoft.Azure.SignalR\nåœ¨ Web Api å°ˆæ¡ˆæ¡ˆå³éµï¼Œå»ºç«‹ç®¡ç†ä½¿ç”¨è€…å¯†ç¢¼ï¼Œ\nå»ºç«‹ Azure:SignalR:ConnectionString ï¼ŒæŠŠå‰›å‰›çš„é€£ç·šå­—ä¸²è²¼ä¸Š","title":"è£½ä½œå©šç¦®ç¾å ´å³æ™‚ç•™è¨€ç‰ˆ- Azure SignalR Service I (28)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day27)\nå©šç¦®ç¾å ´ä¸€å®šæœƒæœ‰å„ç¨®è¦ªæœ‹å¥½å‹è¦–è§’çš„ç…§ç‰‡ï¼Œä»¥å¾€éƒ½è¦ä¸€å€‹ä¸€å€‹å‚³åœ¨ç¤¾ç¾¤åª’é«”ä¹‹é¡çš„ï¼Œæœ¬æ¬¡ä¾†å¯¦ä½œ chatbot ä¾†å»£æ”¶å„ç¨®æœ‹å‹æ‹çš„ç…§ç‰‡.. XD\nä¸Šå‚³åˆ° Imgur Imguræ˜¯å€‹åœ–åºŠæœå‹™ï¼Œå¦‚æœæ˜¯éå•†æ¥­ä½¿ç”¨ï¼Œæ˜¯å®Œå…¨å…è²»çš„ï¼Œä¸²æ¥èµ·ä¾†ä¹Ÿå¾ˆå®¹æ˜“ï¼Œé¦–å…ˆå…ˆåˆ° https://api.imgur.com/oauth2/addclient è¨»å†Šä¸€å€‹ OAuth æœå‹™\næœƒå¾—åˆ° client id å’Œ client secret\nå›åˆ° LineBotApp.csï¼Œæˆ‘å€‘å¯ä»¥é‡å°åœ–ç‰‡é¡å‹çš„è¨Šæ¯åšè™•ç†\nGetContentBytesAsync\n public async Task\u0026lt;Stream\u0026gt; GetContentBytesAsync(string messageId) { using (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;GET\u0026quot;), $\u0026quot;https://api-data.line.me/v2/bot/message/{messageId}/content\u0026quot;)) { request.Headers.TryAddWithoutValidation(\u0026quot;Authorization\u0026quot;, $\u0026quot;Bearer {accessToken}\u0026quot;); var response = await httpClient.SendAsync(request); var results = await response.Content.ReadAsStreamAsync(); return results; } } } UploadToImgurAsync\nå¯ä»¥é€é Nuget å®‰è£ Imgur.API\n public async Task\u0026lt;string\u0026gt; UploadToImgurAsync(Stream stream) { var apiClient = new ApiClient(\u0026quot;\u0026lt;Your Imgur ClientId\u0026gt;\u0026quot;); var httpClient = new HttpClient(); var imageEndpoint = new ImageEndpoint(apiClient, httpClient); var imageUpload = await imageEndpoint.UploadImageAsync(stream); return imageUpload.Link; } æ¥è‘—è©¦è‘—åœ¨ Line å‚³ä¸€å¼µåœ–ç‰‡è©¦è©¦çœ‹ï¼Œé€™æ¨£å¹¾å€‹æ­¥é©Ÿå¾Œå°±èƒ½æˆåŠŸå–å¾—åœ–ç‰‡ç¶²å€å•¦~ å¾ŒçºŒå¯ä»¥å°‡é€™ç¶²å€å­˜åˆ°è³‡æ–™åº«æˆ–å‰å¹¾ç¯‡è¬›çš„Azure Table\næ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  æ¥æ”¶ Line Image Message Type https://developers.line.biz/en/reference/messaging-api/#message-event ç”¨ Message Id å–å¾—å­˜æ”¾åœ¨ Line Server çš„åœ–ç‰‡ https://developers.line.biz/en/reference/messaging-api/#get-content ä½¿ç”¨ Imgur.API ä¾†ä¸Šå‚³åœ–ç‰‡ https://github.com/DamienDennehy/Imgur.API  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-27/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day27)\nå©šç¦®ç¾å ´ä¸€å®šæœƒæœ‰å„ç¨®è¦ªæœ‹å¥½å‹è¦–è§’çš„ç…§ç‰‡ï¼Œä»¥å¾€éƒ½è¦ä¸€å€‹ä¸€å€‹å‚³åœ¨ç¤¾ç¾¤åª’é«”ä¹‹é¡çš„ï¼Œæœ¬æ¬¡ä¾†å¯¦ä½œ chatbot ä¾†å»£æ”¶å„ç¨®æœ‹å‹æ‹çš„ç…§ç‰‡.. XD\nä¸Šå‚³åˆ° Imgur Imguræ˜¯å€‹åœ–åºŠæœå‹™ï¼Œå¦‚æœæ˜¯éå•†æ¥­ä½¿ç”¨ï¼Œæ˜¯å®Œå…¨å…è²»çš„ï¼Œä¸²æ¥èµ·ä¾†ä¹Ÿå¾ˆå®¹æ˜“ï¼Œé¦–å…ˆå…ˆåˆ° https://api.imgur.com/oauth2/addclient è¨»å†Šä¸€å€‹ OAuth æœå‹™\næœƒå¾—åˆ° client id å’Œ client secret\nå›åˆ° LineBotApp.csï¼Œæˆ‘å€‘å¯ä»¥é‡å°åœ–ç‰‡é¡å‹çš„è¨Šæ¯åšè™•ç†\nGetContentBytesAsync\n public async Task\u0026lt;Stream\u0026gt; GetContentBytesAsync(string messageId) { using (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;GET\u0026quot;), $\u0026quot;https://api-data.line.me/v2/bot/message/{messageId}/content\u0026quot;)) { request.Headers.TryAddWithoutValidation(\u0026quot;Authorization\u0026quot;, $\u0026quot;Bearer {accessToken}\u0026quot;); var response = await httpClient.SendAsync(request); var results = await response.Content.ReadAsStreamAsync(); return results; } } } UploadToImgurAsync\nå¯ä»¥é€é Nuget å®‰è£ Imgur.API\n public async Task\u0026lt;string\u0026gt; UploadToImgurAsync(Stream stream) { var apiClient = new ApiClient(\u0026quot;\u0026lt;Your Imgur ClientId\u0026gt;\u0026quot;); var httpClient = new HttpClient(); var imageEndpoint = new ImageEndpoint(apiClient, httpClient); var imageUpload = await imageEndpoint.","title":"æ”¶é›†å©šç¦®ç¾å ´ç…§ç‰‡- å°‡åœ–ç‰‡ç”¨C#å‚³åˆ° Imgur æœå‹™ (27)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day26)\nä»¥ä¸‹æ˜¯ Line å®˜æ–¹æ–‡ä»¶çš„æµç¨‹ï¼Œä»Šå¤©æœƒä¾æ“šé€™å€‹åœ–çš„æµç¨‹ä¾†å¯¦ä½œ Line Pay ä»˜æ¬¾\nhttps://pay.line.me/jp/developers/apis/onlineApis?locale=zh_TW\nCheckout æµç¨‹ å®˜æ–¹APIæ–‡ä»¶å¯ä»¥å¾é€™è£¡çœ‹åˆ°\nRequest Body çš„ C# Class\npublic class LinePayRequest { public int amount { get; set; } public string currency { get; set; } public string orderId { get; set; } public List\u0026lt;Package\u0026gt; packages { get; set; } public Options options { get; set; } public Redirecturls redirectUrls { get; set; } } public class Package { public string id { get; set; } public int amount { get; set; } public string name { get; set; } public List\u0026lt;Product\u0026gt; products { get; set; } } public class Product { public string id { get; set; } public string name { get; set; } public string imageUrl { get; set; } public int quantity { get; set; } public int price { get; set; } } public class Options { public Payment payment { get; set; } } public class Payment { public bool capture { get; set; } } public class Redirecturls { public string confirmUrl { get; set; } public string cancelUrl { get; set; } }  æ•´å€‹ Post çš„ Body å¯ä»¥é€™æ¨£çµ„æˆï¼ŒchannelIdå’ŒchannelSecretå¯ä»¥åœ¨å‰ä¸€ç¯‡ç”³è«‹sandboxæ™‚å€™å–å¾—\nä½† Line Pay åœ¨ç™¼ Request çš„æ™‚å€™å¿…é ˆæŠŠ PostBody åŠ å¯†ï¼Œå¯«äº†å€‹ method è™•ç†\nstring Signature = HashLinePayRequest(channelSecret, apiUrl, body, orderId, channelSecret); private static string HashLinePayRequest(string channelSecret, string apiUrl, string body, string orderId, string key) { var request = channelSecret + apiUrl + body + orderId; key = key ?? \u0026quot;\u0026quot;; var encoding = new System.Text.UTF8Encoding(); byte[] keyByte = encoding.GetBytes(key); byte[] messageBytes = encoding.GetBytes(request); using (var hmacsha256 = new HMACSHA256(keyByte)) { byte[] hashmessage = hmacsha256.ComputeHash(messageBytes); return Convert.ToBase64String(hashmessage); } }  åœ¨ Post çš„æ™‚å€™ Header ä¹Ÿè¦åŠ ä¸€äº› Line çš„é©—è­‰è³‡è¨Š\nresult å¯ä»¥ç”¨ JSON.NETè½‰å¼·è¡Œåˆ¥\nJsonConvert.DeserializeObject\u0026lt;LinePayResponse\u0026gt;(result)  LinePayResponse.cs\npublic class LinePayResponse { public string returnCode { get; set; } public string returnMessage { get; set; } public Info info { get; set; } } public class Info { public Paymenturl paymentUrl { get; set; } public long transactionId { get; set; } public string paymentAccessToken { get; set; } } public class Paymenturl { public string web { get; set; } public string app { get; set; } }  åœ¨ Razor Page å°é åˆ° Line Server é€²è¡Œä»˜æ¬¾\nå¯¦ä½œæ•ˆæœ\nç™»å…¥Lineæˆ–æƒQR Codeçš„ä»˜æ¬¾ç•«é¢\nConfirm æµç¨‹ å†ä¾†è¦åšä»˜å®Œæ¬¾çš„ callback æµç¨‹ å®˜æ–¹APIæ–‡ä»¶å¯ä»¥å¾é€™è£¡çœ‹åˆ°\nCallback å¯ä»¥æ¥æ”¶ Line é€™å››å€‹åƒæ•¸\nåœ¨å‰›å‰›ç™¼é€Requestæ™‚æˆ‘å€‘è¨­å®šcallbackçš„URLæ˜¯ http://localhost:xxx/api/payment/confirmï¼Œæˆ‘å€‘é–‹å€‹Apiä¾†æ¥ä»–ï¼Œèƒ½æ­£ç¢ºå–å¾—å‰›å‰›æ‰€æŒ‡å®šçš„ OrderIdï¼Œå°±èƒ½å»åšå¾ŒçºŒå¯¦ä½œå•¦ï¼Œæ¨™è¨˜è©²æœ‹å‹å·²ç¶“ä»˜éç¦®é‡‘äº† (æœ¬ç³»åˆ—æ–‡ç« å°±ä¸å¯¦ä½œå®Œæˆäº†)\næ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  çœ‹æ–‡ä»¶ç”¨C#ä¸²Line Pay https://pay.line.me/jp/developers/apis/onlineApis?locale=zh_TW  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-26/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day26)\nä»¥ä¸‹æ˜¯ Line å®˜æ–¹æ–‡ä»¶çš„æµç¨‹ï¼Œä»Šå¤©æœƒä¾æ“šé€™å€‹åœ–çš„æµç¨‹ä¾†å¯¦ä½œ Line Pay ä»˜æ¬¾\nhttps://pay.line.me/jp/developers/apis/onlineApis?locale=zh_TW\nCheckout æµç¨‹ å®˜æ–¹APIæ–‡ä»¶å¯ä»¥å¾é€™è£¡çœ‹åˆ°\nRequest Body çš„ C# Class\npublic class LinePayRequest { public int amount { get; set; } public string currency { get; set; } public string orderId { get; set; } public List\u0026lt;Package\u0026gt; packages { get; set; } public Options options { get; set; } public Redirecturls redirectUrls { get; set; } } public class Package { public string id { get; set; } public int amount { get; set; } public string name { get; set; } public List\u0026lt;Product\u0026gt; products { get; set; } } public class Product { public string id { get; set; } public string name { get; set; } public string imageUrl { get; set; } public int quantity { get; set; } public int price { get; set; } } public class Options { public Payment payment { get; set; } } public class Payment { public bool capture { get; set; } } public class Redirecturls { public string confirmUrl { get; set; } public string cancelUrl { get; set; } }  æ•´å€‹ Post çš„ Body å¯ä»¥é€™æ¨£çµ„æˆï¼ŒchannelIdå’ŒchannelSecretå¯ä»¥åœ¨å‰ä¸€ç¯‡ç”³è«‹sandboxæ™‚å€™å–å¾—","title":"å©šç¦®ç¦®é‡‘ç”¨Line Pay II (26)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day25)\nå©šç¦®æœ€éº»ç…©çš„å°±æ˜¯æ”¶ç¦®é‡‘äº†å§ï¼Œç•¶å¤©é‚„æœ‰å¯èƒ½é‡åˆ°è·‘éŒ¯æ£šçš„(æœ¬äººè¦ªè‡ªé‡åˆ°ï¼Œå¾Œä¾†é‚„è¦é€€éŒ¢çµ¦ä»–XD)ï¼Œå©šç¦®çµæŸé‚„è¦å¾ˆè¾›è‹¦çš„ç®—éˆ”ç¥¨ï¼Œæˆ‘ä¸€ç›´åœ¨æƒ³æœªä¾†æœ‰æ²’æœ‰å¯èƒ½éƒ½ç”¨é›»å­æ”¯ä»˜ï¼Œè®“å©šç¦®çµæŸå¾Œä¸è¦æ‰›é‚£éº¼å¤šçš„ç¾é‡‘ï¼Œä¸è¦èŠ±é‚£éº¼å¤šæ™‚é–“è¨ˆç®—ã€‚æœ¬ç¯‡å°‡ä»¥ Line çš„ Sendbox é€²è¡Œä¸²æ¥æ¸¬è©¦ï¼Œè¦å¯¦éš›ä½¿ç”¨çš„è©±è¦å…ˆè¨»å†Šæˆå•†å®¶ï¼Œä¸¦é€šé Line çš„å¯©æ ¸ã€‚åœ¨ Sandbox æœ‰å¾ˆæ¸…æ¥šçš„step by step ä¾†èªªæ˜å¦‚ä½•ä¸²æ¥\nè¨»å†Š Sandbox è‡³ https://pay.line.me/jp/developers/main/main?locale=zh_TW è¨»å†Š\næ¥è‘— Email æœƒæ”¶åˆ°æ¸¬è©¦çš„å¸³è™Ÿ\næ¥ä¸‹ä¾†åˆ°å•†å®¶å¾Œå°ï¼Œç”¨ä¸Šé¢çš„å¸³è™Ÿå¯†ç¢¼ç™»å…¥ (å¯«é€™ç¯‡æ–‡ç« çš„åŒæ™‚ï¼Œemail è£¡é¢æä¾›çš„å•†å®¶å¾Œå°é€£çµä¸çŸ¥é“ç‚ºä»€éº¼æœƒå‡ºéŒ¯)ï¼Œå–å¾— client idèˆ‡ client secret\nRazor Page é–‹ç™¼ç¦®é‡‘è¡¨å–® æ–°å¢ä¸€å€‹ Razor Page\nPaymentModel\næ–°å¢ä¸€å€‹ Amount å±¬æ€§\nåœ¨ Razor å¯ä»¥ç”¨ asp-for ä¾†ç¶å®š model\nè¡¨å–®é©—è­‰å‘¢ ? å¯ä»¥ç”¨ asp-validation-for\nasp-page-handler å¯ä»¥åœ¨ .cså¯« function é©—è­‰ model\nå¯¦ä½œæ•ˆæœ\nä¸‹ä¸€ç¯‡ä¾†ç¹¼çºŒç”¨ C# ä¾†ä¸² Line Pay ~\næ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  Razor Page https://docs.microsoft.com/zh-tw/aspnet/core/tutorials/razor-pages/razor-pages-start?view=aspnetcore-3.1\u0026amp;tabs=visual-studio Add validation to an ASP.NET Core Razor Page https://docs.microsoft.com/zh-tw/aspnet/core/tutorials/razor-pages/validation?view=aspnetcore-3.1\u0026amp;tabs=visual-studio  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-25/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day25)\nå©šç¦®æœ€éº»ç…©çš„å°±æ˜¯æ”¶ç¦®é‡‘äº†å§ï¼Œç•¶å¤©é‚„æœ‰å¯èƒ½é‡åˆ°è·‘éŒ¯æ£šçš„(æœ¬äººè¦ªè‡ªé‡åˆ°ï¼Œå¾Œä¾†é‚„è¦é€€éŒ¢çµ¦ä»–XD)ï¼Œå©šç¦®çµæŸé‚„è¦å¾ˆè¾›è‹¦çš„ç®—éˆ”ç¥¨ï¼Œæˆ‘ä¸€ç›´åœ¨æƒ³æœªä¾†æœ‰æ²’æœ‰å¯èƒ½éƒ½ç”¨é›»å­æ”¯ä»˜ï¼Œè®“å©šç¦®çµæŸå¾Œä¸è¦æ‰›é‚£éº¼å¤šçš„ç¾é‡‘ï¼Œä¸è¦èŠ±é‚£éº¼å¤šæ™‚é–“è¨ˆç®—ã€‚æœ¬ç¯‡å°‡ä»¥ Line çš„ Sendbox é€²è¡Œä¸²æ¥æ¸¬è©¦ï¼Œè¦å¯¦éš›ä½¿ç”¨çš„è©±è¦å…ˆè¨»å†Šæˆå•†å®¶ï¼Œä¸¦é€šé Line çš„å¯©æ ¸ã€‚åœ¨ Sandbox æœ‰å¾ˆæ¸…æ¥šçš„step by step ä¾†èªªæ˜å¦‚ä½•ä¸²æ¥\nè¨»å†Š Sandbox è‡³ https://pay.line.me/jp/developers/main/main?locale=zh_TW è¨»å†Š\næ¥è‘— Email æœƒæ”¶åˆ°æ¸¬è©¦çš„å¸³è™Ÿ\næ¥ä¸‹ä¾†åˆ°å•†å®¶å¾Œå°ï¼Œç”¨ä¸Šé¢çš„å¸³è™Ÿå¯†ç¢¼ç™»å…¥ (å¯«é€™ç¯‡æ–‡ç« çš„åŒæ™‚ï¼Œemail è£¡é¢æä¾›çš„å•†å®¶å¾Œå°é€£çµä¸çŸ¥é“ç‚ºä»€éº¼æœƒå‡ºéŒ¯)ï¼Œå–å¾— client idèˆ‡ client secret\nRazor Page é–‹ç™¼ç¦®é‡‘è¡¨å–® æ–°å¢ä¸€å€‹ Razor Page\nPaymentModel\næ–°å¢ä¸€å€‹ Amount å±¬æ€§\nåœ¨ Razor å¯ä»¥ç”¨ asp-for ä¾†ç¶å®š model\nè¡¨å–®é©—è­‰å‘¢ ? å¯ä»¥ç”¨ asp-validation-for\nasp-page-handler å¯ä»¥åœ¨ .cså¯« function é©—è­‰ model\nå¯¦ä½œæ•ˆæœ\nä¸‹ä¸€ç¯‡ä¾†ç¹¼çºŒç”¨ C# ä¾†ä¸² Line Pay ~\næ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  Razor Page https://docs.microsoft.com/zh-tw/aspnet/core/tutorials/razor-pages/razor-pages-start?view=aspnetcore-3.1\u0026amp;tabs=visual-studio Add validation to an ASP.","title":"å©šç¦®ç¦®é‡‘ç”¨Line Pay I (25)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day24)\nä¸Šä¸€ç¯‡è¬›åˆ°äº†ç”¨ QR Code ä¾†åšå©šç¦®å ±åˆ°ï¼Œå¦‚æœèƒ½é€²ä¸€æ­¥ä¾†åšè‡ªå‹•å ±åˆ°å°±æ›´æ–¹ä¾¿äº†ï¼ŒLINE Beaconï¼Œæ˜¯ LINE æ¨å‡ºçš„è—èŠ½Sensorï¼Œå¯ä»¥è®“ LINE Bot æ¥æ”¶è¨­å‚™é™„è¿‘çš„è³‡è¨Šï¼Œæœ‰æ™‚è·¯éä¸€äº›åº—å®¶æˆ–æ·é‹ï¼Œä»–æœƒæ¨æ’­çµ¦ä½ ä¸€äº›è¨Šæ¯çµ¦ä½ ï¼Œé€™å°±æ˜¯ Beacon çš„æŠ€è¡“\nä½†å¯«åˆ°æ­¤ç¯‡ç™¼ç¾ Line Beacon ç„¡æ³•ç”¨ç°¡å–®çš„æ‰‹æ©Ÿæˆ–å¹³æ¿ä¾†æ¨¡æ“¬ (å°±æˆ‘ä¹‹å‰æbeaconçš„ç¶“é©—ï¼Œé‚£æ™‚å€™é–‹ç™¼éƒ½æ˜¯ç”¨æ‰‹æ©Ÿç•¶ Sensor)ï¼Œç›®å‰çœ‹åˆ°å¯ä»¥æ¨¡æ“¬çš„æ–¹å¼æ˜¯ç”¨Raspberry Pi ä¾†æ¶è¨­ https://github.com/line/line-simple-beacon\næ•…æ­¤ç¯‡å…§å®¹æœƒä¾†è¬›è¬›æ€éº¼ç”³è«‹å’Œæ€éº¼åœ¨ç¨‹å¼è£¡é¢å»æ“´å……æ¥æ”¶Line Beaconäº‹ä»¶ LINE Business ID Edit descriptionmanager.line.biz\nWebhookEventType å¢åŠ  Beacon äº‹ä»¶\nåœ¨ Event ç¹¼çºŒæ“´å……\nBeaconType\nenter : ç•¶ä½¿ç”¨è€…é€²å…¥Line Beacon ç™¼é€ç¯„åœå…§ bannerï¼šLINE for Businessç”¨æˆ¶é™å®šï¼Œå¯è®“ç”¨æˆ¶æ”¶åˆ°æ‰“é–‹è—èŠ½è³‡è¨Šï¼Œé€²è€Œå¼•å°åˆ°åŠ ä¼æ¥­ç”¨æˆ¶å¥½å‹åŠæ”¶åˆ°ä¼æ¥­å¸³è™Ÿçš„è¨Šæ¯ stayï¼šLINE for Businessç”¨æˆ¶é™å®šï¼Œåµæ¸¬åœ¨å€åŸŸå…§çš„ä½¿ç”¨è€…ï¼Œæ¯10ç§’æœƒè§¸ç™¼ä¸€æ¬¡\næ¥è‘—å°±æ˜¯åœ¨æ”¶åˆ°è¨Šæ¯å¾Œåˆ¤æ–·æ˜¯å¦ç‚º Beacon äº‹ä»¶ï¼Œä¸¦åšå¯¦éš›è™•ç†å•¦\næœ¬ç¯‡æœ‰é»å¯æƒœï¼Œä¾†ä¸åŠè²· Line Beacon ä¾†ç©ï¼Œç„¡æ³•å˜—è©¦å¯¦éš›æ•ˆæœï¼Œä¹‹å¾Œæœ‰æ©Ÿæœƒå†æ‹¿ä¾†æ‡‰ç”¨~\næ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  Line Beacon https://developers.line.biz/en/docs/messaging-api/using-beacons/  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-24/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day24)\nä¸Šä¸€ç¯‡è¬›åˆ°äº†ç”¨ QR Code ä¾†åšå©šç¦®å ±åˆ°ï¼Œå¦‚æœèƒ½é€²ä¸€æ­¥ä¾†åšè‡ªå‹•å ±åˆ°å°±æ›´æ–¹ä¾¿äº†ï¼ŒLINE Beaconï¼Œæ˜¯ LINE æ¨å‡ºçš„è—èŠ½Sensorï¼Œå¯ä»¥è®“ LINE Bot æ¥æ”¶è¨­å‚™é™„è¿‘çš„è³‡è¨Šï¼Œæœ‰æ™‚è·¯éä¸€äº›åº—å®¶æˆ–æ·é‹ï¼Œä»–æœƒæ¨æ’­çµ¦ä½ ä¸€äº›è¨Šæ¯çµ¦ä½ ï¼Œé€™å°±æ˜¯ Beacon çš„æŠ€è¡“\nä½†å¯«åˆ°æ­¤ç¯‡ç™¼ç¾ Line Beacon ç„¡æ³•ç”¨ç°¡å–®çš„æ‰‹æ©Ÿæˆ–å¹³æ¿ä¾†æ¨¡æ“¬ (å°±æˆ‘ä¹‹å‰æbeaconçš„ç¶“é©—ï¼Œé‚£æ™‚å€™é–‹ç™¼éƒ½æ˜¯ç”¨æ‰‹æ©Ÿç•¶ Sensor)ï¼Œç›®å‰çœ‹åˆ°å¯ä»¥æ¨¡æ“¬çš„æ–¹å¼æ˜¯ç”¨Raspberry Pi ä¾†æ¶è¨­ https://github.com/line/line-simple-beacon\næ•…æ­¤ç¯‡å…§å®¹æœƒä¾†è¬›è¬›æ€éº¼ç”³è«‹å’Œæ€éº¼åœ¨ç¨‹å¼è£¡é¢å»æ“´å……æ¥æ”¶Line Beaconäº‹ä»¶ LINE Business ID Edit descriptionmanager.line.biz\nWebhookEventType å¢åŠ  Beacon äº‹ä»¶\nåœ¨ Event ç¹¼çºŒæ“´å……\nBeaconType\nenter : ç•¶ä½¿ç”¨è€…é€²å…¥Line Beacon ç™¼é€ç¯„åœå…§ bannerï¼šLINE for Businessç”¨æˆ¶é™å®šï¼Œå¯è®“ç”¨æˆ¶æ”¶åˆ°æ‰“é–‹è—èŠ½è³‡è¨Šï¼Œé€²è€Œå¼•å°åˆ°åŠ ä¼æ¥­ç”¨æˆ¶å¥½å‹åŠæ”¶åˆ°ä¼æ¥­å¸³è™Ÿçš„è¨Šæ¯ stayï¼šLINE for Businessç”¨æˆ¶é™å®šï¼Œåµæ¸¬åœ¨å€åŸŸå…§çš„ä½¿ç”¨è€…ï¼Œæ¯10ç§’æœƒè§¸ç™¼ä¸€æ¬¡\næ¥è‘—å°±æ˜¯åœ¨æ”¶åˆ°è¨Šæ¯å¾Œåˆ¤æ–·æ˜¯å¦ç‚º Beacon äº‹ä»¶ï¼Œä¸¦åšå¯¦éš›è™•ç†å•¦\næœ¬ç¯‡æœ‰é»å¯æƒœï¼Œä¾†ä¸åŠè²· Line Beacon ä¾†ç©ï¼Œç„¡æ³•å˜—è©¦å¯¦éš›æ•ˆæœï¼Œä¹‹å¾Œæœ‰æ©Ÿæœƒå†æ‹¿ä¾†æ‡‰ç”¨~\næ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  Line Beacon https://developers.line.biz/en/docs/messaging-api/using-beacons/  ","title":"ç”¨Line Beaconä¾†æè‡ªå‹•å ±åˆ° (24)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day23)\nåœ¨ä¸Šä¸€ç¯‡æˆ‘å€‘å¯¦ä½œäº†Liff App çš„ QR Code æƒç„åŠŸèƒ½å¾Œï¼Œæˆ‘å€‘è¦ä¾†å°‡é€™å€‹å€¼å‚³åˆ°å¾Œç«¯å®Œæˆå ±åˆ°çš„å‹•ä½œ\nåœ¨ Razor Page ä¸€æ¨£å¯ä»¥è·Ÿä»¥å¾€ä¸€æ¨£æŠŠä¸€äº›å…±ç”¨çš„ Template æŠ½å‡ºä¾†ï¼Œè­¬å¦‚ _Layoutï¼Œä¸€å€‹è˜¿è””ä¸€å€‹å‘ï¼Œåœ¨æœ‰ç”¨åˆ°æ­¤ Template æœ€çµ‚å°±æœƒ Render åœ¨é€™äº›æ‰€åŸ‹çš„å‘è£¡é¢\n_Layout.cshtml\nQrCode.cshtml\nä»Šæ™šæˆ‘æƒ³ä¾†é»jQueryï¼Œé è¨­ Razor Page æœ‰è¼‰å…¥ jQueryï¼Œæˆ‘å€‘ç›´æ¥ç”¨ jQuery Ajax ä¾†è·Ÿå¾Œç«¯æºé€š\nQrCode Api çš„å…§å®¹ï¼Œå…¶å¯¦å°±æ˜¯å‰å¹¾ç¯‡è¬›çš„ï¼Œé‡å° Azure Table çš„æ“ä½œ\nå¯¦ä½œç•«é¢\nhttps://imgur.com/5qsSzRN\næ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?   Razor çš„ RenderBody() vs RenderSection() http://coding.anyun.tw/2012/02/19/razor-learning-renderbody-renderpartial-and-rendersection/\n  jQuery Ajax https://api.jquery.com/jquery.ajax/\n  å¦‚ä½•æ–°å¢/ç·¨è¼¯ä¸€å€‹çµæ§‹åŒ–çš„ Azure Table è³‡æ–™ https://docs.microsoft.com/en-us/azure/cosmos-db/tutorial-develop-table-dotnet?toc=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fazure%2Fstorage%2Ftables%2Ftoc.json\u0026amp;bc=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fazure%2Fbread%2Ftoc.json\n  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-23/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day23)\nåœ¨ä¸Šä¸€ç¯‡æˆ‘å€‘å¯¦ä½œäº†Liff App çš„ QR Code æƒç„åŠŸèƒ½å¾Œï¼Œæˆ‘å€‘è¦ä¾†å°‡é€™å€‹å€¼å‚³åˆ°å¾Œç«¯å®Œæˆå ±åˆ°çš„å‹•ä½œ\nåœ¨ Razor Page ä¸€æ¨£å¯ä»¥è·Ÿä»¥å¾€ä¸€æ¨£æŠŠä¸€äº›å…±ç”¨çš„ Template æŠ½å‡ºä¾†ï¼Œè­¬å¦‚ _Layoutï¼Œä¸€å€‹è˜¿è””ä¸€å€‹å‘ï¼Œåœ¨æœ‰ç”¨åˆ°æ­¤ Template æœ€çµ‚å°±æœƒ Render åœ¨é€™äº›æ‰€åŸ‹çš„å‘è£¡é¢\n_Layout.cshtml\nQrCode.cshtml\nä»Šæ™šæˆ‘æƒ³ä¾†é»jQueryï¼Œé è¨­ Razor Page æœ‰è¼‰å…¥ jQueryï¼Œæˆ‘å€‘ç›´æ¥ç”¨ jQuery Ajax ä¾†è·Ÿå¾Œç«¯æºé€š\nQrCode Api çš„å…§å®¹ï¼Œå…¶å¯¦å°±æ˜¯å‰å¹¾ç¯‡è¬›çš„ï¼Œé‡å° Azure Table çš„æ“ä½œ\nå¯¦ä½œç•«é¢\nhttps://imgur.com/5qsSzRN\næ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?   Razor çš„ RenderBody() vs RenderSection() http://coding.anyun.tw/2012/02/19/razor-learning-renderbody-renderpartial-and-rendersection/\n  jQuery Ajax https://api.jquery.com/jquery.ajax/\n  å¦‚ä½•æ–°å¢/ç·¨è¼¯ä¸€å€‹çµæ§‹åŒ–çš„ Azure Table è³‡æ–™ https://docs.microsoft.com/en-us/azure/cosmos-db/tutorial-develop-table-dotnet?toc=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fazure%2Fstorage%2Ftables%2Ftoc.json\u0026amp;bc=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fazure%2Fbread%2Ftoc.json\n  ","title":"ç”¨QR Codeä¾†æå ±åˆ°â€Šâ€”â€ŠRazor Pageå¯¦åš II (23)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day22)\nå©šç¦®ç•¶å¤©å¿…é ˆè«‹ä¸€äº›è¦ªæˆšä¾†å”åŠ©æœ‹å‹å ±åˆ°ï¼Œä½†å‰é¢éƒ½æ”¶é›†å ±åè³‡è¨Šäº†ï¼Œç”¨ä¸€äº›å ±åˆ°çš„æ©Ÿåˆ¶æ–¹ä¾¿çµ±è¨ˆä¹Ÿæ˜¯æŒºæ½®çš„â€¦çœ‹åˆ° Liff App V2 æœ‰æ”¯æ´ QR Code å ±åˆ°ï¼Œå‰›å¥½å‰é¢ä¹Ÿæœ‰å­˜å ±åçš„ä½¿ç”¨è€…è³‡æ–™ï¼Œå°±èƒ½ä¾†åˆ¤æ–·å ±åˆ°ç‹€æ³ï¼Œæœ¬æ¬¡ä¾†å¯¦ç¾ä¸€ä¸‹é€™å€‹åŠŸèƒ½ã€‚è‡³æ–¼ç‚ºå•¥ä¸ç”¨ vueï¼Œè¦ç”¨ Razor Pageï¼Œä¹Ÿæ²’ç‚ºå•¥ï¼Œéµäººè³½å°±æ˜¯é †ä¾¿ç©ç©æ²’ç©éçš„ XD\nåœ¨ .NET Core Web API å°ˆæ¡ˆåŠ å…¥ Razor Page å¦‚æœç•¶åˆèµ·å§‹å°ˆæ¡ˆé¸æ“‡æ˜¯å­˜ Web Api å°ˆæ¡ˆï¼Œå¯ä»¥è€ƒæ…®é‡æ–°ä¸€å€‹Web Applicationçš„æ™‚å€™æŠŠç›¸é—œæª”æ¡ˆæ¬éä¾†\nStartup.cs è¦åŠ å…¥ä¸‹åˆ—ä¸‰æ®µç¨‹å¼\nwwwroot æŠŠä¸€äº›éœæ…‹æª”æ¡ˆæ¬éä¾†\né–‹å€‹è³‡æ–™å¤¾å« Pages æŠŠ cdhtml æ¬éä¾†\næŒ‰å³éµ åŠ å…¥ä¸€å€‹å«åš QRCode çš„ Razor Page\nå†ä¾†å°±æ˜¯è·Ÿå‰å¹¾ç¯‡å¯¦ä½œä¸€æ¨£ï¼ŒåŠ å…¥ liff app SDKå•¦ï¼Œèªªæ˜å¦‚ä¸‹ï¼š\n Line Liff SDK v2 Liff App çš„ åˆå§‹åŒ– (è¨˜å¾—è¦è¨»å†Šä¸€å€‹ Liff App Id) å–å¾—ç•¶å‰ä½¿ç”¨è€… QR Code æƒæ  å¯¦ä½œç•«é¢\nä¸‹ä¸€ç¯‡ï¼Œæˆ‘å€‘å°±ç¹¼çºŒå¯¦ä½œï¼Œæ€éº¼å®Œæˆå¾Œç«¯å ±åˆ°çš„åŠŸèƒ½\n Razor Page å°æˆ‘ä¾†è¬›å¥½æœ‰å¾©å¤çš„æ„Ÿè¦ºï¼Œå½·å½¿å›åˆ° WebForm çš„æ™‚ä»£â€¦  æ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  Razor Page https://docs.microsoft.com/zh-tw/aspnet/core/tutorials/razor-pages/razor-pages-start?view=aspnetcore-3.1\u0026amp;tabs=visual-studio Liff App Scan QR Code https://developers.line.biz/en/reference/liff/#scan-code  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-22/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day22)\nå©šç¦®ç•¶å¤©å¿…é ˆè«‹ä¸€äº›è¦ªæˆšä¾†å”åŠ©æœ‹å‹å ±åˆ°ï¼Œä½†å‰é¢éƒ½æ”¶é›†å ±åè³‡è¨Šäº†ï¼Œç”¨ä¸€äº›å ±åˆ°çš„æ©Ÿåˆ¶æ–¹ä¾¿çµ±è¨ˆä¹Ÿæ˜¯æŒºæ½®çš„â€¦çœ‹åˆ° Liff App V2 æœ‰æ”¯æ´ QR Code å ±åˆ°ï¼Œå‰›å¥½å‰é¢ä¹Ÿæœ‰å­˜å ±åçš„ä½¿ç”¨è€…è³‡æ–™ï¼Œå°±èƒ½ä¾†åˆ¤æ–·å ±åˆ°ç‹€æ³ï¼Œæœ¬æ¬¡ä¾†å¯¦ç¾ä¸€ä¸‹é€™å€‹åŠŸèƒ½ã€‚è‡³æ–¼ç‚ºå•¥ä¸ç”¨ vueï¼Œè¦ç”¨ Razor Pageï¼Œä¹Ÿæ²’ç‚ºå•¥ï¼Œéµäººè³½å°±æ˜¯é †ä¾¿ç©ç©æ²’ç©éçš„ XD\nåœ¨ .NET Core Web API å°ˆæ¡ˆåŠ å…¥ Razor Page å¦‚æœç•¶åˆèµ·å§‹å°ˆæ¡ˆé¸æ“‡æ˜¯å­˜ Web Api å°ˆæ¡ˆï¼Œå¯ä»¥è€ƒæ…®é‡æ–°ä¸€å€‹Web Applicationçš„æ™‚å€™æŠŠç›¸é—œæª”æ¡ˆæ¬éä¾†\nStartup.cs è¦åŠ å…¥ä¸‹åˆ—ä¸‰æ®µç¨‹å¼\nwwwroot æŠŠä¸€äº›éœæ…‹æª”æ¡ˆæ¬éä¾†\né–‹å€‹è³‡æ–™å¤¾å« Pages æŠŠ cdhtml æ¬éä¾†\næŒ‰å³éµ åŠ å…¥ä¸€å€‹å«åš QRCode çš„ Razor Page\nå†ä¾†å°±æ˜¯è·Ÿå‰å¹¾ç¯‡å¯¦ä½œä¸€æ¨£ï¼ŒåŠ å…¥ liff app SDKå•¦ï¼Œèªªæ˜å¦‚ä¸‹ï¼š\n Line Liff SDK v2 Liff App çš„ åˆå§‹åŒ– (è¨˜å¾—è¦è¨»å†Šä¸€å€‹ Liff App Id) å–å¾—ç•¶å‰ä½¿ç”¨è€… QR Code æƒæ  å¯¦ä½œç•«é¢\nä¸‹ä¸€ç¯‡ï¼Œæˆ‘å€‘å°±ç¹¼çºŒå¯¦ä½œï¼Œæ€éº¼å®Œæˆå¾Œç«¯å ±åˆ°çš„åŠŸèƒ½\n Razor Page å°æˆ‘ä¾†è¬›å¥½æœ‰å¾©å¤çš„æ„Ÿè¦ºï¼Œå½·å½¿å›åˆ° WebForm çš„æ™‚ä»£â€¦  æ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?","title":"ç”¨QR Codeä¾†æå ±åˆ° - Razor Pageå¯¦åš I (22)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day21)\nä¸Šä¸€ç¯‡ä»‹ç´¹å¦‚ä½•ä¸»å‹•å¼æ¨æ’­çµ¦ä½¿ç”¨è€…è¨Šæ¯ï¼Œä½†Push Messageç™¼é€åˆ°ä¸€å®šçš„é‡æ˜¯è¦æ”¶è²»çš„ï¼ŒLine Notifyæ˜¯å¦ä¸€ç¨®ä¸»å‹•å¼æ¨æ’­çš„è§£æ±ºæ–¹æ¡ˆï¼Œä¸”æ˜¯å…è²»çš„ï¼Œç¼ºé»å°±æ˜¯æ”¶åˆ°è¨Šæ¯æ™‚å€™ï¼Œä¸æœƒé¡¯ç¤ºæ˜¯å¾æœ¬èº«Chatbotçš„è§’åº¦ï¼Œè€Œæ˜¯Lineçš„Chatbotï¼Œè¦ç™¼é€Notifyè¨Šæ¯ï¼Œå¤§æ¦‚éœ€è¦åšä»¥ä¸‹äº‹æƒ…ï¼Œç¼ºä¸€ä¸å¯\n è¨»å†Š Line Notify æœå‹™ å–å¾— client_id å–å¾— client_secret å–å¾—é©—è­‰çš„ code é€éç¬¬2-4é …å–å¾— access token  è¨»å†Š Line Notify æœå‹™ LINE Notify\né€é ngrok http 8888 å–å¾—ä¸€å€‹localçš„å°å¤–ç«™å°ï¼Œè²¼åˆ° Callback URL\næ¥è‘—æœƒé©—è­‰ Emailï¼Œé©—è­‰é€šéå¾Œå¯ä»¥é€²åˆ°é€™å€‹ Service\nClient ID è·Ÿ Client Secret å–å¾—äº†\næ¥è‘—å¯ä»¥é€éä¸‹åˆ—ç¶²å€è¨‚é–±æœå‹™\n[https://notify-bot.line.me/oauth/authorize?response_type=code\u0026amp;scope=notify\u0026amp;response_mode=form_post\u0026amp;client_id=](https://notify-bot.line.me/oauth/authorize?response_type=code\u0026amp;scope=notify\u0026amp;response_mode=form_post\u0026amp;client_id=)\u0026lt;client_id\u0026gt;\u0026amp;redirect_uri=\u0026lt;client_secret\u0026gt;/\u0026amp;state=\u0026lt;é©—è­‰èº«åˆ†ä»£ç¢¼ï¼Œä»»æ„çµ¦\u0026gt; å¯ä»¥çœ‹åˆ°å¯ä»¥å¾é€™å€‹é é¢ç¶å®š\nLine æœƒæ”¶åˆ°ä¸€å€‹é€šçŸ¥\nåˆ°æˆ‘å€‘å‰›å‰› ngrok çš„å¾Œå°çœ‹çœ‹ (http://127.0.0.1:4040)ï¼Œæœ‰æ¥æ”¶åˆ°é€™å€‹ Requestï¼Œå–å¾—åŠ å¯†å¾Œçš„ code\nç”¨å‰›å‰›å–å¾—çš„é€™ä¸‰å€‹è³‡è¨Šä¾†å–å¾— access token\n public static async Task\u0026lt;string\u0026gt; GetAccessToken() { using (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;POST\u0026quot;), \u0026quot;https://notify-bot.line.me/oauth/token\u0026quot;)) { var redirect_uri = \u0026quot;https://f2fb2e2ee6d1.ngrok.io/\u0026quot;; var client_id = \u0026quot;XXXXX\u0026quot;; var client_secret = \u0026quot;XXXXX\u0026quot;; var code = \u0026quot;XXXXX\u0026quot;; request.Content = new StringContent($\u0026quot;grant_type=authorization_code\u0026amp;redirect_uri={redirect_uri}\u0026amp;client_id={client_id}\u0026amp;client_secret={client_secret}\u0026amp;code={code}\u0026quot;); request.Content.Headers.ContentType = MediaTypeHeaderValue.Parse(\u0026quot;application/x-www-form-urlencoded\u0026quot;); var response = await httpClient.SendAsync(request); var results = await response.Content.ReadAsStringAsync(); return results; } } } é€é C# ç™¼é€\n public static async Task PushNotify(string accessToken, string message) { using (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;POST\u0026quot;), \u0026quot;https://notify-api.line.me/api/notify\u0026quot;)) { request.Headers.TryAddWithoutValidation(\u0026quot;Authorization\u0026quot;, $\u0026quot;Bearer {accessToken}\u0026quot;); request.Content = new StringContent($\u0026quot;message={message}\u0026quot;); request.Content.Headers.ContentType = MediaTypeHeaderValue.Parse(\u0026quot;application/x-www-form-urlencoded\u0026quot;); var response = await httpClient.SendAsync(request); } } } å¦‚ä½•ä½¿ç”¨\nå¯¦éš›ä¸Šå°±èƒ½æŠŠé€™å€‹ç¨‹å¼åŸ‹åœ¨å ±åæˆåŠŸå¾Œï¼Œç™¼é€ä¸€å€‹ Notify è¨Šæ¯\nvar accessToken = await GetAccessToken(); await PushNotify(accessToken, $\u0026quot;Hi, é‡‘åŸæ­¦ å‰›å‰›å ±åäº†å©šç¦®ï¼Œä»–ç•¶å¤©æœƒå‡ºå¸­!\u0026quot;); æ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  é€é Line Notify ä¾†ç™¼é€ä¸»å‹•å¼æ¨æ’­ https://notify-bot.line.me/doc/en/  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-21/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day21)\nä¸Šä¸€ç¯‡ä»‹ç´¹å¦‚ä½•ä¸»å‹•å¼æ¨æ’­çµ¦ä½¿ç”¨è€…è¨Šæ¯ï¼Œä½†Push Messageç™¼é€åˆ°ä¸€å®šçš„é‡æ˜¯è¦æ”¶è²»çš„ï¼ŒLine Notifyæ˜¯å¦ä¸€ç¨®ä¸»å‹•å¼æ¨æ’­çš„è§£æ±ºæ–¹æ¡ˆï¼Œä¸”æ˜¯å…è²»çš„ï¼Œç¼ºé»å°±æ˜¯æ”¶åˆ°è¨Šæ¯æ™‚å€™ï¼Œä¸æœƒé¡¯ç¤ºæ˜¯å¾æœ¬èº«Chatbotçš„è§’åº¦ï¼Œè€Œæ˜¯Lineçš„Chatbotï¼Œè¦ç™¼é€Notifyè¨Šæ¯ï¼Œå¤§æ¦‚éœ€è¦åšä»¥ä¸‹äº‹æƒ…ï¼Œç¼ºä¸€ä¸å¯\n è¨»å†Š Line Notify æœå‹™ å–å¾— client_id å–å¾— client_secret å–å¾—é©—è­‰çš„ code é€éç¬¬2-4é …å–å¾— access token  è¨»å†Š Line Notify æœå‹™ LINE Notify\né€é ngrok http 8888 å–å¾—ä¸€å€‹localçš„å°å¤–ç«™å°ï¼Œè²¼åˆ° Callback URL\næ¥è‘—æœƒé©—è­‰ Emailï¼Œé©—è­‰é€šéå¾Œå¯ä»¥é€²åˆ°é€™å€‹ Service\nClient ID è·Ÿ Client Secret å–å¾—äº†\næ¥è‘—å¯ä»¥é€éä¸‹åˆ—ç¶²å€è¨‚é–±æœå‹™\n[https://notify-bot.line.me/oauth/authorize?response_type=code\u0026amp;scope=notify\u0026amp;response_mode=form_post\u0026amp;client_id=](https://notify-bot.line.me/oauth/authorize?response_type=code\u0026amp;scope=notify\u0026amp;response_mode=form_post\u0026amp;client_id=)\u0026lt;client_id\u0026gt;\u0026amp;redirect_uri=\u0026lt;client_secret\u0026gt;/\u0026amp;state=\u0026lt;é©—è­‰èº«åˆ†ä»£ç¢¼ï¼Œä»»æ„çµ¦\u0026gt; å¯ä»¥çœ‹åˆ°å¯ä»¥å¾é€™å€‹é é¢ç¶å®š\nLine æœƒæ”¶åˆ°ä¸€å€‹é€šçŸ¥\nåˆ°æˆ‘å€‘å‰›å‰› ngrok çš„å¾Œå°çœ‹çœ‹ (http://127.0.0.1:4040)ï¼Œæœ‰æ¥æ”¶åˆ°é€™å€‹ Requestï¼Œå–å¾—åŠ å¯†å¾Œçš„ code\nç”¨å‰›å‰›å–å¾—çš„é€™ä¸‰å€‹è³‡è¨Šä¾†å–å¾— access token\n public static async Task\u0026lt;string\u0026gt; GetAccessToken() { using (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;POST\u0026quot;), \u0026quot;https://notify-bot.","title":"ç•¶æœ‰äººå ±åçš„æ™‚å€™æ¥æ”¶é€šçŸ¥ (Line Notify) (21)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day20)\nåœ¨ä¸Šä¸€ç¯‡æˆ‘å€‘å„²å­˜å ±åè¡¨å–®å¾Œï¼Œä¹Ÿæœ‰ä¸€ä½µæ‰“ä½¿ç”¨è€…çš„IDå„²å­˜èµ·ä¾†ï¼Œé€éé€™å€‹IDï¼Œæˆ‘å€‘å°±èƒ½ç™¼é€ä¸€äº›ä¸»å‹•çš„æ¨æ’­è¨Šæ¯\n æº–å‚™ Line Chatbot çš„ Access Tokne æº–å‚™è¦ç™¼é€çš„ UserId (å¯ä»¥å¾æ¥æ”¶åˆ°çš„è¨Šæ¯åŠLiff App å–å¾—ä½¿ç”¨è€…ID)  æ–°å¢ä¸€å€‹ .NET Core Consoleå°ˆæ¡ˆä¾†ç™¼é€\nå®˜æ–¹çš„ Shell ç¯„ä¾‹\nä¸€æ¨£ä¸Ÿåˆ° Curl To C# åšè½‰æ›ï¼Œä¸¦åšæ ¼å¼ä¿®æ”¹\nç•¶ç„¶ Push Message ä¹Ÿæ”¯æ´å„ç¨®å‰é¢ä»‹ç´¹çš„æ ¼å¼ï¼Œæ­¤ç¯‡å°±ä¸å†å¤šåšä»‹ç´¹äº†ï¼Œå¯ä»¥åƒè€ƒæœ¬ç³»åˆ—æ–‡çš„å„ç¨®è¨Šæ¯æ ¼å¼æ•™å­¸\n static async System.Threading.Tasks.Task Main(string[] args) { using (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;POST\u0026quot;), \u0026quot;https://api.line.me/v2/bot/message/multicast\u0026quot;)) { request.Headers.TryAddWithoutValidation(\u0026quot;Authorization\u0026quot;, $\u0026quot;Bearer \u0026lt;Your Access Token\u0026gt;\u0026quot;); PushMessage req = new PushMessage(); req.to = new List\u0026lt;string\u0026gt;() { \u0026quot;\u0026lt;User Id\u0026gt;\u0026quot; }; req.messages = new List\u0026lt;Message\u0026gt;() { new Message(){ type = \u0026quot;text\u0026quot;, text = \u0026quot;Hi, æé†’æ‚¨ 12/08 å°±æ˜¯æˆ‘å€‘çš„äººç”Ÿå¤§äº‹å•¦ï¼Œå¦‚æœä¸èƒ½å‰å¾€è«‹è¨˜å¾—æå‰å‘ŠçŸ¥ï¼\u0026quot; } }; var postJson = JsonConvert.SerializeObject(req, new JsonSerializerSettings { NullValueHandling = NullValueHandling.Ignore, ContractResolver = new DefaultContractResolver { NamingStrategy = new CamelCaseNamingStrategy() } }); request.Content = new StringContent(postJson); request.Content.Headers.ContentType = MediaTypeHeaderValue.Parse(\u0026quot;application/json\u0026quot;); var response = await httpClient.SendAsync(request); var result = await response.Content.ReadAsStringAsync(); } } } PushMessage.cs\n public class PushMessage { public List\u0026lt;string\u0026gt; to { get; set; } public List\u0026lt;Message\u0026gt; messages { get; set; } = new List\u0026lt;Message\u0026gt;(); } public class Message { public string type { get; set; } public string text { get; set; } } å¯¦éš›æˆæœ è¦æ³¨æ„çš„æ˜¯ï¼ŒPush Message ä¾æ“šä¸åŒçš„æ–¹æ¡ˆæ˜¯è¦æ”¶è²»çš„ï¼Œè©³ç´°å¯ä»¥çœ‹é€™ç¯‡çš„Line@ æ”¶è²»è¨ˆç®—æ©Ÿ LINE 2.0 æ”¶è²»è¨ˆç®—æ©Ÿï¼šæ”¶è²»è©¦ç®—ã€æ¨è–¦æ–¹æ¡ˆä¸€æŒ‰å³çŸ¥\næ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  å¦‚ä½•é€éC#ç™¼é€ä¸»å‹•æ¨æ’­çš„Lineè¨Šæ¯ https://developers.line.biz/en/reference/messaging-api/#send-push-message  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-20/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day20)\nåœ¨ä¸Šä¸€ç¯‡æˆ‘å€‘å„²å­˜å ±åè¡¨å–®å¾Œï¼Œä¹Ÿæœ‰ä¸€ä½µæ‰“ä½¿ç”¨è€…çš„IDå„²å­˜èµ·ä¾†ï¼Œé€éé€™å€‹IDï¼Œæˆ‘å€‘å°±èƒ½ç™¼é€ä¸€äº›ä¸»å‹•çš„æ¨æ’­è¨Šæ¯\n æº–å‚™ Line Chatbot çš„ Access Tokne æº–å‚™è¦ç™¼é€çš„ UserId (å¯ä»¥å¾æ¥æ”¶åˆ°çš„è¨Šæ¯åŠLiff App å–å¾—ä½¿ç”¨è€…ID)  æ–°å¢ä¸€å€‹ .NET Core Consoleå°ˆæ¡ˆä¾†ç™¼é€\nå®˜æ–¹çš„ Shell ç¯„ä¾‹\nä¸€æ¨£ä¸Ÿåˆ° Curl To C# åšè½‰æ›ï¼Œä¸¦åšæ ¼å¼ä¿®æ”¹\nç•¶ç„¶ Push Message ä¹Ÿæ”¯æ´å„ç¨®å‰é¢ä»‹ç´¹çš„æ ¼å¼ï¼Œæ­¤ç¯‡å°±ä¸å†å¤šåšä»‹ç´¹äº†ï¼Œå¯ä»¥åƒè€ƒæœ¬ç³»åˆ—æ–‡çš„å„ç¨®è¨Šæ¯æ ¼å¼æ•™å­¸\n static async System.Threading.Tasks.Task Main(string[] args) { using (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;POST\u0026quot;), \u0026quot;https://api.line.me/v2/bot/message/multicast\u0026quot;)) { request.Headers.TryAddWithoutValidation(\u0026quot;Authorization\u0026quot;, $\u0026quot;Bearer \u0026lt;Your Access Token\u0026gt;\u0026quot;); PushMessage req = new PushMessage(); req.to = new List\u0026lt;string\u0026gt;() { \u0026quot;\u0026lt;User Id\u0026gt;\u0026quot; }; req.","title":"ä¸»å‹•æ¨æ’­Lineè¨Šæ¯çµ¦æŸå€‹ä½¿ç”¨è€…(Push Message) (20)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day19)\nAzure Table Azure Table æ˜¯ä¸€å€‹å…·æœ‰çµæ§‹æ€§çš„ NoSQL æœå‹™ï¼Œå¦‚æœè³‡æ–™çµæ§‹ä¸å…·å‚™å¤ªè¤‡é›œçš„é—œè¯é—œä¿‚ï¼Œé€éé€™ç¨® Key-Value çš„æ–¹å¼åšå„²å­˜ï¼Œç”¨ JSON ååºåˆ—åŒ–å›ä¾†æ˜¯ä¸€å€‹ä¸éŒ¯ä¸”æ–¹ä¾¿çš„æ–¹å¼ã€‚\nè¨»å†Š Azure Table æœå‹™ å¦‚ä½•è¨»å†Šä¸€å€‹ Azure Table æœå‹™ï¼Œå¯ä»¥åƒè€ƒå®˜æ–¹æ–‡ä»¶ï¼Œå»ºç«‹å®Œæˆå¾Œï¼Œå¯ä»¥é€éä»¥ä¸‹è·¯å¾‘å–å¾— Storage çš„ Connection String\nåœ¨ .NET Core Web Api å„²å­˜å ±åè³‡è¨Š å…ˆå¾ Nuget å®‰è£ Microsoft.Azure.Cosmos.Table\næ–°å¢ AzureTableUtility.cs ä¸¦å¯¦ä½œ\nå¦‚ä½•é€é SDK æ–°å¢ Azure Table\n public static CloudTable CreateTableAsync(string tableName) { string storageConnectionString = \u0026quot;DefaultEndpointsProtocol=https;AccountName=kylewedding;AccountKey=2mVDAPWt6xZAlxY9xx6pxhzJMvp3vyULGql7PZz9tHEwJ0zc+1vtdt50ZcDwb9I862ez+OoHQGcCkOhU0OvAng==;EndpointSuffix=core.windows.net\u0026quot;; // Storage çš„ é€£ç·šå­—ä¸²ï¼Œä¾†æºå¯ä»¥ç”¨appSetting.jsonæ­é… IOption æ³¨å…¥ CloudStorageAccount storageAccount = CreateStorageAccountFromConnectionString(storageConnectionString); // æ–°å¢ Azure Table CloudTableClient tableClient = storageAccount.CreateCloudTableClient(new TableClientConfiguration()); // ä¸å­˜åœ¨å‰‡æœƒæ–°å¢ï¼Œç¢ºèª Table å·²å­˜åœ¨å¯ä½¿ç”¨ await table.CreateIfNotExistsAsync() CloudTable table = tableClient.GetTableReference(tableName); return table; } public static CloudStorageAccount CreateStorageAccountFromConnectionString(string storageConnectionString) { CloudStorageAccount storageAccount; try { storageAccount = CloudStorageAccount.Parse(storageConnectionString); } catch (FormatException) { throw; } catch (ArgumentException) { throw; } return storageAccount; } å¦‚ä½•åœ¨ Azure Table æ–°å¢æˆ–æ›´æ–°è³‡æ–™\né€™é‚Šç”¨æ³›å‹ï¼Œä¾†è®“å¤–éƒ¨æ±ºå®šæ‰€è¦æ–°å¢çš„ Model\n public static async Task\u0026lt;ITableEntity\u0026gt; InsertOrMergeEntityAsync\u0026lt;T\u0026gt;(CloudTable table, ITableEntity entity) { try { // æ–°å¢æˆ–æ›´æ–° TableOperation insertOrMergeOperation = TableOperation.InsertOrMerge(entity); TableResult result = await table.ExecuteAsync(insertOrMergeOperation); var insertedCustomer = result.Result as ITableEntity; if (result.RequestCharge.HasValue) { Console.WriteLine(\u0026quot;Request Charge of InsertOrMerge Operation: \u0026quot; + result.RequestCharge); } return insertedCustomer; } catch (StorageException e) { throw; } } åœ¨ Web Api æ–°å¢ä¸€å€‹ RegisterController\n [HttpPost] public async Task\u0026lt;IActionResult\u0026gt; Post(Users user) { CloudTable table = AzureTableUtility.CreateTableAsync(\u0026quot;Users\u0026quot;); user.PartitionKey = Guid.NewGuid().ToString(\u0026quot;N\u0026quot;); user.RowKey = Guid.NewGuid().ToString(\u0026quot;N\u0026quot;); var models = await AzureTableUtility.InsertOrMergeEntityAsync\u0026lt;Users\u0026gt;(table, user) as Users; return Ok(); } User.cs çš„å…§å®¹\né€™æ˜¯å ±åçš„è³‡æ–™ï¼Œå¯ä»¥åœ¨å‰ä¸€å¤©çš„ vue.js å¯¦ä½œè½‰æˆ C# çš„ model\nå¦ç¹¼æ‰¿ TableEntity ä¾†è®“ Azure Table SDK èƒ½å¯«å…¥\n public class Users : TableEntity { public Users() { } public Users(string _partitionKey, string _rowKey) { PartitionKey = _partitionKey; RowKey = _rowKey; } public string LineUserId { get; set; } public string LineUserName { get; set; } public string fullName { get; set; } public string phoneNumber { get; set; } public int attendEvent { get; set; } public int inviteType { get; set; } public int relation { get; set; } public int attendPeople { get; set; } public int child { get; set; } public bool speical { get; set; } public string message { get; set; } } é€é Postman æ¸¬è©¦ Api å³å¯çœ‹åˆ°è³‡æ–™èƒ½æ­£ç¢ºå¯«å…¥\nç”¨ Azure Storage Explorer ç™»å…¥ Azureå¸³è™Ÿä¸¦é¸å– Azure Table æœå‹™å³å¯çœ‹åˆ°è³‡æ–™\næ€éº¼æ’ˆå·²ç¶“å¯«å…¥çš„è³‡æ–™å‘¢\næ–°å¢ä¸€å€‹ Get çš„ Api\n [HttpGet] public async Task\u0026lt;IActionResult\u0026gt; Get() { CloudTable table = AzureTableUtility.CreateTableAsync(\u0026quot;Users\u0026quot;); List\u0026lt;Users\u0026gt; linqQuery = table .CreateQuery\u0026lt;Users\u0026gt;() .ToList(); return Ok(linqQuery); } åŸ·è¡Œçµæœï¼Œé€éé€™ç¨®æ–¹å¼å°±å¯ä»¥å»åšä¸€å€‹å·²å ±åçš„å¾Œå°ä¾†ç€è¦½å•¦ (æœ¬ç³»åˆ—æ–‡ç« ä¸æœƒå¯«åˆ°å¾Œå°)\nå›åˆ° Vue.js å¦‚ä½•ä¸²æ¥ Vue.js å¯é€é axios ä¾†è·Ÿ Api æºé€š\nnpm install axios --save  åŒ¯å…¥ axios æ¨¡çµ„ å°‡å ±åè¡¨å–®çš„ç™¼é€ post request  å¦‚æœè¦æ‰“åˆ° local API å¯èƒ½æœƒæœ‰ CORS è·¨åŸŸå•é¡Œï¼Œå¯ä»¥åœ¨ä¸»ç›®éŒ„ä¸‹æ–°å¢ä¸€å€‹ vue.config.js è¨­å®š Proxy\n module.exports = { devServer: { proxy: { '/api': { target: 'http://localhost:\u0026lt;Your Local Api Port\u0026gt;', changeOrigin: true, ws: true, pathRewrite: { '^api': '' } } } } } æ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  å¦‚ä½•è¨»å†Š Azure Table https://azure.microsoft.com/zh-tw/free/ ç”¨ Azure Storage Explorer ç®¡ç† https://azure.microsoft.com/en-ca/features/storage-explorer/ å¦‚ä½•ä½¿ç”¨ Microsoft.Azure.Cosmos.Table SDK https://www.nuget.org/packages/Microsoft.Azure.Cosmos.Table å¦‚ä½•æ–°å¢/ç·¨è¼¯ä¸€å€‹çµæ§‹åŒ–çš„ Azure Table è³‡æ–™ https://docs.microsoft.com/en-us/azure/cosmos-db/tutorial-develop-table-dotnet?toc=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fazure%2Fstorage%2Ftables%2Ftoc.json\u0026amp;bc=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fazure%2Fbread%2Ftoc.json å¦‚ä½•ç”¨ vue.js + axios ä¾†è·Ÿ Api æºé€š https://www.runoob.com/vue2/vuejs-ajax-axios.html  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-19/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day19)\nAzure Table Azure Table æ˜¯ä¸€å€‹å…·æœ‰çµæ§‹æ€§çš„ NoSQL æœå‹™ï¼Œå¦‚æœè³‡æ–™çµæ§‹ä¸å…·å‚™å¤ªè¤‡é›œçš„é—œè¯é—œä¿‚ï¼Œé€éé€™ç¨® Key-Value çš„æ–¹å¼åšå„²å­˜ï¼Œç”¨ JSON ååºåˆ—åŒ–å›ä¾†æ˜¯ä¸€å€‹ä¸éŒ¯ä¸”æ–¹ä¾¿çš„æ–¹å¼ã€‚\nè¨»å†Š Azure Table æœå‹™ å¦‚ä½•è¨»å†Šä¸€å€‹ Azure Table æœå‹™ï¼Œå¯ä»¥åƒè€ƒå®˜æ–¹æ–‡ä»¶ï¼Œå»ºç«‹å®Œæˆå¾Œï¼Œå¯ä»¥é€éä»¥ä¸‹è·¯å¾‘å–å¾— Storage çš„ Connection String\nåœ¨ .NET Core Web Api å„²å­˜å ±åè³‡è¨Š å…ˆå¾ Nuget å®‰è£ Microsoft.Azure.Cosmos.Table\næ–°å¢ AzureTableUtility.cs ä¸¦å¯¦ä½œ\nå¦‚ä½•é€é SDK æ–°å¢ Azure Table\n public static CloudTable CreateTableAsync(string tableName) { string storageConnectionString = \u0026quot;DefaultEndpointsProtocol=https;AccountName=kylewedding;AccountKey=2mVDAPWt6xZAlxY9xx6pxhzJMvp3vyULGql7PZz9tHEwJ0zc+1vtdt50ZcDwb9I862ez+OoHQGcCkOhU0OvAng==;EndpointSuffix=core.windows.net\u0026quot;; // Storage çš„ é€£ç·šå­—ä¸²ï¼Œä¾†æºå¯ä»¥ç”¨appSetting.jsonæ­é… IOption æ³¨å…¥ CloudStorageAccount storageAccount = CreateStorageAccountFromConnectionString(storageConnectionString); // æ–°å¢ Azure Table CloudTableClient tableClient = storageAccount.","title":"Line Liff App v2â€Šâ€”â€Šç”¨ Azure Table å„²å­˜å ±åè³‡è¨Š (19)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day18)\nåœ¨ä¸Šä¸€ç¯‡æˆ‘å€‘æˆåŠŸå°‡ chatbot é€é Liff App å¾Œï¼Œè·Ÿæ‰€é–‹ç™¼ç¶²ç«™æœ‰ä¸€äº›é€£çµå¾Œï¼Œæœ¬ç¯‡æˆ‘å€‘å°‡è¦ä¾†å¯¦ä½œå‰ç«¯çš„å ±åè¡¨å–®\næœ¬ç¯‡å¯¦ä½œå…§å®¹æ”¾åœ¨é€™å€‹ Git Repoï¼š\nhttps://github.com/kyleap/vue-next-vee-validate-v4-line-liff-app-sample\næœ¬ç¯‡å°‡æœƒå­¸åˆ°ï¼š\n å¦‚ä½•èµ·å§‹ vue-next (v3.0) å°ˆæ¡ˆ å¦‚ä½•åœ¨ vue.js åŠ å…¥ Line Liff Appï¼Œä¸¦å–å¾—ä½¿ç”¨è€…è³‡è¨Š å¦‚ä½•åœ¨ vue åšä¸€å€‹å ±åè¡¨å–® æ€éº¼ä¾æ“šä½¿ç”¨è€…é¸å–æ¢ä»¶ä¾†é¡¯ç¤ºéš±è—è¡¨å–®å…§å®¹ åœ¨ vue å¦‚ä½•åšè¡¨å–®é©—è­‰  Vue.js çš„è¡¨å–® æœ¬æ¬¡ç¯„ä¾‹ç”¨äº† Google é¢¨æ ¼çš„ CSS æ¡†æ¶ Materializeï¼Œä½¿å¾—æˆ‘å€‘çš„è¡¨å–®æ¯”è¼ƒåƒ Google Form çš„é¢¨æ ¼ï¼Œåœ¨ index.html åŠ å…¥ç›¸é—œ css/javascript CDN\nåŸå§‹ç¢¼å¯ä»¥è‡³ Github çœ‹ï¼Œå¯¦ä½œçš„ UI å¤§æ¦‚é•·é€™æ¨£\nå¦‚æœä¸åƒåŠ å–œå¸–ï¼Œç›¸å°çš„ä¹Ÿä¸ç”¨å¡«é‚£éº¼å¤šè³‡è¨Šäº†ï¼Œé€™æ™‚å¯ä»¥é€é v-if or v-show ä¾†å¯¦ç¾ï¼Œå…©è€…å·®ç•°ç‚º v-if æœƒå¯¦éš›ç”¢ç”Ÿ domï¼Œv-show å„˜æœƒé¡¯ç¤ºéš±è—\né€é VeeValidate ä¾†åšè¡¨å–®å¿…å¡«é©—è­‰ï¼Œè«‹æ³¨æ„ vue 3.0 è¦ä½¿ç”¨ VeeValidate çš„ v4 ç‰ˆæœ¬\nnpm install vee-validate@next --save åœ¨ component import ç›¸é—œæ¨¡çµ„\næ’°å¯«ä¸€å€‹å¿…å¡«çš„ method\nç”¨ é€™å€‹ directiveï¼Œä¸¦åœ¨æ²’æœ‰å€¼å¾—æ™‚å€™ç”¨ å‘ˆç¾éŒ¯èª¤è¨Šæ¯\né€™æ¨£å°±èƒ½å¾ˆå®¹æ˜“çš„åšåˆ°æ²’æœ‰å€¼çš„æ™‚å€™æç¤ºå¿…å¡«\nåœ¨ App.vue å–å¾— Line ä½¿ç”¨è€…è³‡è¨Š\n  è¨­å®š Liff App Id\n  é€é Liff SDK å–å¾—ä½¿ç”¨è€…è³‡è¨Š\n  çµ¦å­å…ƒä»¶ä½¿ç”¨ profile é€™å€‹ model\n  å»ºç«‹ Liff App\nLiff App æ€éº¼å»ºç«‹ä¸Šä¸€ç¯‡ä»‹ç´¹éäº†ï¼Œæˆ‘å€‘ç”¨ ngrok æŠŠæœ¬åœ°çš„ç¶²ç«™ Run èµ·ä¾†ï¼Œå»ºç«‹é€²å»æ¸¬è©¦çœ‹çœ‹\næŠŠ liff App çš„ URL è²¼åˆ° Line è£¡é¢ï¼Œåœ¨æ‰‹æ©Ÿæ¿å‘ˆç¾çš„æ•ˆæœå¦‚ä¸‹ï¼š\né€™ä¸€ç¯‡æˆ‘å€‘ç”¨ vue.js å®Œæˆäº†ä¸€å€‹å‰ç«¯çš„å ±åé é¢ï¼Œä¸‹ä¸€ç¯‡æˆ‘å€‘è¦å°‡é€™å€‹å‰ç«¯çš„ data model å‚³åˆ°æˆ‘å€‘çš„ API ä¸¦å„²å­˜èµ·ä¾†ï¼Œæœ¬ç¯‡ç¨‹å¼ç¢¼ Repo https://github.com/kyleap/vue-next-vee-validate-v4-line-liff-app-sample\næ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  Vue 3.0 Vue-Next https://github.com/vuejs/vue-next ç”¨ Materialzecss CSSæ¡†æ¶ä¾†ç¾åŒ–è¡¨å–® https://materializecss.com/about.html ç”¨ VeeValidate v4 ä¾†åšè¡¨å–®é©—è­‰ https://vee-validate.logaretm.com/v4 å¦‚ä½•ç”¨ Vue.js åŠ Line Liff App å–å¾—ä½¿ç”¨è€…è³‡è¨Š https://developers.line.biz/en/reference/liff/#get-profile  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-18/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day18)\nåœ¨ä¸Šä¸€ç¯‡æˆ‘å€‘æˆåŠŸå°‡ chatbot é€é Liff App å¾Œï¼Œè·Ÿæ‰€é–‹ç™¼ç¶²ç«™æœ‰ä¸€äº›é€£çµå¾Œï¼Œæœ¬ç¯‡æˆ‘å€‘å°‡è¦ä¾†å¯¦ä½œå‰ç«¯çš„å ±åè¡¨å–®\næœ¬ç¯‡å¯¦ä½œå…§å®¹æ”¾åœ¨é€™å€‹ Git Repoï¼š\nhttps://github.com/kyleap/vue-next-vee-validate-v4-line-liff-app-sample\næœ¬ç¯‡å°‡æœƒå­¸åˆ°ï¼š\n å¦‚ä½•èµ·å§‹ vue-next (v3.0) å°ˆæ¡ˆ å¦‚ä½•åœ¨ vue.js åŠ å…¥ Line Liff Appï¼Œä¸¦å–å¾—ä½¿ç”¨è€…è³‡è¨Š å¦‚ä½•åœ¨ vue åšä¸€å€‹å ±åè¡¨å–® æ€éº¼ä¾æ“šä½¿ç”¨è€…é¸å–æ¢ä»¶ä¾†é¡¯ç¤ºéš±è—è¡¨å–®å…§å®¹ åœ¨ vue å¦‚ä½•åšè¡¨å–®é©—è­‰  Vue.js çš„è¡¨å–® æœ¬æ¬¡ç¯„ä¾‹ç”¨äº† Google é¢¨æ ¼çš„ CSS æ¡†æ¶ Materializeï¼Œä½¿å¾—æˆ‘å€‘çš„è¡¨å–®æ¯”è¼ƒåƒ Google Form çš„é¢¨æ ¼ï¼Œåœ¨ index.html åŠ å…¥ç›¸é—œ css/javascript CDN\nåŸå§‹ç¢¼å¯ä»¥è‡³ Github çœ‹ï¼Œå¯¦ä½œçš„ UI å¤§æ¦‚é•·é€™æ¨£\nå¦‚æœä¸åƒåŠ å–œå¸–ï¼Œç›¸å°çš„ä¹Ÿä¸ç”¨å¡«é‚£éº¼å¤šè³‡è¨Šäº†ï¼Œé€™æ™‚å¯ä»¥é€é v-if or v-show ä¾†å¯¦ç¾ï¼Œå…©è€…å·®ç•°ç‚º v-if æœƒå¯¦éš›ç”¢ç”Ÿ domï¼Œv-show å„˜æœƒé¡¯ç¤ºéš±è—\né€é VeeValidate ä¾†åšè¡¨å–®å¿…å¡«é©—è­‰ï¼Œè«‹æ³¨æ„ vue 3.0 è¦ä½¿ç”¨ VeeValidate çš„ v4 ç‰ˆæœ¬","title":"Line Liff App v2â€Šâ€”â€Šç”¨ Vue.js ä¾†åšå ±åé é¢ (18)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day17)\nLIFF å…¨åæ˜¯ LINE Front-end Frameworkï¼Œä¸€å€‹å¯ä»¥åœ¨ LINE app å…§é‹ä½œç¶²é çš„æ©Ÿåˆ¶ï¼Œæ‰€ä»¥ç¶²é å·¥ç¨‹å¸«çœŸçš„å¾ˆé€šç”¨é˜¿ï¼Œåªè¦æœƒç¶²é çš„èªè¨€å°±å¯ä»¥åœ¨å„ç¨®å¹³å°å¯¦ç¾ï¼ŒLiff App å¯ä»¥åœ¨ line chatbot è£¡é¢æ‰“é–‹æ‰€é–‹ç™¼çš„ç¶²é ï¼Œå‘ˆç¾æ•ˆæœå¤§æ¦‚æœƒæ˜¯ä»¥ä¸‹é€™æ¨£ï¼Œæˆ‘å€‘æœ¬æ¬¡ç”¨è¼ƒæ–°çš„ v2 ä¾†å¯¦ç¾\nå»ºç«‹ vue å°ˆæ¡ˆ npm install -g @vue/cli vue create hello-line-liff-app cd hello-line-liff-app npm run serve é€™æ¨£æ‡‰è©²å°±èƒ½çœ‹åˆ°ä»¥ä¸‹ç•«é¢\næœ¬ç³»åˆ—ä¸æœƒè¬› vue æ€éº¼ç™¼ä½ˆåˆ° web serverä¸Šï¼Œæˆ‘å€‘ç”¨ ngrok ä¾†æ‰“é€šå°å¤–ç¶²å€\nngrok http \u0026lt;your local vue.js port\u0026gt;-host-header=â€localhost:\u0026lt;your local vue.js port\u0026gt;\u0026quot; è¦æ–°å¢ä¸€å€‹ Line Liff Appï¼Œå¾—å…ˆæ–°å¢ä¸€å€‹ channelï¼Œæ€§è³ªç‚ºLine Login\nåœ¨ Line Login Liff çš„ tab æ–°å¢ä¸€å€‹ Appï¼Œç¶²å€æŒ‡å‘ä¸Šé¢ ngrok ç”¢ç”Ÿçš„ç¶²å€\næŠŠ https://liff.line.me çš„ç¶²å€è¤‡è£½ï¼Œè²¼åˆ° chatbot çš„å°è©±ï¼Œé»æ“Šæ¸¬è©¦çœ‹çœ‹ï¼Œæœƒæ˜¯ä»¥ä¸‹ç•«é¢ï¼š\né‚£å¦‚ä½•åœ¨ Liff App æŠ“åˆ°ç›®å‰ä½¿ç”¨è€…çš„è³‡è¨Šå‘¢? æˆ‘å€‘å¯ä»¥è¼‰å…¥ Liff App çš„ SDK\nindex.html\n\u0026lt;script *charset*=\u0026quot;utf-8\u0026quot; *src*=\u0026quot;https://static.line-scdn.net/liff/edge/2/sdk.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt; App.vue\ndata: å®šç¾©App.vue çš„ model beforeCreate: init liff app (é€™é‚Šè¦å‚³å…¥ä¸Šé¢å»ºç«‹çš„ liff app id) methods: init æˆåŠŸå¾Œï¼Œå–å¾—ä½¿ç”¨è€…è³‡è¨Š\næˆ‘å€‘æŠŠé€™å…©å€‹åƒæ•¸ï¼ŒæŠŠå­å…ƒä»¶ HelloLiffApp.vuew å‚³\nHelloLiffApp.vue\né€™å€‹ component æ¥æ”¶å…©å€‹åƒæ•¸ï¼šmsg å’Œ profileï¼Œä¸¦ç§€åœ¨ html ä¸Šï¼Œé€éliff.getVersion() å¯ä»¥å–å¾—ç›®å‰ SDK çš„ç‰ˆæœ¬\n æ›´å¤š liff çš„ function å¯ä»¥çœ‹é€™ç¯‡ ï¼  çµæœå‘ˆç¾\næœ¬ç¯‡å…ˆå¯«åˆ°é€™ï¼Œå¾ŒçºŒæˆ‘å€‘è¦ä¾†å¯¦ä½œå©šç¦®çš„å ±åè¡¨å–®ï¼\næ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  å¦‚ä½•å»ºç«‹ä¸€å€‹ Liff App https://developers.line.biz/en/docs/liff/registering-liff-apps/ å¦‚ä½•ä½¿ç”¨ Line Liff App SDK v2 https://developers.line.biz/en/docs/liff/developing-liff-apps/#specify-cdn-path å¦‚ä½•å–å¾—åœ¨Line Liff App å–å¾—ä½¿ç”¨è€…è³‡è¨Š https://developers.line.biz/en/docs/liff/developing-liff-apps/#getting-user-profile  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-17/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day17)\nLIFF å…¨åæ˜¯ LINE Front-end Frameworkï¼Œä¸€å€‹å¯ä»¥åœ¨ LINE app å…§é‹ä½œç¶²é çš„æ©Ÿåˆ¶ï¼Œæ‰€ä»¥ç¶²é å·¥ç¨‹å¸«çœŸçš„å¾ˆé€šç”¨é˜¿ï¼Œåªè¦æœƒç¶²é çš„èªè¨€å°±å¯ä»¥åœ¨å„ç¨®å¹³å°å¯¦ç¾ï¼ŒLiff App å¯ä»¥åœ¨ line chatbot è£¡é¢æ‰“é–‹æ‰€é–‹ç™¼çš„ç¶²é ï¼Œå‘ˆç¾æ•ˆæœå¤§æ¦‚æœƒæ˜¯ä»¥ä¸‹é€™æ¨£ï¼Œæˆ‘å€‘æœ¬æ¬¡ç”¨è¼ƒæ–°çš„ v2 ä¾†å¯¦ç¾\nå»ºç«‹ vue å°ˆæ¡ˆ npm install -g @vue/cli vue create hello-line-liff-app cd hello-line-liff-app npm run serve é€™æ¨£æ‡‰è©²å°±èƒ½çœ‹åˆ°ä»¥ä¸‹ç•«é¢\næœ¬ç³»åˆ—ä¸æœƒè¬› vue æ€éº¼ç™¼ä½ˆåˆ° web serverä¸Šï¼Œæˆ‘å€‘ç”¨ ngrok ä¾†æ‰“é€šå°å¤–ç¶²å€\nngrok http \u0026lt;your local vue.js port\u0026gt;-host-header=â€localhost:\u0026lt;your local vue.js port\u0026gt;\u0026quot; è¦æ–°å¢ä¸€å€‹ Line Liff Appï¼Œå¾—å…ˆæ–°å¢ä¸€å€‹ channelï¼Œæ€§è³ªç‚ºLine Login\nåœ¨ Line Login Liff çš„ tab æ–°å¢ä¸€å€‹ Appï¼Œç¶²å€æŒ‡å‘ä¸Šé¢ ngrok ç”¢ç”Ÿçš„ç¶²å€\næŠŠ https://liff.line.me çš„ç¶²å€è¤‡è£½ï¼Œè²¼åˆ° chatbot çš„å°è©±ï¼Œé»æ“Šæ¸¬è©¦çœ‹çœ‹ï¼Œæœƒæ˜¯ä»¥ä¸‹ç•«é¢ï¼š","title":"Line Liff App v2 - ç”¨ Vue.js ä¾†å¯¦ä½œ (17)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day16)\nQnA Maker æ˜¯å•¥ QnA Maker æ˜¯å¾®è»Ÿæä¾›ä¸€å€‹é›²ç«¯çš„è‡ªç„¶èªè¨€è™•ç† (NLP) è™•ç†æœå‹™ï¼Œå¯è¼•é¬†é€éç¶²ç«™å¾Œå°å»ºç«‹è‡ªå·±çš„çŸ¥è­˜åº«ï¼Œä¸¦èƒ½å¾ä½¿ç”¨è€…æ‰€è¼¸å…¥çš„èªå¥ï¼Œç†è§£ä»–çš„æ„åœ–ï¼Œæä¾›å¯èƒ½å°æ‡‰çš„çŸ¥è­˜åº«ç­”æ¡ˆã€‚QnA Makeræä¾›äº†å…è²»çš„æ–¹æ¡ˆï¼Œä½†é™åˆ¶å°±æ˜¯åªèƒ½æœ‰3ä»½çŸ¥è­˜åº«ã€æ¯ç§’åªèƒ½èª¿ç”¨Api 3æ¬¡ï¼Œæ¯æœˆ50,000ç­†Requestï¼Œå°æ–¼ä¸€èˆ¬ä½¿ç”¨æˆ–æŠ€è¡“è©•ä¼°ä¾†è¬›å¾ˆå¤ ç”¨äº†ã€‚è¦åœ¨ Line ä¸²æ¥å¤§æ¦‚åˆ†ç‚ºä»¥ä¸‹æ­¥é©Ÿï¼š\n åœ¨Azureè¨»å†Š QnA Maker æ–°å¢ä¸€å€‹ knowledge base å¢åŠ é¡Œç›®èˆ‡å›ç­” å®Œæˆè¨“ç·´ \u0026amp; ç™¼ä½ˆ å–å¾— Endpointã€EndpointKeyï¼Œä¾†è®“ç¨‹å¼ä¸²æ¥  å»ºç«‹ QnA Maker ç…§è‘— https://www.qnamaker.ai/Create Step By Step æ­¥é©Ÿï¼Œå› ç‚ºQnA Makeræ˜¯Azureçš„æœå‹™ï¼Œæ•…æ‚¨å¯ä»¥éœ€è¦Azureçš„è¨‚é–±ï¼Œç”±æ­¤è¨»å†Šè©¦ç”¨\nStep 1 åœ¨ Azure æ–°å¢ QnA Maker æœå‹™\nStep 2 é¸å–å‰›å‰›å»ºç«‹çš„QnA Makeræœå‹™ï¼Œä¸¦é¸æ“‡ç¹é«”ä¸­æ–‡\nStep 3 knowledge base åç¨±\næ­¥é©Ÿå››å¯ä»¥åŒ¯å…¥ç¾æœ‰çš„è³‡æ–™é›†ï¼Œä¾†æºå¯ä»¥æ˜¯æ–‡ä»¶æˆ–è€…æ˜¯ç·šä¸Šçš„ç¶²ç«™ï¼Œé€™æ¨£å°±ä¸ç”¨é‡æ–°å»ºæª”äº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆé…·å•Š :D\nStep 4 åŒ¯å…¥è³‡æ–™é›† (æœ¬æ¬¡å…ˆè·³é)\né–‹å§‹ç˜‹ç‹‚å»ºé¡Œç›®å§ï¼æˆ‘å€‘ä¾†è©¦è©¦å»ºç«‹ï¼š\u0026ldquo;æ–°äººæ€éº¼èªè­˜çš„ï¼Ÿ\u0026rdquo; å›ç­”æˆ‘å€‘è¨­å®š \u0026ldquo;æˆ‘å€‘æ˜¯åœ¨æ‰“å·¥é¤å»³èªè­˜çš„å–”ï¼Œé‚£æ™‚çš„åŒäº‹ put your hands up ??\u0026quot;ï¼Œä¸¦é»é¸Save And Train\nå¯ä»¥é€éæ—é‚Šçš„æ¨¡æ“¬å™¨æ¸¬è©¦ï¼Œå˜—è©¦æ‰“é¡ä¼¼çš„å•è©±ï¼Œéƒ½æœƒå°æ‡‰çš„ç›¸åŒçš„å›ç­”\nåœ¨ .NET Core ä¸²æ¥ QnA Maker åœ¨ä¸²æ¥ä¹‹å‰ï¼Œè¨˜å¾—è¦å…ˆé»é¸ Publish\nåˆæ˜¯å¾—åˆ°ä¸€å€‹ç†Ÿæ‚‰çš„ curl æŒ‡ä»¤ï¼Œå¯ä»¥ç¹¼çºŒç”¨ https://curl.olsh.me/ ä¾†è½‰ C# å•¦\nQnAMakerUtility.cs\næ–°å¢ä¸€å€‹ Utility ä¾†è™•ç† QnA Makerï¼Œè£¡é¢çš„ Key æ‡‰è©²è¦ç§»åˆ°appsetting.jsonæ¯”è¼ƒå¥½æ›¿æ›ï¼Œæœ€åˆå¹¾ç¯‡æœ‰æåˆ°å¯ä»¥ç”¨ IOption ä¾†æ³¨å…¥ï¼Œé€™é‚Šå°±ä¸å†å¤šæäº†ã€‚QnA Makeråˆ¤æ–·å‡ºä¾†æœƒæœ‰å€‹åˆ†æ•¸å€¼ï¼Œæˆ‘å€‘ç¯©é¸æœ€é«˜çš„ç•¶ä½œç­”æ¡ˆï¼Œå¦ä¹Ÿå®šç¾©ä¸€å€‹é¸æ“‡æ–°åƒæ•¸ç‚ºåˆ†æ•¸ï¼Œå¦‚æœæœ‰å€¼çš„è©±ï¼Œè¦å¤§æ–¼é€™å€‹åˆ†æ•¸æˆ‘å€‘æ‰æœƒå›å‚³ã€‚\n public class QnAMakerUtility { public async Task\u0026lt;QnAMakterAnswer\u0026gt; Get(string question, int? scope = null) { using (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;POST\u0026quot;), \u0026quot;https://qna-maker-lab.azurewebsites.net/qnamaker/knowledgebases/OOOOO-2d0e-4512-ba3f-a58fdc4c37e1/generateAnswer\u0026quot;)) { request.Headers.TryAddWithoutValidation(\u0026quot;Authorization\u0026quot;, \u0026quot;EndpointKey 5fdcf6c7-eb76-4a53-9e3b-74570645bOOO\u0026quot;); request.Content = new StringContent(\u0026quot;{'question':'\u0026quot; + question + \u0026quot;'}\u0026quot;); request.Content.Headers.ContentType = MediaTypeHeaderValue.Parse(\u0026quot;application/json\u0026quot;); var response = await httpClient.SendAsync(request); var result = await response.Content.ReadAsStringAsync(); var qnaResponse = JsonConvert.DeserializeObject\u0026lt;QnAMakerResponse\u0026gt;(result); // å–å¾—åˆ†æ•¸æœ€é«˜çš„å›ç­” var answers = qnaResponse.answers; // é¸æ“‡æ€§åƒæ•¸ï¼Œå¤§æ–¼å¤šå°‘åˆ†æ•¸æ‰å›å‚³ï¼Œé€™æ¨£çœ‹èµ·ä¾†æœƒæ¯”è¼ƒæº– if(scope.HasValue) { answers = answers.Where(c =\u0026gt; c.score \u0026gt;= scope.Value); } var answer = answers.OrderByDescending(c =\u0026gt; c.score).FirstOrDefault(); // ç„¡æ³•è¾¨è­˜ if (answer == null || answer.id == -1) return null; return answer; } } } } QnAMakerResponse\n public class QnAMakerResponse { public IEnumerable\u0026lt;QnAMakterAnswer\u0026gt; answers { get; set; } public bool activeLearningEnabled { get; set; } } public class QnAMakterAnswer { public object[] questions { get; set; } public string answer { get; set; } public float score { get; set; } public int id { get; set; } public object[] metadata { get; set; } } èª¿æ•´ä¸€ä¸‹ IntenFactory.cs\næˆ‘å€‘å…ˆåˆ¤æ–· Rule Base çš„å›è¦† (å­—ä¸²å®Œæ•´æ¯”å°)ï¼Œæœ‰æ¯”å°åˆ°å°±å›å‚³äº†ï¼Œå¦‚æœæ²’æœ‰æ¯”å°åˆ°ï¼Œå‰‡ä¸Ÿåˆ° AI Base (QnA Maker) ä¾†åˆ¤æ–·\nå‚³é€ \u0026ldquo;æ–°äººæ€éº¼èªè­˜çš„ï¼Ÿ\u0026rdquo; åˆ†æ•¸æ˜¯ 100 åˆ†\nå‚³é€ â€œç•¶åˆæ€éº¼äº¤å¾€çš„?â€ åˆ†æ•¸æ˜¯ 26.53 åˆ†\næ‰€ä»¥å°è©±æ¨¡å‹æ˜¯è¦é€æ­¥è¨“ç·´çš„ï¼Œæˆ‘å€‘èª¿æ•´ä¸€ä¸‹ï¼Œæå‡äº¤å¾€é—œéµå­—çš„åˆ†æ•¸ï¼Œè¦è¨˜å¾—é‡æ–°è¨“ç·´å’Œç™¼ä½ˆ\nå‚³é€ \u0026ldquo;äº¤å¾€çš„éç¨‹\u0026rdquo;ï¼Œå¾—åˆ°é‡æ–°è¨“ç·´å¾Œçš„åˆ†æ•¸ 99 åˆ†äº†\næœ¬ç¯‡å°±æ˜¯ .NET Core ä¸²æ¥ QnA Maker çš„éç¨‹ï¼Œé€éé€™ç¨®é›²ç«¯èªæ„è¾¨è­˜æœå‹™ï¼Œæˆ‘å€‘å†ä¹Ÿä¸ç”¨åœ¨ç¨‹å¼æ“´å¢ä¸€å † Intent å¯¦ä½œï¼Œä¸¦ä¸”è®“ Chatbot è°æ˜ä¸€é»ï¼Œä½¿ç”¨è€…ç‚ºä»€éº¼éƒ½å¯ä»¥çŸ¥é“å®ƒæƒ³å•çš„æ„åœ–æ˜¯ä»€éº¼ã€‚å¦‚æœè¦æ›´è°æ˜ä¸€é»è¨“ç·´ï¼Œå¯ä»¥è€ƒæ…®ä½¿ç”¨å¾®è»Ÿçš„ LUIS æœå‹™ï¼Œåœ¨ LUIS å¯ä»¥é‡å°ä½¿ç”¨è€…æ‰€å‚³çš„è³‡è¨Šæ‹†è§£ Entity / Intentï¼Œé€éè¨Šæ¯çš„æ”¶é›†ï¼Œé€éè‡ªè¡Œå®šç¾©çš„è¨“ç·´èªæ„è®“ Chatbot ç†è§£ä¸”æ›´æº–çš„å…§å®¹ï¼Œä½†æœ¬ç³»åˆ—æ–‡ç« æ‡‰è©²ä¸æœƒä»‹ç´¹åˆ°é€™å¡Š (å¾ŒçºŒé‚„æ˜¯ä»‹ç´¹ä¸€äº›å¥½ç©çš„ Lineæœå‹™)\næ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  QnA Maker æœå‹™ https://azure.microsoft.com/zh-tw/services/cognitive-services/qna-maker/ Rule Base vs AI Base https://www.tricentis.com/artificial-intelligence-software-testing/ai-approaches-rule-based-testing-vs-learning/ å¦‚ä½•åœ¨ Line ä¸²æ¥ QnA Maker https://docs.microsoft.com/en-us/azure/cognitive-services/qnamaker/quickstarts/quickstart-rest-curl  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-16/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day16)\nQnA Maker æ˜¯å•¥ QnA Maker æ˜¯å¾®è»Ÿæä¾›ä¸€å€‹é›²ç«¯çš„è‡ªç„¶èªè¨€è™•ç† (NLP) è™•ç†æœå‹™ï¼Œå¯è¼•é¬†é€éç¶²ç«™å¾Œå°å»ºç«‹è‡ªå·±çš„çŸ¥è­˜åº«ï¼Œä¸¦èƒ½å¾ä½¿ç”¨è€…æ‰€è¼¸å…¥çš„èªå¥ï¼Œç†è§£ä»–çš„æ„åœ–ï¼Œæä¾›å¯èƒ½å°æ‡‰çš„çŸ¥è­˜åº«ç­”æ¡ˆã€‚QnA Makeræä¾›äº†å…è²»çš„æ–¹æ¡ˆï¼Œä½†é™åˆ¶å°±æ˜¯åªèƒ½æœ‰3ä»½çŸ¥è­˜åº«ã€æ¯ç§’åªèƒ½èª¿ç”¨Api 3æ¬¡ï¼Œæ¯æœˆ50,000ç­†Requestï¼Œå°æ–¼ä¸€èˆ¬ä½¿ç”¨æˆ–æŠ€è¡“è©•ä¼°ä¾†è¬›å¾ˆå¤ ç”¨äº†ã€‚è¦åœ¨ Line ä¸²æ¥å¤§æ¦‚åˆ†ç‚ºä»¥ä¸‹æ­¥é©Ÿï¼š\n åœ¨Azureè¨»å†Š QnA Maker æ–°å¢ä¸€å€‹ knowledge base å¢åŠ é¡Œç›®èˆ‡å›ç­” å®Œæˆè¨“ç·´ \u0026amp; ç™¼ä½ˆ å–å¾— Endpointã€EndpointKeyï¼Œä¾†è®“ç¨‹å¼ä¸²æ¥  å»ºç«‹ QnA Maker ç…§è‘— https://www.qnamaker.ai/Create Step By Step æ­¥é©Ÿï¼Œå› ç‚ºQnA Makeræ˜¯Azureçš„æœå‹™ï¼Œæ•…æ‚¨å¯ä»¥éœ€è¦Azureçš„è¨‚é–±ï¼Œç”±æ­¤è¨»å†Šè©¦ç”¨\nStep 1 åœ¨ Azure æ–°å¢ QnA Maker æœå‹™\nStep 2 é¸å–å‰›å‰›å»ºç«‹çš„QnA Makeræœå‹™ï¼Œä¸¦é¸æ“‡ç¹é«”ä¸­æ–‡\nStep 3 knowledge base åç¨±\næ­¥é©Ÿå››å¯ä»¥åŒ¯å…¥ç¾æœ‰çš„è³‡æ–™é›†ï¼Œä¾†æºå¯ä»¥æ˜¯æ–‡ä»¶æˆ–è€…æ˜¯ç·šä¸Šçš„ç¶²ç«™ï¼Œé€™æ¨£å°±ä¸ç”¨é‡æ–°å»ºæª”äº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆé…·å•Š :D\nStep 4 åŒ¯å…¥è³‡æ–™é›† (æœ¬æ¬¡å…ˆè·³é)\né–‹å§‹ç˜‹ç‹‚å»ºé¡Œç›®å§ï¼æˆ‘å€‘ä¾†è©¦è©¦å»ºç«‹ï¼š\u0026ldquo;æ–°äººæ€éº¼èªè­˜çš„ï¼Ÿ\u0026rdquo; å›ç­”æˆ‘å€‘è¨­å®š \u0026ldquo;æˆ‘å€‘æ˜¯åœ¨æ‰“å·¥é¤å»³èªè­˜çš„å–”ï¼Œé‚£æ™‚çš„åŒäº‹ put your hands up ??\u0026quot;ï¼Œä¸¦é»é¸Save And Train","title":"ä¾†é»AIæ„Ÿï¼Œç”¨QnA Makerä¾†æLine Chatbotå›è¦† (16)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day15)\nåœ¨ä¸Šä¸€ç¯‡æˆ‘å€‘ä»‹ç´¹å¦‚ä½•è¨­å®šåœ–æ–‡é¸å–®ï¼Œæœ¬ç¯‡è¦ä¾†ä»‹ç´¹å¦‚ä½•åˆ‡æ›åœ–æ–‡é¸å–®ï¼Œæ­¤éƒ¨åˆ†åªèƒ½ç”¨ç¨‹å¼ä¾†é”æˆï¼Œåœ¨ Line Business å¾Œå°åªèƒ½è¨­å®šå›ºå®šçš„åœ–æ–‡é¸å–®èµ·è¨–æ—¥ï¼Œæœ‰äº†é€™åŠŸèƒ½å°±å¯ä»¥åƒç¶²ç«™ä¸€æ¨£æœ‰ç¶²ç«™åœ°åœ–çš„æ¦‚å¿µ\nä»Šå¤©å¯¦ä½œè¦å°‡ chatbot éš¨æ©Ÿåˆ‡æ›ä¸åŒçš„åœ–æ–‡é¸å–®ï¼Œçµ¦ä½¿ç”¨è€…ä¸åŒçš„é«”é©—ï¼Œä»Šå¤©çš„ç¯„ä¾‹åœ–ç‰‡åœ¨é€™ https://i.imgur.com/pupYvXr.jpg\nCreateRichMenuAsync\nåŸæœ¬é è¨­çš„ Rich Menu æ˜¯å¯«åœ¨ SetDefaultRichMenuAsyncï¼Œæˆ‘å€‘åšé»é‡æ§‹ï¼Œè®“Rich Menu çš„ç‰©ä»¶æ˜¯å¾å¤–éƒ¨å‚³å…¥ï¼Œå› ç‚ºæˆ‘å€‘ç¾åœ¨è¦è¨­å®šå¤šå€‹é¸å–®\n public async Task\u0026lt;Richmenu\u0026gt; CreateRichMenuAsync(CreateRichmenu richmenu) { using (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;POST\u0026quot;), lineMessageApiBaseUrl)) { request.Headers.TryAddWithoutValidation(\u0026quot;Authorization\u0026quot;, $\u0026quot;Bearer {accessToken}\u0026quot;); var postJson = JsonConvert.SerializeObject(richmenu, new JsonSerializerSettings { NullValueHandling = NullValueHandling.Ignore, ContractResolver = new DefaultContractResolver { NamingStrategy = new CamelCaseNamingStrategy() } }); request.Content = new StringContent(postJson); request.Content.Headers.ContentType = MediaTypeHeaderValue.Parse(\u0026quot;application/json\u0026quot;); var response = await httpClient.SendAsync(request); var results = await response.Content.ReadAsStringAsync(); var richmenu_res = JsonConvert.DeserializeObject\u0026lt;Richmenu\u0026gt;(results); return richmenu_res; }; } } RichMenuUtility\næˆ‘å€‘å°‡é€™äº›å®šç¾© Rich Menuçš„ç¨‹å¼æŠ½åˆ°é€™é‚Š\n public static class RichMenuUtility { public static CreateRichmenu GetDefault() { var defaultRichMenu = new CreateRichmenu(); defaultRichMenu.size = new CreateSize(1200, 810); defaultRichMenu.selected = true; defaultRichMenu.name = \u0026quot;Default RichMenu\u0026quot;; defaultRichMenu.chatBarText = \u0026quot;Kyle's Wedding\u0026quot;; defaultRichMenu.areas = new List\u0026lt;CreateArea\u0026gt;() { new CreateArea(boundx:0,boundy:0,width:800,height:810, _action: new MessageAction(\u0026quot;å©šç´—è¼ªæ’­\u0026quot;)) }; return defaultRichMenu; } public static CreateRichmenu GetSecondOne() { var defaultRichMenu = new CreateRichmenu(); defaultRichMenu.size = new CreateSize(1200, 810); defaultRichMenu.selected = true; defaultRichMenu.name = \u0026quot;Second One\u0026quot;; defaultRichMenu.chatBarText = \u0026quot;Kyle's Wedding\u0026quot;; defaultRichMenu.areas = new List\u0026lt;CreateArea\u0026gt;() { new CreateArea(boundx:0,boundy:0,width:800,height:810, _action: new MessageAction(\u0026quot;å©šç´—è¼ªæ’­\u0026quot;)) }; return defaultRichMenu; } }  ç¨‹å¼å°±ä¸åƒ Line Business å¾Œå°é‚£éº¼æ–¹ä¾¿æœ‰ä¸€äº›ç¯„æœ¬ï¼Œæœªä¾†å¦‚æœè¦å°è£ SDK æˆ‘å¯èƒ½æœƒè€ƒæ…®å°‡å¾Œå°çš„é‚£äº›ç¯„æœ¬å°è£èµ·ä¾†ï¼Œåªè¦è¨­å®šåœ–ç‰‡.æŒ‰éˆ•äº‹ä»¶å³å¯  InitRickMenu\nä¿®æ”¹ä¸Šä¸€ç¯‡ï¼Œæˆ‘å€‘ GetRichMenuListAsync æˆ‘å€‘æ”¹å›å‚³idå³å¯ï¼Œåœ¨è¨­å®šå¥½åœ–æ–‡é¸å–®æ™‚ä¹Ÿ Add åˆ° ID é™£åˆ—è£¡ï¼Œæœ€å¾Œï¼Œæˆ‘å€‘éš¨æ©Ÿå–å¾—ä»»ä¸€å€‹ ID åšé¡¯ç¤ºçš„è¨­å®š\nå¯¦éš›ç•«é¢å°±ä¸ Demo äº†ï¼ŒRichMenuæœƒåœ¨æ¯æ¬¡é€²å…¥èŠå¤©é é¢çš„æ™‚å€™éš¨æ©Ÿåˆ‡æ›ï¼Œä½†å› ç‚ºæœƒè·‘å‡ºæˆ‘æœ‹å‹çš„åˆ—è¡¨ä¸æ–¹ä¾¿ Demo XDâ€¦ç•¶ç„¶é€™éœ€æ±‚å¾ˆå¥‡æ€ªï¼Œå¯¦éš›ä¸Šæ‡‰è©²æ˜¯åšæˆåƒå¤šå±¤é¸å–®æ–¹å¼ï¼Œå»é€æ­¥åˆ‡æ›ï¼Œä¸”å¯ä»¥è¿”å›ä¸»é¸å–®çš„æ¦‚å¿µï¼Œé€™æ¨£å°±è®“ Line Chatbot ä¹Ÿåƒç¶²é ä¸€æ¨£æœ‰ä¸Šä¸€é  ä¸‹ä¸€é å•¦ï½\næ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  å¦‚ä½•ä¸Šå‚³ å¤šå€‹ Rich Menu åœ–ç‰‡ https://developers.line.biz/en/reference/messaging-api/#upload-rich-menu-image å¦‚ä½•åˆ‡æ› Rich Menu åœ–ç‰‡ https://developers.line.biz/en/reference/messaging-api/#set-default-rich-menu  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-15/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day15)\nåœ¨ä¸Šä¸€ç¯‡æˆ‘å€‘ä»‹ç´¹å¦‚ä½•è¨­å®šåœ–æ–‡é¸å–®ï¼Œæœ¬ç¯‡è¦ä¾†ä»‹ç´¹å¦‚ä½•åˆ‡æ›åœ–æ–‡é¸å–®ï¼Œæ­¤éƒ¨åˆ†åªèƒ½ç”¨ç¨‹å¼ä¾†é”æˆï¼Œåœ¨ Line Business å¾Œå°åªèƒ½è¨­å®šå›ºå®šçš„åœ–æ–‡é¸å–®èµ·è¨–æ—¥ï¼Œæœ‰äº†é€™åŠŸèƒ½å°±å¯ä»¥åƒç¶²ç«™ä¸€æ¨£æœ‰ç¶²ç«™åœ°åœ–çš„æ¦‚å¿µ\nä»Šå¤©å¯¦ä½œè¦å°‡ chatbot éš¨æ©Ÿåˆ‡æ›ä¸åŒçš„åœ–æ–‡é¸å–®ï¼Œçµ¦ä½¿ç”¨è€…ä¸åŒçš„é«”é©—ï¼Œä»Šå¤©çš„ç¯„ä¾‹åœ–ç‰‡åœ¨é€™ https://i.imgur.com/pupYvXr.jpg\nCreateRichMenuAsync\nåŸæœ¬é è¨­çš„ Rich Menu æ˜¯å¯«åœ¨ SetDefaultRichMenuAsyncï¼Œæˆ‘å€‘åšé»é‡æ§‹ï¼Œè®“Rich Menu çš„ç‰©ä»¶æ˜¯å¾å¤–éƒ¨å‚³å…¥ï¼Œå› ç‚ºæˆ‘å€‘ç¾åœ¨è¦è¨­å®šå¤šå€‹é¸å–®\n public async Task\u0026lt;Richmenu\u0026gt; CreateRichMenuAsync(CreateRichmenu richmenu) { using (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;POST\u0026quot;), lineMessageApiBaseUrl)) { request.Headers.TryAddWithoutValidation(\u0026quot;Authorization\u0026quot;, $\u0026quot;Bearer {accessToken}\u0026quot;); var postJson = JsonConvert.SerializeObject(richmenu, new JsonSerializerSettings { NullValueHandling = NullValueHandling.Ignore, ContractResolver = new DefaultContractResolver { NamingStrategy = new CamelCaseNamingStrategy() } }); request.Content = new StringContent(postJson); request.","title":"åˆ‡æ› Line çš„åœ–æ–‡é¸å–® (15)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day14)\nåœ¨ Line çš„å®˜æ–¹å¸³è™Ÿå¯ä»¥è¨­å®šé€²å…¥æ™‚çš„é¸å–®ï¼Œè®“ä½¿ç”¨è€…å¿«é€Ÿé»é¸ï¼Œè¨­å®šæ–¹å¼å¯ä»¥å¾å®˜æ–¹å¸³è™Ÿå¾Œå°(æœ‰æ—¢å®šçš„ç¯„æœ¬å¯ä»¥åƒè€ƒ)ï¼Œæˆ–è€…æ˜¯ç”¨ç¨‹å¼è‡ªå·±æŒ‡å®š(å¯ä»¥è‡ªå·±æ§åˆ¶åœ–ç‰‡çš„åº§æ¨™\u0026amp;è¨­å®šé»é¸å€å¡Š)ï¼Œä»¥ä¸‹åˆ†åˆ¥ä»‹ç´¹\nå¾å®˜æ–¹å¸³è™Ÿå¾Œå° é€™æ‡‰è©²æ˜¯æœ€æ–¹ä¾¿çš„æ–¹å¼äº†ï¼ŒLine å·²ç¶“æä¾›äº†ä¸€äº›ç¯„æœ¬å’Œè¨­è¨ˆè¦ç¯„ï¼Œåªè¦ç…§è‘—ç¯„æœ¬è£½ä½œä¸€å€‹åœ–ç‰‡ï¼Œä¸¦è¨­å®šæ¯å€‹å€å¡Šè¦è§¸ç™¼çš„äº‹ä»¶ï¼Œå³å¯å®Œæˆä¸€å€‹åœ–æ–‡é¸å–®\né€²å…¥ https://manager.line.biz/ é¸æ“‡åœ–æ–‡é¸å–® =\u0026gt; å»ºç«‹ =\u0026gt; è¨­è¨ˆè¦ç¯„ =\u0026gt; ä¸‹è¼‰ç¯„æœ¬ï¼Œ(æˆ–è€…ç›´æ¥é»æ­¤ä¸‹è¼‰)ï¼Œä¸‹è¼‰å¾Œæœƒæ˜¯ä¸€å€‹å£“ç¸®æª”ï¼Œä»Šå¤©ä¾†ç”¨é€™å€‹ç¯„ä¾‹åšä¿®æ”¹\næˆ‘å€‘ç”¨ PhotoShop æ”¹æˆæˆ‘å€‘è¦çš„åœ–ç‰‡ (é€™å°±ä¸ä»‹ç´¹å•¦) https://imgur.com/ev4LQzp.jpg\nä¸Šå‚³åœ–ç‰‡ï¼Œä¸¦è¨­å®š A.B.C æ‰€è¦è§¸ç™¼çš„æ–‡å­—\né€™æ¨£å°±å®Œæˆäº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿é˜¿\nå¾ç¨‹å¼æŒ‡å®š Rich Menu ç¨‹å¼å°±æ²’æœ‰ç”¨ Business å¾Œå°ç›´æ¥ä¸Šå‚³åœ–ç‰‡ä¾†å¾—é‚£éº¼æ–¹ä¾¿ï¼Œä½†ç¨‹å¼å¯ä»¥åšåˆ°æ¥µå½ˆæ€§ï¼Œå®ƒå¯ä»¥è‡ªè¨‚åœ–ç‰‡çš„åº§æ¨™ä¾†è¨­å®š click çš„ç¯„åœï¼Œå¯ä»¥é‡å°ä½¿ç”¨è€…ä¾†å‹•æ…‹çš„åˆ‡æ› Rich Menu ç­‰ç­‰â€¦ã€‚Rich Menu æ‰€ç‰½æ‰¯çš„ Api æœ‰é»å¤šï¼Œæ•…å…ˆæ•´ç†ä»Šå¤©æœƒå¯¦ä½œçš„ Api æ¸…å–®å¦‚ä¸‹\nGet rich menu listï¼šå–å¾—æ­¤ chatbot å·²è¨»å†Šçš„ Rich Menu æ¸…å–® Upload rich menu imageï¼šè¨­å®š Rich Menu çš„åœ–ç‰‡ Set default rich menuï¼šè¨­å®šæ‰€æª¢è¦–çš„ Rich Menu\næ–°å¢ LineRichMenuUtility.cs ä¹‹å‰ Message API æˆ‘å€‘åšäº† ä¸€å€‹ Utility ï¼ŒRich Menu æˆ‘å€‘ä¹Ÿæ–°å¢ä¸€å€‹\n public class LineRichMenuUtility { private readonly string accessToken; private static string lineMessageApiBaseUrl = \u0026quot;https://api.line.me/v2/bot/richmenu\u0026quot;; private static string lineMessageApiBaseUrlForAllUser = \u0026quot;https://api.line.me/v2/bot/user/all/richmenu\u0026quot;; public LineRichMenuUtility(IOptions\u0026lt;LineSetting\u0026gt; lineSetting) { accessToken = lineSetting.Value.ChannelAccessToken; } .... } Get rich menu listï¼šå–å¾—æ­¤ chatbot å·²è¨»å†Šçš„ Rich Menu æ¸…å–®\nRichMenuResponse é€™å€‹ class å…§å®¹ä¾†è‡ªæ–¼é€™å€‹æ–‡ä»¶\n public async Task\u0026lt;RichMenuResponse\u0026gt; GetRichMenuListAsync() { using (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;GET\u0026quot;), $\u0026quot;{lineMessageApiBaseUrl}/list\u0026quot;)) { request.Headers.TryAddWithoutValidation(\u0026quot;Authorization\u0026quot;, $\u0026quot;Bearer {accessToken}\u0026quot;); var response = await httpClient.SendAsync(request); var result = await response.Content.ReadAsStringAsync(); var richMenuRes = JsonConvert.DeserializeObject\u0026lt;RichMenuResponse\u0026gt;(result); return richMenuRes; } } } Upload rich menu imageï¼šè¨­å®š Rich Menu çš„åœ–ç‰‡\n public async Task UploadRichMenuImage(string imgUrl, string richMenuId) { using (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;POST\u0026quot;), $\u0026quot;lineMessageApiBaseUrl/{richMenuId}/content\u0026quot;)) { request.Headers.TryAddWithoutValidation(\u0026quot;Authorization\u0026quot;, $\u0026quot;Bearer {accessToken}\u0026quot;); var imgBytes = GetImage(imgUrl); request.Content = new ByteArrayContent(imgBytes); request.Content.Headers.ContentType = MediaTypeHeaderValue.Parse(\u0026quot;application/json\u0026quot;); var response = await httpClient.SendAsync(request); var results = await response.Content.ReadAsStringAsync(); }; } } private byte[] GetImage(string url) { var request = (HttpWebRequest)WebRequest.Create(url); var response = (HttpWebResponse)request.GetResponse(); using (Stream dataStream = response.GetResponseStream()) { if (dataStream == null) return null; using (var sr = new BinaryReader(dataStream)) { byte[] bytes = sr.ReadBytes(100000000); return bytes; } } } Set default rich menuï¼šè¨­å®šé è¨­çš„ Rich Menu\nCreateRichmenu é€™å€‹ class å…§å®¹ä¾†è‡ªæ–¼é€™å€‹æ–‡ä»¶\n è‡ªå·±ç”¨ç¨‹å¼å®šç¾©çš„éº»ç…©é»å°±åœ¨é€™ï¼Œè¦è¨­é•·å¯¬å’Œé€™ç¨®åº§æ¨™èˆ‡Actionï¼Œä½†æœªä¾†å¯ä»¥è€ƒæ…®å°‡ä¸€äº›å¸¸ç”¨ç¯„æœ¬ç”¨ç¨‹å¼å°è£èµ·ä¾†ï¼Œç›´æ¥ä½¿ç”¨\n  public async Task\u0026lt;Richmenu\u0026gt; SetDefaultRichMenuAsync() { using (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;POST\u0026quot;), lineMessageApiBaseUrl)) { request.Headers.TryAddWithoutValidation(\u0026quot;Authorization\u0026quot;, $\u0026quot;Bearer {accessToken}\u0026quot;); var defaultRichMenu = new CreateRichmenu(); defaultRichMenu.size = new CreateSize(1200, 810); defaultRichMenu.selected = true; defaultRichMenu.name = \u0026quot;Default RichMenu\u0026quot;; defaultRichMenu.chatBarText = \u0026quot;Kyle's Wedding\u0026quot;; defaultRichMenu.areas = new List\u0026lt;CreateArea\u0026gt;() { new CreateArea(boundx:0,boundy:0,width:800,height:810, _action: new MessageAction(\u0026quot;å©šç´—è¼ªæ’­\u0026quot;)) }; var postJson = JsonConvert.SerializeObject(defaultRichMenu, new JsonSerializerSettings { NullValueHandling = NullValueHandling.Ignore, ContractResolver = new DefaultContractResolver { NamingStrategy = new CamelCaseNamingStrategy() } }); request.Content = new StringContent(postJson); request.Content.Headers.ContentType = MediaTypeHeaderValue.Parse(\u0026quot;application/json\u0026quot;); var response = await httpClient.SendAsync(request); var results = await response.Content.ReadAsStringAsync(); var richmenu = JsonConvert.DeserializeObject\u0026lt;Richmenu\u0026gt;(results); return richmenu; }; } } Set default rich menuï¼šè¨­å®šæ‰€\u0026quot;æŒ‡å®š\u0026quot;çš„ Rich Menu\n public async Task SetDefaultRichMenuAsync(string richId) { using (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;POST\u0026quot;), $\u0026quot;{lineMessageApiBaseUrlForAllUser}/{richId}\u0026quot;)) { request.Headers.TryAddWithoutValidation(\u0026quot;Authorization\u0026quot;, $\u0026quot;Bearer {accessToken}\u0026quot;); var response = await httpClient.SendAsync(request); var results = await response.Content.ReadAsStringAsync(); } } } å›åˆ° Api Controllerï¼Œæˆ‘å€‘åœ¨ app å•Ÿå‹•çš„æ™‚å€™çµ¦è¨­å®š Rich Menu\nInitRichMenu å¯¦ä½œ\n public async Task InitRickMenu() { var rickResponse = await lineRichMenuUtility.GetRichMenuListAsync(); if(rickResponse.richmenus.Count == 0) { // æ²’æœ‰å–åˆ°ä»»ä½• Rich Menuï¼Œè¨­å®šé è¨­ var richMenu = await lineRichMenuUtility.SetDefaultRichMenuAsync(); await lineRichMenuUtility.UploadRichMenuImage(\u0026quot;https://i.imgur.com/ev4LQzp.jpg\u0026quot;, richMenu.richMenuId); } else { // å–å¾—é è¨­ä¸¦è¨­å®šè©² Rich Menu var defaultRich = rickResponse.richmenus.First(c =\u0026gt; c.name == \u0026quot;Default RichMenu\u0026quot;); await lineRichMenuUtility.SetDefaultRichMenuAsync(defaultRich.richMenuId); } æ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  å¦‚ä½•å–å¾—æ‰€æœ‰ Rich Menu https://developers.line.biz/en/reference/messaging-api/#get-rich-menu-list å¦‚ä½•ä¸Šå‚³ Rich Menu çš„åœ–ç‰‡ https://developers.line.biz/en/reference/messaging-api/#upload-rich-menu-image å¦‚ä½•è¨­å®š Rich Menu åœ–ç‰‡ https://developers.line.biz/en/reference/messaging-api/#set-default-rich-menu  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-14/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day14)\nåœ¨ Line çš„å®˜æ–¹å¸³è™Ÿå¯ä»¥è¨­å®šé€²å…¥æ™‚çš„é¸å–®ï¼Œè®“ä½¿ç”¨è€…å¿«é€Ÿé»é¸ï¼Œè¨­å®šæ–¹å¼å¯ä»¥å¾å®˜æ–¹å¸³è™Ÿå¾Œå°(æœ‰æ—¢å®šçš„ç¯„æœ¬å¯ä»¥åƒè€ƒ)ï¼Œæˆ–è€…æ˜¯ç”¨ç¨‹å¼è‡ªå·±æŒ‡å®š(å¯ä»¥è‡ªå·±æ§åˆ¶åœ–ç‰‡çš„åº§æ¨™\u0026amp;è¨­å®šé»é¸å€å¡Š)ï¼Œä»¥ä¸‹åˆ†åˆ¥ä»‹ç´¹\nå¾å®˜æ–¹å¸³è™Ÿå¾Œå° é€™æ‡‰è©²æ˜¯æœ€æ–¹ä¾¿çš„æ–¹å¼äº†ï¼ŒLine å·²ç¶“æä¾›äº†ä¸€äº›ç¯„æœ¬å’Œè¨­è¨ˆè¦ç¯„ï¼Œåªè¦ç…§è‘—ç¯„æœ¬è£½ä½œä¸€å€‹åœ–ç‰‡ï¼Œä¸¦è¨­å®šæ¯å€‹å€å¡Šè¦è§¸ç™¼çš„äº‹ä»¶ï¼Œå³å¯å®Œæˆä¸€å€‹åœ–æ–‡é¸å–®\né€²å…¥ https://manager.line.biz/ é¸æ“‡åœ–æ–‡é¸å–® =\u0026gt; å»ºç«‹ =\u0026gt; è¨­è¨ˆè¦ç¯„ =\u0026gt; ä¸‹è¼‰ç¯„æœ¬ï¼Œ(æˆ–è€…ç›´æ¥é»æ­¤ä¸‹è¼‰)ï¼Œä¸‹è¼‰å¾Œæœƒæ˜¯ä¸€å€‹å£“ç¸®æª”ï¼Œä»Šå¤©ä¾†ç”¨é€™å€‹ç¯„ä¾‹åšä¿®æ”¹\næˆ‘å€‘ç”¨ PhotoShop æ”¹æˆæˆ‘å€‘è¦çš„åœ–ç‰‡ (é€™å°±ä¸ä»‹ç´¹å•¦) https://imgur.com/ev4LQzp.jpg\nä¸Šå‚³åœ–ç‰‡ï¼Œä¸¦è¨­å®š A.B.C æ‰€è¦è§¸ç™¼çš„æ–‡å­—\né€™æ¨£å°±å®Œæˆäº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿é˜¿\nå¾ç¨‹å¼æŒ‡å®š Rich Menu ç¨‹å¼å°±æ²’æœ‰ç”¨ Business å¾Œå°ç›´æ¥ä¸Šå‚³åœ–ç‰‡ä¾†å¾—é‚£éº¼æ–¹ä¾¿ï¼Œä½†ç¨‹å¼å¯ä»¥åšåˆ°æ¥µå½ˆæ€§ï¼Œå®ƒå¯ä»¥è‡ªè¨‚åœ–ç‰‡çš„åº§æ¨™ä¾†è¨­å®š click çš„ç¯„åœï¼Œå¯ä»¥é‡å°ä½¿ç”¨è€…ä¾†å‹•æ…‹çš„åˆ‡æ› Rich Menu ç­‰ç­‰â€¦ã€‚Rich Menu æ‰€ç‰½æ‰¯çš„ Api æœ‰é»å¤šï¼Œæ•…å…ˆæ•´ç†ä»Šå¤©æœƒå¯¦ä½œçš„ Api æ¸…å–®å¦‚ä¸‹\nGet rich menu listï¼šå–å¾—æ­¤ chatbot å·²è¨»å†Šçš„ Rich Menu æ¸…å–® Upload rich menu imageï¼šè¨­å®š Rich Menu çš„åœ–ç‰‡ Set default rich menuï¼šè¨­å®šæ‰€æª¢è¦–çš„ Rich Menu\næ–°å¢ LineRichMenuUtility.cs ä¹‹å‰ Message API æˆ‘å€‘åšäº† ä¸€å€‹ Utility ï¼ŒRich Menu æˆ‘å€‘ä¹Ÿæ–°å¢ä¸€å€‹","title":"Line çš„åœ–æ–‡é¸å–® (14)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day13)\nChatbot æœ‰åˆ†ç‚ºå…©ç¨®é¡å‹ï¼Œä¸€å€‹æ˜¯ä»»å‹™å‹å°å‘ï¼Œå¦ä¸€å€‹æ˜¯èŠå¤©å‹å°å‘ï¼ŒèŠå¤©å‹å°å‘æœ€å…¸å‹çš„å°±æ˜¯ Siriï¼Œè¬›ä»€éº¼ä»–éƒ½æœƒå›ç­”ä½ ï¼Œé€™èƒŒå¾Œæ‰€æ”¯æ’çš„æ˜¯æµ·é‡æ•¸æ“šè¨“ç·´å‡ºä¾†çš„ï¼Œåœ¨æˆ‘å€‘è¨­è¨ˆæ‡‰ç”¨ Chatbot æ™‚ï¼Œå¤šåŠæœƒåå‘ä»»å‹™å‹å°å‘ï¼Œä½¿ç”¨è€…ç”¨ä½ çš„ Chatbot ä¸æ˜¯è¦è·Ÿä½ èŠå¤©ï¼Œæ˜¯è¦å¿«é€Ÿçš„ç”¨ä½ é€™æœå‹™é”åˆ°ä»»å‹™ï¼Œæ‰€ä»¥åœ¨è¨­è¨ˆæ™‚ï¼Œå¦‚æœå®šä½ Chatbot æ˜¯ \u0026ldquo;äºº\u0026rdquo; ï¼Œæ˜¯éå¸¸å¯æ€•çš„è¨­è¨ˆï¼Œåªæœƒé™ä½ä½¿ç”¨è€…çš„è§€æ„Ÿã€‚\nåœ¨è¨­è¨ˆ Line Chatbot æ™‚ï¼Œå¦‚æœä½¿ç”¨è€…åœ¨å°è©±éç¨‹ä¸­è¿·è·¯äº†ï¼Œä¸å¦¨è¨­è¨ˆä¸€äº›å¿«æ·éµå¼•å°åˆ°ä»–çš„ç›®æ¨™å§ï¼Œé€™å€‹åœ¨ Line è£¡é¢å¯¦ä½œå« Quick Replyï¼Œæˆ‘å€‘ä»Šå¤©å°‡åšåœ¨ç„¡æ³•è¾¨è­˜ä½¿ç”¨è€…çš„æ„åœ–æ™‚ï¼Œå›å‚³ä¸€äº›å¼•å°çš„å¿«æ·éµ\nIntenFactory.cs\nä¹‹å‰æœ‰è¨­å®šä¸€å€‹ DefaultIntent.cs æˆ‘å€‘å°‡ä¿®æ”¹é€™å€‹å¯¦ä½œ\nç•¶è½ä¸æ‡‚çš„æ™‚å€™ å›å‚³ä¸‰å€‹å¿«æ·éµ\n public async Task ReplyAsync(string replyToken) { if (!string.IsNullOrEmpty(replyText)) { await lineMessageUtility.ReplyMessageAsync(replyToken, replyText); } else { // å›å‚³æ­¡è¿è© var unknow = new TextMessage() { Text = $@\u0026quot;ä¸å¥½æ„æ€ï¼Œæˆ‘ä¸å¤ªæ¸…æ¥šæ‚¨çš„æ„æ€ï¼Œæˆ–è¨±ä½ å¯ä»¥ç”¨ä¸‹åˆ—å¿«é€Ÿéµ (åƒ…æ”¯æ´æ‰‹æ©Ÿ)\u0026quot; }; // Quick Reply unknow.QuickReply = new QuickReply(); unknow.QuickReply.Items.Add(new QuickReplyItem() { action = new MessageAction(\u0026quot;é›»å­å–œå¸–\u0026quot;), }); unknow.QuickReply.Items.Add(new QuickReplyItem() { action = new MessageAction(\u0026quot;å©šç´—è¼ªæ’­\u0026quot;), }); unknow.QuickReply.Items.Add(new QuickReplyItem() { action = new MessageAction(\u0026quot;äº¤é€šè³‡è¨Š\u0026quot;), }); await lineMessageUtility.ReplyMessageAsync(replyToken, new List\u0026lt;IMessage\u0026gt; { unknow }); } } TextMessage è¦å¤šä¸€å€‹ QuickReply çš„å±¬æ€§\n public class QuickReply { public List\u0026lt;QuickReplyItem\u0026gt; Items = new List\u0026lt;QuickReplyItem\u0026gt;(); } public class QuickReplyItem { public string type =\u0026gt; \u0026quot;action\u0026quot;; public string imageUrl { get; set; } public IAction action { get; set; } } å¯¦ä½œæ•ˆæœ æ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  å•†ç”¨èŠå¤©æ©Ÿå™¨äºº UX çš„ 13 å€‹è¨­è¨ˆåŸå‰‡(heuristics) https://medium.com/as-a-product-designer/13-heuristics-for-commercial-chatbot-ux-design-58c1aa191c77 å¦‚ä½•ä½¿ç”¨ Quick Reply https://developers.line.biz/en/docs/messaging-api/using-quick-reply/  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-13/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day13)\nChatbot æœ‰åˆ†ç‚ºå…©ç¨®é¡å‹ï¼Œä¸€å€‹æ˜¯ä»»å‹™å‹å°å‘ï¼Œå¦ä¸€å€‹æ˜¯èŠå¤©å‹å°å‘ï¼ŒèŠå¤©å‹å°å‘æœ€å…¸å‹çš„å°±æ˜¯ Siriï¼Œè¬›ä»€éº¼ä»–éƒ½æœƒå›ç­”ä½ ï¼Œé€™èƒŒå¾Œæ‰€æ”¯æ’çš„æ˜¯æµ·é‡æ•¸æ“šè¨“ç·´å‡ºä¾†çš„ï¼Œåœ¨æˆ‘å€‘è¨­è¨ˆæ‡‰ç”¨ Chatbot æ™‚ï¼Œå¤šåŠæœƒåå‘ä»»å‹™å‹å°å‘ï¼Œä½¿ç”¨è€…ç”¨ä½ çš„ Chatbot ä¸æ˜¯è¦è·Ÿä½ èŠå¤©ï¼Œæ˜¯è¦å¿«é€Ÿçš„ç”¨ä½ é€™æœå‹™é”åˆ°ä»»å‹™ï¼Œæ‰€ä»¥åœ¨è¨­è¨ˆæ™‚ï¼Œå¦‚æœå®šä½ Chatbot æ˜¯ \u0026ldquo;äºº\u0026rdquo; ï¼Œæ˜¯éå¸¸å¯æ€•çš„è¨­è¨ˆï¼Œåªæœƒé™ä½ä½¿ç”¨è€…çš„è§€æ„Ÿã€‚\nåœ¨è¨­è¨ˆ Line Chatbot æ™‚ï¼Œå¦‚æœä½¿ç”¨è€…åœ¨å°è©±éç¨‹ä¸­è¿·è·¯äº†ï¼Œä¸å¦¨è¨­è¨ˆä¸€äº›å¿«æ·éµå¼•å°åˆ°ä»–çš„ç›®æ¨™å§ï¼Œé€™å€‹åœ¨ Line è£¡é¢å¯¦ä½œå« Quick Replyï¼Œæˆ‘å€‘ä»Šå¤©å°‡åšåœ¨ç„¡æ³•è¾¨è­˜ä½¿ç”¨è€…çš„æ„åœ–æ™‚ï¼Œå›å‚³ä¸€äº›å¼•å°çš„å¿«æ·éµ\nIntenFactory.cs\nä¹‹å‰æœ‰è¨­å®šä¸€å€‹ DefaultIntent.cs æˆ‘å€‘å°‡ä¿®æ”¹é€™å€‹å¯¦ä½œ\nç•¶è½ä¸æ‡‚çš„æ™‚å€™ å›å‚³ä¸‰å€‹å¿«æ·éµ\n public async Task ReplyAsync(string replyToken) { if (!string.IsNullOrEmpty(replyText)) { await lineMessageUtility.ReplyMessageAsync(replyToken, replyText); } else { // å›å‚³æ­¡è¿è© var unknow = new TextMessage() { Text = $@\u0026quot;ä¸å¥½æ„æ€ï¼Œæˆ‘ä¸å¤ªæ¸…æ¥šæ‚¨çš„æ„æ€ï¼Œæˆ–è¨±ä½ å¯ä»¥ç”¨ä¸‹åˆ—å¿«é€Ÿéµ (åƒ…æ”¯æ´æ‰‹æ©Ÿ)\u0026quot; }; // Quick Reply unknow.QuickReply = new QuickReply(); unknow.QuickReply.Items.Add(new QuickReplyItem() { action = new MessageAction(\u0026quot;é›»å­å–œå¸–\u0026quot;), }); unknow.","title":"å„ç¨®è¨Šæ¯éƒ½ç©éäº†ï¼Œä¾†èŠèŠä½¿ç”¨è€…é«”é©— (Quick Reply) (13)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day12)\né€™ç¯‡è¦ä¾†ç·©ä¸€ä¸‹ï¼Œåšç¬¬ä¸€æ¬¡çš„é‡æ§‹ï¼Œå¯«åˆ°ç¾åœ¨æœƒç™¼ç¾ LineBotApp.cs é€™å€‹ classé–‹å§‹è¤‡é›œäº†ï¼Œç¨‹å¼ç¢¼è¶Šä¾†è¶Šé•·ï¼Œåœ¨OnMessageAsync.OnPostbackAsync é–‹å§‹æœ‰ç›¸åŒçš„ Intent é‡è¤‡å®šç¾©\næˆ‘å€‘æŠŠå–å¾— Intent å°è£æˆä¸€å€‹å·¥å» \nIIntentFactory.cs å®šç¾©ä¸€å€‹å·¥å» ä»‹é¢\n public interface IIntentFactory { IReplyIntent GetIntent(string intentName, string userId); } IntentFactory.cs å¯¦ä½œé€™å€‹ä»‹é¢\n public class IntentFactory : IIntentFactory { private readonly LineReplyMessageUtility lineMessageUtility; private readonly LineProfileUtility lineProfileUtility; public IntentFactory(LineReplyMessageUtility _lineMessageUtility, LineProfileUtility _lineProfileUtility) { lineMessageUtility = _lineMessageUtility; lineProfileUtility = _lineProfileUtility; } public IReplyIntent GetIntent(string intentName, string userId) { var intents = new Dictionary\u0026lt;string, IReplyIntent\u0026gt;() { { \u0026quot;Welcome\u0026quot; , new Welcome(lineMessageUtility,lineProfileUtility,userId)}, { \u0026quot;é›»å­å–œå¸–\u0026quot; , new WeddingInvitationFromImage(lineMessageUtility,lineProfileUtility)}, { \u0026quot;é›»å­å–œå¸–(FlexMsg)\u0026quot; , new WeddingInvitation(lineMessageUtility,lineProfileUtility)}, { \u0026quot;å‰å°å½±ç‰‡\u0026quot; , new WeddingTrailer(lineMessageUtility,lineProfileUtility)}, { \u0026quot;å©šå®´åœ°é»\u0026quot; , new WeddingLocation(lineMessageUtility,lineProfileUtility)}, { \u0026quot;å©šç´—è¼ªæ’­\u0026quot; , new PhotoCarousel(lineMessageUtility,lineProfileUtility)}, { \u0026quot;äº¤é€šè³‡è¨Š\u0026quot; , new Directions(lineMessageUtility,lineProfileUtility)}, { \u0026quot;å¾é«˜éµ\u0026quot; , new DefaultIntent(lineMessageUtility,lineProfileUtility,\u0026quot;è‡³ åŒ—é–€ç«™ æ­ä¹˜æ¾å±±æ–°åº—ç·šè‡³ å—äº¬å¾©èˆˆç«™ æ­¥è¡Œ7åˆ†é˜\u0026quot;)}, { \u0026quot;å¾æ·é‹\u0026quot; , new DefaultIntent(lineMessageUtility,lineProfileUtility,\u0026quot;æ·é‹å°åŒ—å°å·¨è›‹ç«™6åˆ†é˜/å—äº¬å¾©èˆˆç«™åªéœ€7åˆ†é˜\u0026quot;)}, { \u0026quot;å¾æ©Ÿå ´\u0026quot; , new DefaultIntent(lineMessageUtility,lineProfileUtility,\u0026quot;é…’åº—è·é›¢æ¾å±±åœ‹éš›æ©Ÿå ´åƒ… 5 åˆ†é˜è»Šç¨‹\u0026quot;)}, { \u0026quot;åœè»Šè³‡è¨Š\u0026quot; , new DefaultIntent(lineMessageUtility,lineProfileUtility,\u0026quot;é…’åº—çš„åœè»Šå ´ç‚ºå®¤å…§åœè»Šå ´ï¼Œä½æ–¼B5åŠB6\u0026quot;)}, { \u0026quot;é–‹è»Šæé†’\u0026quot; , new DefaultIntent(lineMessageUtility,lineProfileUtility,\u0026quot;? ç•¶å¤©æœ‰ç´…é…’äº«ç”¨ï¼Œåˆ‡è¨˜é–‹è»Šä¸å–é…’ï¼Œå¿«å¿«æ¨‚æ¨‚å¹³å¹³å®‰å®‰çš„å›å®¶~ ?\u0026quot;)}, { \u0026quot;Default\u0026quot; ,new DefaultIntent(lineMessageUtility,lineProfileUtility)}, }; return intents.ContainsKey(intentName) ? intents[intentName] : intents[\u0026quot;Default\u0026quot;]; } } LinebotApp.cs æ³¨å…¥IIntentFactoryï¼ŒåŸæœ¬çš„ lineMessageUtility.lineProfileUtility è·è²¬æ”¹ç”±å·¥å» è£¡é¢ä½¿ç”¨ï¼ŒLineBotApp ä¸å†è™•ç†å›è¦†çš„è·è²¬ï¼Œé€™é‚Šä¹Ÿä¸éœ€è¦æ³¨å…¥äº†\nè¨˜å¾—è¦åœ¨ Startup.cs æ³¨å…¥\nLineBotApp.cs é‡æ§‹å¾Œ\né€™æ¨£å°±ä¹¾æ·¨å¤šäº†ï¼Œä¹Ÿä¸ç”¨ç›¸åŒçš„ intent é‡è¤‡å¯«äº†å…©æ¬¡ï¼Œé‡æ§‹åˆ°é€™ç¯‡ï¼Œè¦ºå¾—é‚„å¤ ç”¨ï¼Œä¹‹å¾Œå¯¦ä½œé–‹å§‹è¤‡é›œæˆ‘å€‘å†ä¾†ç¹¼çºŒé‡æ§‹\n protected virtual async Task OnMessageAsync(Event ev) { if (ev.message.Type.Equals(LineMessageType.text)) { var intent = intentFactory.GetIntent(ev.message.Text, ev.source.userId); await intent.ReplyAsync(ev.replyToken); } } protected virtual async Task OnFollowAsync(Event ev) { var intent = intentFactory.GetIntent(intentName: \u0026quot;Welcome\u0026quot;, ev.source.userId); await intent.ReplyAsync(ev.replyToken); } protected virtual async Task OnUnfollowAsync(Event ev) { // å¯ä»¥è¨˜éŒ„èª°å°é–äº†é€™å€‹Bot await Task.CompletedTask; } protected virtual async Task OnUnPostbackAsync(Event ev) { var intent = intentFactory.GetIntent(ev.postback.data, ev.source.userId); await intent.ReplyAsync(ev.replyToken); } æ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  [Design Pattern] ç°¡å–®å·¥å» æ¨¡å¼ (Simple Factory Pattern) https://dotblogs.com.tw/joysdw12/2013/06/23/design-pattern-simple-factory-pattern  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-12/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day12)\né€™ç¯‡è¦ä¾†ç·©ä¸€ä¸‹ï¼Œåšç¬¬ä¸€æ¬¡çš„é‡æ§‹ï¼Œå¯«åˆ°ç¾åœ¨æœƒç™¼ç¾ LineBotApp.cs é€™å€‹ classé–‹å§‹è¤‡é›œäº†ï¼Œç¨‹å¼ç¢¼è¶Šä¾†è¶Šé•·ï¼Œåœ¨OnMessageAsync.OnPostbackAsync é–‹å§‹æœ‰ç›¸åŒçš„ Intent é‡è¤‡å®šç¾©\næˆ‘å€‘æŠŠå–å¾— Intent å°è£æˆä¸€å€‹å·¥å» \nIIntentFactory.cs å®šç¾©ä¸€å€‹å·¥å» ä»‹é¢\n public interface IIntentFactory { IReplyIntent GetIntent(string intentName, string userId); } IntentFactory.cs å¯¦ä½œé€™å€‹ä»‹é¢\n public class IntentFactory : IIntentFactory { private readonly LineReplyMessageUtility lineMessageUtility; private readonly LineProfileUtility lineProfileUtility; public IntentFactory(LineReplyMessageUtility _lineMessageUtility, LineProfileUtility _lineProfileUtility) { lineMessageUtility = _lineMessageUtility; lineProfileUtility = _lineProfileUtility; } public IReplyIntent GetIntent(string intentName, string userId) { var intents = new Dictionary\u0026lt;string, IReplyIntent\u0026gt;() { { \u0026quot;Welcome\u0026quot; , new Welcome(lineMessageUtility,lineProfileUtility,userId)}, { \u0026quot;é›»å­å–œå¸–\u0026quot; , new WeddingInvitationFromImage(lineMessageUtility,lineProfileUtility)}, { \u0026quot;é›»å­å–œå¸–(FlexMsg)\u0026quot; , new WeddingInvitation(lineMessageUtility,lineProfileUtility)}, { \u0026quot;å‰å°å½±ç‰‡\u0026quot; , new WeddingTrailer(lineMessageUtility,lineProfileUtility)}, { \u0026quot;å©šå®´åœ°é»\u0026quot; , new WeddingLocation(lineMessageUtility,lineProfileUtility)}, { \u0026quot;å©šç´—è¼ªæ’­\u0026quot; , new PhotoCarousel(lineMessageUtility,lineProfileUtility)}, { \u0026quot;äº¤é€šè³‡è¨Š\u0026quot; , new Directions(lineMessageUtility,lineProfileUtility)}, { \u0026quot;å¾é«˜éµ\u0026quot; , new DefaultIntent(lineMessageUtility,lineProfileUtility,\u0026quot;è‡³ åŒ—é–€ç«™ æ­ä¹˜æ¾å±±æ–°åº—ç·šè‡³ å—äº¬å¾©èˆˆç«™ æ­¥è¡Œ7åˆ†é˜\u0026quot;)}, { \u0026quot;å¾æ·é‹\u0026quot; , new DefaultIntent(lineMessageUtility,lineProfileUtility,\u0026quot;æ·é‹å°åŒ—å°å·¨è›‹ç«™6åˆ†é˜/å—äº¬å¾©èˆˆç«™åªéœ€7åˆ†é˜\u0026quot;)}, { \u0026quot;å¾æ©Ÿå ´\u0026quot; , new DefaultIntent(lineMessageUtility,lineProfileUtility,\u0026quot;é…’åº—è·é›¢æ¾å±±åœ‹éš›æ©Ÿå ´åƒ… 5 åˆ†é˜è»Šç¨‹\u0026quot;)}, { \u0026quot;åœè»Šè³‡è¨Š\u0026quot; , new DefaultIntent(lineMessageUtility,lineProfileUtility,\u0026quot;é…’åº—çš„åœè»Šå ´ç‚ºå®¤å…§åœè»Šå ´ï¼Œä½æ–¼B5åŠB6\u0026quot;)}, { \u0026quot;é–‹è»Šæé†’\u0026quot; , new DefaultIntent(lineMessageUtility,lineProfileUtility,\u0026quot;?","title":"Hold on Hold on é‡æ§‹ä¸€ä¸‹ï¼ (12)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day11)\nå¦‚æœå‰é¢ä»‹ç´¹çš„è¨Šæ¯é¡å‹éƒ½ä¸å¤ æ€éº¼è¾¦ï¼Ÿå°±ç”¨ Flex Message åšå€‹å®¢è£½åŒ–çš„è¨Šæ¯å§ï¼Œçœ‹çœ‹å®˜ç¶²é€™äº› showcaseï¼Œ4ä¸4å¾ˆé…·é˜¿\nè¨­è¨ˆé­‚ç™¼ä½œ é€™äº›æ•ˆæœï¼Œä¸»è¦éƒ½æ˜¯ç”¨ JSON å­—ä¸²çµ„å‡ºä¾†çš„ï¼Œå®˜ç¶²ä¹Ÿå¾ˆè²¼å¿ƒçš„æä¾› Simulator ä¾†è®“ä½ ç”¨GUIçš„æ–¹å¼ä¾†è¨­å®šè‡ªå·±å®¢è£½çš„ Flex Messageï¼Œä¹‹å‰é›»å­å–œå¸–æ˜¯ç”¨åœ–ç‰‡çš„æ–¹å¼ï¼Œæˆ‘å€‘ä¾†æ”¹æˆ Flex Message å§ã€‚\næˆ‘åœ¨ Simulator æ‹‰çš„è¨Šæ¯åœ–ç‰‡å¦‚ä¸‹ (å…¶å¯¦è »å¥½ä¸Šæ‰‹çš„)\nåŠ å…¥è¡Œäº‹æ›†å¸Œæœ›å¼•å°åˆ° Google Map\né€é UriAction å³å¯è§£æ±º\nhttps://calendar.google.com/calendar/u/0/r/eventedit?text=Kyle%27s%20Wedding\u0026amp;dates=20201208T100000Z/20201208T140000Z\u0026amp;details\u0026amp;location=%E5%8F%B0%E5%8C%97%E6%9D%B1%E6%96%B9%E6%96%87%E8%8F%AF\né»é¸å³ä¸Šè§’ View as JSON å°±èƒ½å–å¾—å®Œæ•´çš„ JSON å­—ä¸²\nå›åˆ° .NET ç™¼é€å§ï¼Œåœ¨ LineReplyMessageUtility.cs å¯¦ä½œ ReplyMessageByJsonAsync\n public async Task ReplyMessageByJsonAsync(string replyToken, string jsonString) { using (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;POST\u0026quot;), $\u0026quot;{lineMessageApiBaseUrl}\u0026quot;)) { request.Headers.TryAddWithoutValidation(\u0026quot;Authorization\u0026quot;, $\u0026quot;Bearer {accessToken}\u0026quot;); LineMessageReq req = new LineMessageReq(); req.ReplyToken = replyToken; req.Messages.Add(new FlexMessage() { Contents = JsonConvert.DeserializeObject(jsonString) }); var postJson = JsonConvert.SerializeObject(req, new JsonSerializerSettings { NullValueHandling = NullValueHandling.Ignore, ContractResolver = new DefaultContractResolver { NamingStrategy = new CamelCaseNamingStrategy() }, Formatting = Formatting.Indented }).Replace(\u0026quot;\\\u0026quot;\u0026quot;,@\u0026quot;\u0026quot;\u0026quot;\u0026quot;); request.Content = new StringContent(postJson); request.Content.Headers.ContentType = MediaTypeHeaderValue.Parse(\u0026quot;application/json\u0026quot;); var response = await httpClient.SendAsync(request); var result = await response.Content.ReadAsStringAsync(); } } } FlexMessage ç¹¼æ‰¿ IMessage\n public class FlexMessage : IMessage { public LineMessageType Type =\u0026gt; LineMessageType.flex; public string AltText =\u0026gt; \u0026quot;Flex Message\u0026quot;; public dynamic Contents { get; set; } } OnMessageAsync\nå¯¦ä½œ WeddingInvitation.cs\nè¤‡è£½çš„ JSON å­—ä¸²è¨˜å¾—å°‡é›™å¼•è™Ÿå–ä»£æˆå…©å€‹é›™å¼•è™Ÿ\nawait lineMessageUtility.ReplyMessageByJsonAsync(replyToken, jsonString); åƒ FlexMessage é€™ç¨®è¤‡é›œçš„ JSON æˆ‘å»ºè­°å°±ä¸è¦ç”¨å•¥C# å‹åˆ¥ä¾†çµ„äº†ï¼Œåªæœƒè®“ç¨‹å¼ç¢¼æ›´å™å¿ƒè€Œå·²ï¼Œå¦‚æœè¦å‹•æ…‹ä¿®æ”¹è£¡é¢çš„å…§å®¹ï¼Œå…¶å¯¦ä¹Ÿåªæ˜¯è¦æ”¹å­—ä¸²è€Œå·²ï¼Œè­¬å¦‚ï¼š\nvar name = \u0026quot;kyle\u0026quot;; var jsonContent = $\u0026quot;hello world, {name}\u0026quot;; å¯¦ä½œæ•ˆæœ\næ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  ç”¨ Flex Message Simulator ä¾†æ‹‰èŠ±å¼è¨Šæ¯ï¼Œå–å¾— JSON https://developers.line.biz/en/docs/messaging-api/message-types/#template-messages å¦‚ä½•å°‡ Flex Message çš„ JSON åšç™¼é€ https://developers.line.biz/en/reference/messaging-api/#flex-message åŠ å…¥ Google è¡Œäº‹æ›†çš„å°æŠ€å·§  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-11/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day11)\nå¦‚æœå‰é¢ä»‹ç´¹çš„è¨Šæ¯é¡å‹éƒ½ä¸å¤ æ€éº¼è¾¦ï¼Ÿå°±ç”¨ Flex Message åšå€‹å®¢è£½åŒ–çš„è¨Šæ¯å§ï¼Œçœ‹çœ‹å®˜ç¶²é€™äº› showcaseï¼Œ4ä¸4å¾ˆé…·é˜¿\nè¨­è¨ˆé­‚ç™¼ä½œ é€™äº›æ•ˆæœï¼Œä¸»è¦éƒ½æ˜¯ç”¨ JSON å­—ä¸²çµ„å‡ºä¾†çš„ï¼Œå®˜ç¶²ä¹Ÿå¾ˆè²¼å¿ƒçš„æä¾› Simulator ä¾†è®“ä½ ç”¨GUIçš„æ–¹å¼ä¾†è¨­å®šè‡ªå·±å®¢è£½çš„ Flex Messageï¼Œä¹‹å‰é›»å­å–œå¸–æ˜¯ç”¨åœ–ç‰‡çš„æ–¹å¼ï¼Œæˆ‘å€‘ä¾†æ”¹æˆ Flex Message å§ã€‚\næˆ‘åœ¨ Simulator æ‹‰çš„è¨Šæ¯åœ–ç‰‡å¦‚ä¸‹ (å…¶å¯¦è »å¥½ä¸Šæ‰‹çš„)\nåŠ å…¥è¡Œäº‹æ›†å¸Œæœ›å¼•å°åˆ° Google Map\né€é UriAction å³å¯è§£æ±º\nhttps://calendar.google.com/calendar/u/0/r/eventedit?text=Kyle%27s%20Wedding\u0026amp;dates=20201208T100000Z/20201208T140000Z\u0026amp;details\u0026amp;location=%E5%8F%B0%E5%8C%97%E6%9D%B1%E6%96%B9%E6%96%87%E8%8F%AF\né»é¸å³ä¸Šè§’ View as JSON å°±èƒ½å–å¾—å®Œæ•´çš„ JSON å­—ä¸²\nå›åˆ° .NET ç™¼é€å§ï¼Œåœ¨ LineReplyMessageUtility.cs å¯¦ä½œ ReplyMessageByJsonAsync\n public async Task ReplyMessageByJsonAsync(string replyToken, string jsonString) { using (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;POST\u0026quot;), $\u0026quot;{lineMessageApiBaseUrl}\u0026quot;)) { request.Headers.TryAddWithoutValidation(\u0026quot;Authorization\u0026quot;, $\u0026quot;Bearer {accessToken}\u0026quot;); LineMessageReq req = new LineMessageReq(); req.","title":"è¨­è¨ˆå¸«é­‚ç™¼ä½œï¼Œæ”¹é€ é›»å­å–œå¸– (11)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day10)\nåœ¨ä¸Šä¸€ç¯‡æˆ‘å€‘ç”¨ Template Message ä¸­çš„ ImageCarousel å¯¦ä½œè¼ªæ’­å¾Œï¼Œæˆ‘å€‘å†ä¾†ç·´ç¿’ä¸€ç¯‡ Template Messageï¼Œå¯¦ä½œåˆ°é”å©šç¦®ç¾å ´çš„å„ç¨®äº¤é€šæ–¹å¼è³‡è¨Šï¼Œä¹Ÿæ˜¯å…ˆä¾†çœ‹çœ‹ä»Šå¤©çš„æˆæœ\nä¸Šä¸€ç¯‡æœ‰ä»‹ç´¹ Action çš„ 7 ç¨®é¡å‹ï¼Œå‰é¢å¹¾å€‹æ“ä½œéƒ½æ˜¯ç”¨ MessageAction ä¾†å¼•å³¶ä½¿ç”¨è€…ï¼Œè€Œç•¶é»é¸å¦‚ä½•å‰å¾€æ™‚ï¼Œæœƒç›´æ¥è·³å‡ºä¹‹å‰å¯¦ä½œçš„\u0026quot;åœ°å€å°è¦½\u0026quot; çš„ intentï¼Œé€™å°±æ˜¯æˆ‘å€‘ä»Šå¤©æœƒå¸¶åˆ°çš„ postback event\nCarouselTemplate.cs â€” å¯¦ä½œITemplateä¾†å®Œæˆç¬¬äºŒç¨® Template Message ä¸Šä¸€ç¯‡è¼ªæ’­åœ–ç‰‡ï¼Œé€™ä¸€ç¯‡æˆ‘å€‘ä¾†è¼ªæ’­è‡ªè¨‚çš„æ¨£æ¿ï¼ŒCarouselTemplateï¼Œä¸€æ¨£ç¹¼æ‰¿ ITemplate å¯¦ä½œ\n public class CarouselTemplate : ITemplate { public CarouselTemplate() { } public CarouselTemplate(List\u0026lt;ColumnMultipleAction\u0026gt; columns) { Columns = columns; } public string Type =\u0026gt; \u0026quot;carousel\u0026quot;; public List\u0026lt;ColumnMultipleAction\u0026gt; Columns { get; set; } } ColumnMultipleAction â€” æ¯å€‹æ¨£æœ¬çš„å…§å®¹ å¯ä»¥è¨­å®šåœ–ç‰‡/æ¨™é¡Œ/å‰¯æ¨™é¡Œâ€¦ç­‰è³‡è¨Šï¼Œ\n ThumbnailImageUrl: ç¸®åœ–URL ImageAspectRatio: åœ–ç‰‡çš„æ¯”ä¾‹ rectangle(1.51:1) square(1:1) ImageSize: cover(ä¸é©æ‡‰åœ°æ–¹æœƒè£åˆ‡æ‰) contain(åŒ…å«å…¨éƒ¨åœ–ç‰‡) ImageBackgroundColor: åœ–ç‰‡å€å¡Šçš„èƒŒæ™¯è‰² (loadingæ™‚å€™æœƒçœ‹åˆ°) Title: æ¨™é¡Œ Text: å‰¯æ¨™é¡Œ ImageUrl: åœ–ç‰‡ç¶²å€ DefaultAction: é è¨­çš„Action (é€™æ¨£å°±ä¸ç”¨ä¸€å€‹ä¸€å€‹å¡é€² Actions è£¡é¢) Actions: å¦‚æˆ‘å€‘å‰ä¸€ç¯‡æ–‡ç« æ‰€èªªçš„ï¼Œ7ç¨®Action   public class ColumnMultipleAction { /// \u0026lt;summary\u0026gt; /// Max width: 1024px /// Max file size: 1 MB /// JPEG or PNG /// \u0026lt;/summary\u0026gt; public string ThumbnailImageUrl { get; set; } public ImageAspectRatioType ImageAspectRatio { get; set; } = ImageAspectRatioType.rectangle; public ImageSizeType ImageSize { get; set; } = ImageSizeType.cover; public string ImageBackgroundColor { get; set; } = \u0026quot;#FFFFFF\u0026quot;; public string Title { get; set; } public string Text { get; set; } public string ImageUrl { get; set; } public Defaultaction DefaultAction { get; set; } public List\u0026lt;IAction\u0026gt; Actions { get; set; } } ç‚ºäº†é–‹ç™¼æ–¹ä¾¿ï¼Œé™¸çºŒå¯ä»¥å®šç¾©ä¸€äº› Type\nStringEnumConverter ä¸»è¦æ˜¯ JSON.NET çš„åŠŸèƒ½ï¼Œå¯ä»¥åœ¨æˆ‘å€‘å¾ Enum è½‰JSONçš„æ™‚å€™ï¼Œè½‰æˆå­—ä¸²ï¼Œè€Œä¸æ˜¯è©² Enum çš„ Index Value\n [JsonConverter(typeof(StringEnumConverter))] public enum ImageAspectRatioType { /// \u0026lt;summary\u0026gt; /// 1.51:1 /// \u0026lt;/summary\u0026gt; rectangle, /// \u0026lt;summary\u0026gt; /// 1:1 /// \u0026lt;/summary\u0026gt; square } [JsonConverter(typeof(StringEnumConverter))] public enum ImageSizeType { cover, contain } Directions.cs - ä¾†å¯¦ä½œå¦‚ä½•å‰å¾€ Intent  public class Directions : IReplyIntent { private readonly LineReplyMessageUtility lineMessageUtility; private readonly LineProfileUtility lineProfileUtility; public Directions(LineReplyMessageUtility _lineMessageUtility, LineProfileUtility _lineProfileUtility) { lineMessageUtility = _lineMessageUtility; lineProfileUtility = _lineProfileUtility; } public async Task ReplyAsync(string replyToken) { var carouselTemplate = new CarouselTemplate(); var columns = new List\u0026lt;ColumnMultipleAction\u0026gt;(); // è¼ªæ’­å…©ç¨® Template, ä¸‰ç¨® Action columns.Add(new ColumnMultipleAction() { ThumbnailImageUrl = \u0026quot;https://imgur.com/2u6F3dV.jpg\u0026quot;, Title = \u0026quot;æ­ä¹˜å¤§çœ¾é‹è¼¸\u0026quot;, Text = \u0026quot;äº¤é€šä¾¿åˆ©å¥½æ–¹ä¾¿~\u0026quot;, Actions = new List\u0026lt;IAction\u0026gt;() { new MessageAction(\u0026quot;å¾é«˜éµ\u0026quot;), new MessageAction(\u0026quot;å¾æ·é‹\u0026quot;), new MessageAction(\u0026quot;å¾æ©Ÿå ´\u0026quot;) } }); columns.Add(new ColumnMultipleAction() { ThumbnailImageUrl = \u0026quot;https://imgur.com/FGitN5M.jpg\u0026quot;, Title = \u0026quot;è‡ªè¡Œé–‹è»Šå‰å¾€\u0026quot;, Text = \u0026quot;åˆ‡è¨˜é…’å¾Œä¸é–‹è»Š~\u0026quot;, Actions = new List\u0026lt;IAction\u0026gt;() { new PostbackAction(\u0026quot;å¦‚ä½•å‰å¾€\u0026quot;, \u0026quot;å©šå®´åœ°é»\u0026quot;), new MessageAction(\u0026quot;åœè»Šè³‡è¨Š\u0026quot;), new MessageAction(\u0026quot;é–‹è»Šæé†’\u0026quot;) } }); carouselTemplate.Columns = columns; await lineMessageUtility.ReplyTemplateMessageAsync(replyToken, carouselTemplate); } } OnMessageAsync\nDefaultIntent å¢åŠ ä¸€å€‹é¸æ“‡æ€§åƒæ•¸ï¼Œç•¶æœ‰è¦å‚³è¨Šæ¯çš„æ™‚å€™å›å‚³ï¼Œé€™æ¨£æˆ‘å€‘å°±ä¸ç”¨å®šç¾©åˆ°é‚£éº¼å¤šçš„ Intent\n public class DefaultIntent : IReplyIntent { private readonly LineReplyMessageUtility lineMessageUtility; private readonly LineProfileUtility lineProfileUtility; private readonly string replyText; public DefaultIntent( LineReplyMessageUtility _lineMessageUtility, LineProfileUtility _lineProfileUtility, string _replyText = \u0026quot;\u0026quot;) { lineMessageUtility = _lineMessageUtility; lineProfileUtility = _lineProfileUtility; replyText = _replyText; } public async Task ReplyAsync(string replyToken) { if(!string.IsNullOrEmpty(replyText)) { await lineMessageUtility.ReplyMessageAsync(replyToken, replyText); } else { await Task.CompletedTask; } } } Postback Event è¦ä¾†æ“´å…… Event äº†ï¼ŒOnMessage Eventå·²ç¶“ä¸å¤ æˆ‘å€‘ä½¿ç”¨ï¼Œåœ¨å¦‚ä½•å‰å¾€é‚£é‚Šæˆ‘å€‘æœ‰å¡ä¸€å€‹ Action å«åš PostbackActionï¼Œdata å¯ä»¥å¸¶ä¸€äº›ç¨‹å¼è¦æºé€šçš„è³‡æ–™ï¼Œå¦‚æœæƒ³å‚³çš„è³‡æ–™å¤ªå¤šç”šè‡³ä½ å¯ä»¥å‚³å€‹JSONå­—ä¸²ï¼Œåœ¨ååºåˆ—åŒ–å›ä¾†æˆç‰©ä»¶ï¼Œæˆ‘é€™é‚Šå¸¶çš„æ˜¯ â€œå©šå®´åœ°é»â€ é€™å€‹å­—ä¸²ï¼Œç”¨ä¾†åˆ¤æ–·æˆ‘è¦åŸ·è¡Œé€™å€‹ Intent\n public class PostbackAction : IAction { public PostbackAction(string text, string data, string label = \u0026quot;\u0026quot;) { Text = text; Data = data; Label = string.IsNullOrEmpty(label) ? text : label; } public string Data { get; set; } public string Text { get; set; } public ActionType Type =\u0026gt; ActionType.postback; public string Label { get; set; } } å›åˆ° LineBotApp.cs çš„ RunAsync\nWebhook æ‰€æ¥æ”¶çš„ Event è¦å¤š postback é€™å€‹ class\nå¯¦ä½œ OnUnPostbackAsync\nev.postback.data å³å¯å–å¾—ä¸Šé¢çµ¦çš„ data ï¼Œæœ¬ç¯„ä¾‹æ˜¯ \u0026ldquo;å©šå®´åœ°é»\u0026rdquo;\n NOTE:çœ‹åˆ°é€™é‚Šï¼Œæˆ‘å€‘é–‹å§‹å—…åˆ°ç¬¬ä¸€å€‹å£å‘³é“äº†ï¼ŒIntenté–‹å§‹å®šç¾©å…©é‚Šï¼Œä¸”é–‹å§‹å¤šå’Œè¤‡é›œï¼Œæ²’é—œä¿‚ï¼Œæˆ‘å€‘æ‰¾ç¯‡æ–‡ç« ä¾†åšé‡æ§‹çš„å‹•ä½œ JOKE:ç„¶å¾Œä¹Ÿæœƒç™¼ç¾ï¼Œé€éå¼•å°çš„æ–¹å¼ï¼Œæ„Ÿè¦ºä¸ç”¨ AI çš„æŠ€è¡“ï¼Œä¹Ÿèƒ½è®“ chatbot æœ‰æµç¨‹å°è©±ï¼Œæˆ‘æ‡‚ä½ çš„æ„Ÿè¦º (å¯ä»¥é–‹å§‹åŒ…è£æˆ‘å¤§AIæ™‚ä»£äº†)  æœ‰å•¥é™åˆ¶å—?  CarouselTemplate åœ¨å‚³é€çš„æ™‚å€™æœ€å¤šåªèƒ½è¨­å®š10å€‹è¼ªæ’­ (å…¶å¯¦å¤ªå¤šä¹Ÿä¸å¥½ï¼Œå¾ˆäº‚) URL æœ€å¤§ 1000 å­—å…ƒ ä¸€å®šè¦æ˜¯ HTTPS ä¸”åŠ å¯†è¦ç¯„ TLS 1.2 ä»¥ä¸Š æª”æ¡ˆå¤§å°ä¸Šé™ 200 MB åœ–ç‰‡éœ€ç‚º JPEG or PNG  æ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  å¦‚ä½•ç”¨ CarouselTemplate ä¾†ç™¼é€å¤šå¼µæ¨£æœ¬åœ–ç‰‡ https://developers.line.biz/en/reference/messaging-api/#carousel å¦‚ä½•ç”¨ Postback Event ä¾†å¸¶ä¸€äº›åƒæ•¸ https://developers.line.biz/en/reference/messaging-api/#postback-event é€é StringEnumConverter ä¾†è®“JSONè½‰æ›æ™‚ï¼Œå°‡Enumè½‰æˆå­—ä¸²ï¼Œè€Œä¸æ˜¯index value https://www.newtonsoft.com/json/help/html/T_Newtonsoft_Json_Converters_StringEnumConverter.htm  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-10/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day10)\nåœ¨ä¸Šä¸€ç¯‡æˆ‘å€‘ç”¨ Template Message ä¸­çš„ ImageCarousel å¯¦ä½œè¼ªæ’­å¾Œï¼Œæˆ‘å€‘å†ä¾†ç·´ç¿’ä¸€ç¯‡ Template Messageï¼Œå¯¦ä½œåˆ°é”å©šç¦®ç¾å ´çš„å„ç¨®äº¤é€šæ–¹å¼è³‡è¨Šï¼Œä¹Ÿæ˜¯å…ˆä¾†çœ‹çœ‹ä»Šå¤©çš„æˆæœ\nä¸Šä¸€ç¯‡æœ‰ä»‹ç´¹ Action çš„ 7 ç¨®é¡å‹ï¼Œå‰é¢å¹¾å€‹æ“ä½œéƒ½æ˜¯ç”¨ MessageAction ä¾†å¼•å³¶ä½¿ç”¨è€…ï¼Œè€Œç•¶é»é¸å¦‚ä½•å‰å¾€æ™‚ï¼Œæœƒç›´æ¥è·³å‡ºä¹‹å‰å¯¦ä½œçš„\u0026quot;åœ°å€å°è¦½\u0026quot; çš„ intentï¼Œé€™å°±æ˜¯æˆ‘å€‘ä»Šå¤©æœƒå¸¶åˆ°çš„ postback event\nCarouselTemplate.cs â€” å¯¦ä½œITemplateä¾†å®Œæˆç¬¬äºŒç¨® Template Message ä¸Šä¸€ç¯‡è¼ªæ’­åœ–ç‰‡ï¼Œé€™ä¸€ç¯‡æˆ‘å€‘ä¾†è¼ªæ’­è‡ªè¨‚çš„æ¨£æ¿ï¼ŒCarouselTemplateï¼Œä¸€æ¨£ç¹¼æ‰¿ ITemplate å¯¦ä½œ\n public class CarouselTemplate : ITemplate { public CarouselTemplate() { } public CarouselTemplate(List\u0026lt;ColumnMultipleAction\u0026gt; columns) { Columns = columns; } public string Type =\u0026gt; \u0026quot;carousel\u0026quot;; public List\u0026lt;ColumnMultipleAction\u0026gt; Columns { get; set; } } ColumnMultipleAction â€” æ¯å€‹æ¨£æœ¬çš„å…§å®¹ å¯ä»¥è¨­å®šåœ–ç‰‡/æ¨™é¡Œ/å‰¯æ¨™é¡Œâ€¦ç­‰è³‡è¨Šï¼Œ\n ThumbnailImageUrl: ç¸®åœ–URL ImageAspectRatio: åœ–ç‰‡çš„æ¯”ä¾‹ rectangle(1.","title":"å©šç¦®ç¾å ´äº¤é€šè³‡è¨Šä¸€è¦½è¡¨ (10)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day9)\né€™ç¯‡æœƒé–‹å§‹é€²å…¥ä¸€äº›è¼ƒè¤‡é›œçš„è¨Šæ¯æ ¼å¼ï¼Œæˆ‘å€‘è¦ä¾†åšä¸€å€‹å©šç´—è¼ªæ’­ï¼Œè®“å„ç¨®åƒåŠ å–œå®´çš„æœ‹å‹ç€è¦½ï¼Œä»Šå¤©å…ˆä¾†çœ‹æˆæœ\nTemplate message åœ¨ Line çš„ Template æœ‰åˆ†ç‚ºå››ç¨®ï¼Œå¯ä»¥ç”¨ä¾†å¼•å°ä½¿ç”¨è€…åšä¸‹ä¸€æ­¥çš„å‹•ä½œ\n Buttons Confirm Carousel Image carousel  Template Message ç™¼é€çš„çµæ§‹å¦‚ä¸‹\næœ¬æ¬¡è¦ç”¨ ImageCarousel ä¾†å¯¦ä½œ\næ“´å…… LineReplyMessageUtility.cs æˆ‘å€‘åœ¨ç™¼é€çš„ class çš„æ“´å……\n public async Task ReplyTemplateMessageAsync(string replyToken, ImageCarouselTemplate template) { using (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;POST\u0026quot;), $\u0026quot;{lineMessageApiBaseUrl}\u0026quot;)) { request.Headers.TryAddWithoutValidation(\u0026quot;Authorization\u0026quot;, $\u0026quot;Bearer {accessToken}\u0026quot;); LineMessageReq req = new LineMessageReq(); req.ReplyToken = replyToken; req.Messages.Add(new TemplateMessageBase() { Template = template }); var postJson = JsonConvert.SerializeObject(req, new JsonSerializerSettings { NullValueHandling = NullValueHandling.Ignore, ContractResolver = new DefaultContractResolver { NamingStrategy = new CamelCaseNamingStrategy() }, Formatting = Formatting.Indented }); request.Content = new StringContent(postJson); request.Content.Headers.ContentType = MediaTypeHeaderValue.Parse(\u0026quot;application/json\u0026quot;); var response = await httpClient.SendAsync(request); var result = await response.Content.ReadAsStringAsync(); } } } TemplateMessageBase.cs å®šç¾©ä¸€å€‹ ITemplate ä¾†ç”¨ä¾†æ¥å—ä¸Šé¢å››ç¨®è¨Šæ¯çš„æ ¼å¼ï¼Œè¦ç‰¹åˆ¥æ³¨æ„ TemplateMessage å°šæœªæ”¯æ´æ¡Œé¢ç‰ˆçš„ Lineï¼Œæ•…å¯ä»¥åŠ ä¸€äº›æç¤ºæ–‡å­—\n public class TemplateMessageBase : IMessage { public LineMessageType Type =\u0026gt; LineMessageType.template; public string AltText =\u0026gt; \u0026quot;æ­¤è¨Šæ¯ä¸æ”¯æ´æ¡Œé¢ç‰ˆçš„Line\u0026quot;; public ITemplate Template { get; set; } } å®šç¾© ImageCarouselTemplate ä¾†å¯¦ä½œ ITemplate\nä¸€æ¨£çœ‹æ–‡ä»¶å°‡ JSON è½‰æˆ Class\n public class ImageCarouselTemplate : ITemplate { public string Type =\u0026gt; \u0026quot;image_carousel\u0026quot;; public List\u0026lt;ColumnAction\u0026gt; Columns { get; set; } } ColumnAction.cs\n public class ColumnAction { public string ImageUrl { get; set; } public IAction Action { get; set; } } IAction æ˜¯ä»€éº¼å‘¢? åˆæ˜¯ä¸€å€‹ä»‹é¢ çœ‹åˆ°æˆ‘å€‘åˆå®šç¾©ä¸€å€‹ä»‹é¢ï¼Œä»£è¡¨åˆæ˜¯åŒ…å«å¤šç¨®å¯¦ä½œäº†ï¼Œåœ¨æ–‡ç« ä¸€é–‹å§‹æœ‰æåˆ°ï¼Œåš chatbot å¼•å°å¾ˆé‡è¦ï¼Œåœ¨ Line è£¡é¢å¯ä»¥è¨­è¨ˆä¸€äº›æŒ‰éˆ•ï¼Œä¾†åšä¸€äº›æ“ä½œï¼Œç›®å‰é¡å‹å…±æä¾› 7 ç¨®ï¼Œä½†æœ¬ç³»åˆ—æ–‡å°±ä¸ä¸€ä¸€å¯«æ–‡ç« ä»‹ç´¹ Action äº†ï¼Œç›¸ä¿¡å¤§å®¶ä¹Ÿå¾ˆæœƒçœ‹æ–‡ä»¶è½‰ C# äº†ï¼Œé‡åˆ°åŠŸèƒ½éœ€è¦æ™‚å†ä¾†å¯¦ä½œ\n Postback actionï¼šè§¸ç™¼å›å‚³Apiäº‹ä»¶ï¼Œé€™ä¹Ÿæœƒæ˜¯ç‰¹åˆ¥çš„ä¸€å€‹ WebHook äº‹ä»¶ï¼ŒåŒæ™‚å¯ä»¥å¸¶ä¸€äº›åƒæ•¸ï¼Œè »å¯¦ç”¨çš„ï¼Œæˆ‘å€‘å¾Œå¹¾ç¯‡æ–‡ç« å†ä¾†è©³ç´°ä»‹ç´¹é€™å€‹ Message actionï¼šå¼•å°ä½¿ç”¨è€…è¼¸å…¥è¨­å®šçš„æ–‡å­— URI actionï¼šç¶²å€é¡å‹ï¼Œé»æ“Šäº†æœƒåœ¨ Line é–‹å•Ÿæ‰€è¨­å®šçš„ URLï¼Œç”šè‡³é¡å‹æ˜¯ tel:{photo number} ä¹Ÿè¡Œï¼Œæœƒç›´æ¥å¼•å°æ’¥æ‰“é›»è©±ï¼Œline:// é–‹é ­æœƒå¼•å°é–‹å•Ÿ Line çš„ Liff App (æˆ‘å€‘ä¹‹å¾Œæ–‡ç« å°±æœƒå¯¦ä½œåˆ°å•¦~) Datetime picker actionï¼šæ—¥æœŸé¸æ“‡å™¨ï¼Œè®“ä½¿ç”¨è€…ç›´æ¥é¸ä¸€å€‹æ—¥æœŸèˆ‡æ™‚é–“ Camera actionï¼šé–‹å•Ÿç›¸æ©Ÿ Camera roll actionï¼šé–‹å•Ÿç›¸ç°¿ Location actionï¼šåµæ¸¬ç›®å‰ä½¿ç”¨è€…çš„ä½ç½®ï¼Œä¸¦è®“ä»–å€‘è¨­å®šå¯¦éš›ä½ç½®ä¸¦å›å‚³  ä»¥æœ¬ç« éœ€æ±‚ç‚ºä¾‹ï¼Œæˆ‘å€‘å¸Œæœ›å¯ä»¥é»æ“Šå©šç´—çš„åœ–ç‰‡åŸå§‹æª”ï¼Œæˆ‘å€‘ç¹¼æ‰¿ IAction å¯¦ä½œä¸€å€‹ UriAction\n public class UriAction : IAction { /// \u0026lt;param name=\u0026quot;uri\u0026quot;\u0026gt;ç¶²å€\u0026lt;/param\u0026gt; /// \u0026lt;param name=\u0026quot;label\u0026quot;\u0026gt;é¡¯ç¤ºæ–‡å­—\u0026lt;/param\u0026gt; public UriAction(string uri, string label) { Uri = uri; Label = label; } public string Uri { get; set; } public ActionType Type =\u0026gt; ActionType.uri; public string Label { get; set; } } å¯¦ä½œå©šç´—è¼ªæ’­ Intent\n public class PhotoCarousel : IReplyIntent { private readonly LineReplyMessageUtility lineMessageUtility; private readonly LineProfileUtility lineProfileUtility; public PhotoCarousel(LineReplyMessageUtility _lineMessageUtility, LineProfileUtility _lineProfileUtility) { lineMessageUtility = _lineMessageUtility; lineProfileUtility = _lineProfileUtility; } public async Task ReplyAsync(string replyToken) { var imageCarouselTemplate = new ImageCarouselTemplate(); var columns = new List\u0026lt;ColumnAction\u0026gt;(); var photos = new List\u0026lt;string\u0026gt;() { \u0026quot;https://imgur.com/ZChLjeG.jpg\u0026quot;, \u0026quot;https://imgur.com/uElHkw8.jpg\u0026quot;, \u0026quot;https://imgur.com/fbQ5gu4.jpg\u0026quot;, \u0026quot;https://imgur.com/9Gwzi36.jpg\u0026quot;, \u0026quot;https://imgur.com/Y7uBXxb.jpg\u0026quot;, \u0026quot;https://imgur.com/XaCigCi.jpg\u0026quot;, \u0026quot;https://imgur.com/dDcoMPI.jpg\u0026quot;, \u0026quot;https://imgur.com/vn6ZK6f.jpg\u0026quot; }; // éš¨æ©Ÿå–å¾—ä¸‰ç­† var selected = photos.OrderBy(x =\u0026gt; new Random().Next()).Take(3); foreach (var photo in selected) { columns.Add(new ColumnAction() { ImageUrl = photo, Action = new UriAction(photo, \u0026quot;Learn more\u0026quot;) }); } imageCarouselTemplate.Columns = columns; await lineMessageUtility.ReplyTemplateMessageAsync(replyToken, imageCarouselTemplate); } } LineBotApp.cs\næœ‰å•¥é™åˆ¶å—?  ImageCarouselTemplate åœ¨å‚³é€çš„æ™‚å€™æœ€å¤šåªèƒ½å‚³10å¼µç…§ç‰‡ URL æœ€å¤§ 1000 å­—å…ƒ ä¸€å®šè¦æ˜¯ HTTPS ä¸”åŠ å¯†è¦ç¯„ TLS 1.2 ä»¥ä¸Š æª”æ¡ˆå¤§å°ä¸Šé™ 200 MB åœ–ç‰‡éœ€ç‚º JPEG or PNG  æ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  ç†è§£ Line çš„ Template message 4 ç¨®é¡å‹ https://developers.line.biz/en/docs/messaging-api/message-types/#template-messages å¦‚ä½•ç”¨ ImageCarouselTemplate ä¾†ç™¼é€å¤šå¼µè¼ªæ’­åœ–ç‰‡ https://developers.line.biz/en/reference/messaging-api/#carousel å­¸åˆ°äº† Line æœ‰ 7 ç¨® Action é¡å‹ï¼Œä¾†å¼•å°ä½¿ç”¨è€…é»æ“Šï¼Œæ›´å¿«é€Ÿå®Œæˆç›®æ¨™ https://developers.line.biz/en/reference/messaging-api/#action-objects å¦‚ä½•ä½¿ç”¨ Linq å–å¾—é™£åˆ—çš„éš¨æ©Ÿé …ç›®ä¹‹å°æŠ€å·§ https://stackoverflow.com/questions/4615410/random-element-of-listt-from-linq-sql  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-9/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day9)\né€™ç¯‡æœƒé–‹å§‹é€²å…¥ä¸€äº›è¼ƒè¤‡é›œçš„è¨Šæ¯æ ¼å¼ï¼Œæˆ‘å€‘è¦ä¾†åšä¸€å€‹å©šç´—è¼ªæ’­ï¼Œè®“å„ç¨®åƒåŠ å–œå®´çš„æœ‹å‹ç€è¦½ï¼Œä»Šå¤©å…ˆä¾†çœ‹æˆæœ\nTemplate message åœ¨ Line çš„ Template æœ‰åˆ†ç‚ºå››ç¨®ï¼Œå¯ä»¥ç”¨ä¾†å¼•å°ä½¿ç”¨è€…åšä¸‹ä¸€æ­¥çš„å‹•ä½œ\n Buttons Confirm Carousel Image carousel  Template Message ç™¼é€çš„çµæ§‹å¦‚ä¸‹\næœ¬æ¬¡è¦ç”¨ ImageCarousel ä¾†å¯¦ä½œ\næ“´å…… LineReplyMessageUtility.cs æˆ‘å€‘åœ¨ç™¼é€çš„ class çš„æ“´å……\n public async Task ReplyTemplateMessageAsync(string replyToken, ImageCarouselTemplate template) { using (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;POST\u0026quot;), $\u0026quot;{lineMessageApiBaseUrl}\u0026quot;)) { request.Headers.TryAddWithoutValidation(\u0026quot;Authorization\u0026quot;, $\u0026quot;Bearer {accessToken}\u0026quot;); LineMessageReq req = new LineMessageReq(); req.ReplyToken = replyToken; req.Messages.Add(new TemplateMessageBase() { Template = template }); var postJson = JsonConvert.","title":"ä¾†åšä¸€äº›å©šç´—è¼ªæ’­ (9)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day8)\nç±Œå‚™å©šç¦®æœŸé–“ç”šè‡³å©šç¦®ç•¶å¤©(æšˆ)ï¼Œå¸¸å¸¸è¢«å•çš„å°±æ˜¯å•åœ°é»åœ¨å“ªäº†ï¼ŒLine æœ¬èº«èƒ½ç›´æ¥å‚³é€åœ°åœ–è³‡è¨Šï¼Œå¯ä»¥ç›´æ¥å¼•å°åˆ° Google Map é€²è¡Œå°èˆªï¼Œåœ¨ Line å¯ä»¥é€é LocationMessage ç™¼é€\nå®šç¾© LocationMessage.cs\npublic class LocationMessage : IMessage { public LineMessageType Type =\u0026gt; LineMessageType.location; public string Title { get; set; } public string Address { get; set; } public decimal Latitude { get; set; } public decimal Longitude { get; set; } } å‡è¨­æˆ‘å€‘ä»Šå¤©è¾¦åœ¨æ±æ–¹æ–‡è¯ (ç•¶ç„¶æ²’é‚£éº¼æœ‰éŒ¢)\nåœ°å€ç‚º å°ç£å°åŒ—å¸‚æ•¦åŒ–åŒ—è·¯ 158 è™Ÿ\nç¶“ç·¯åº¦å¯ä»¥åœ¨ google map çœ‹åˆ°ç‚º @25.0557416,121.5481485\nå¯¦ä½œ WeddingLocation.cs\npublic async Task ReplyAsync(string replyToken) { var locationName = \u0026quot;è‡ºåŒ—æ–‡è¯æ±æ–¹é…’åº—\u0026quot;; var msg = new TextMessage() { Text = $\u0026quot;æˆ‘å€‘åœ¨ {locationName} èˆ‰è¾¦å”·!\u0026quot; }; var locationMessage = new LocationMessage() { Title = $\u0026quot;Kyle's Wedding - {locationName}\u0026quot;, Address = \u0026quot;å°ç£å°åŒ—å¸‚æ•¦åŒ–åŒ—è·¯ 158 è™Ÿ\u0026quot;, Latitude = Convert.ToDecimal(25.0557416), Longitude = Convert.ToDecimal(121.5481485) }; await lineMessageUtility.ReplyMessageAsync(replyToken, new List\u0026lt;IMessage\u0026gt; { msg, locationMessage }); } OnMessageAsync\nprotected virtual async Task OnMessageAsync(Event ev) { if (ev.message.Type.Equals(LineMessageType.text)) { // å®Œæ•´æ¯”å°ä½¿ç”¨è€…è¼¸å…¥çš„è¨Šæ¯ï¼Œæ±ºå®šè¦å›å‚³ä»€éº¼ var msg = ev.message.Text; var intents = new Dictionary\u0026lt;string, IReplyIntent\u0026gt;() { { \u0026quot;é›»å­å–œå¸–\u0026quot; ,new WeddingInvitation(lineMessageUtility,lineProfileUtility)}, { \u0026quot;å‰å°å½±ç‰‡\u0026quot; ,new WeddingTrailer(lineMessageUtility,lineProfileUtility)}, { \u0026quot;å©šå®´åœ°é»\u0026quot; ,new WeddingLocation(lineMessageUtility,lineProfileUtility)}, { \u0026quot;Default\u0026quot; ,new DefaultIntent(lineMessageUtility,lineProfileUtility)}, }; var intent = intents.ContainsKey(ev.message.Text) ? intents[msg] : intents[\u0026quot;Default\u0026quot;]; await intent.ReplyAsync(ev.replyToken); } } å¯¦ä½œæ•ˆæœ\næ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  å¦‚ä½•å›è¦† LocationMessage https://developers.line.biz/en/reference/messaging-api/#image-message  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-8/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day8)\nç±Œå‚™å©šç¦®æœŸé–“ç”šè‡³å©šç¦®ç•¶å¤©(æšˆ)ï¼Œå¸¸å¸¸è¢«å•çš„å°±æ˜¯å•åœ°é»åœ¨å“ªäº†ï¼ŒLine æœ¬èº«èƒ½ç›´æ¥å‚³é€åœ°åœ–è³‡è¨Šï¼Œå¯ä»¥ç›´æ¥å¼•å°åˆ° Google Map é€²è¡Œå°èˆªï¼Œåœ¨ Line å¯ä»¥é€é LocationMessage ç™¼é€\nå®šç¾© LocationMessage.cs\npublic class LocationMessage : IMessage { public LineMessageType Type =\u0026gt; LineMessageType.location; public string Title { get; set; } public string Address { get; set; } public decimal Latitude { get; set; } public decimal Longitude { get; set; } } å‡è¨­æˆ‘å€‘ä»Šå¤©è¾¦åœ¨æ±æ–¹æ–‡è¯ (ç•¶ç„¶æ²’é‚£éº¼æœ‰éŒ¢)\nåœ°å€ç‚º å°ç£å°åŒ—å¸‚æ•¦åŒ–åŒ—è·¯ 158 è™Ÿ\nç¶“ç·¯åº¦å¯ä»¥åœ¨ google map çœ‹åˆ°ç‚º @25.0557416,121.5481485\nå¯¦ä½œ WeddingLocation.cs\npublic async Task ReplyAsync(string replyToken) { var locationName = \u0026quot;è‡ºåŒ—æ–‡è¯æ±æ–¹é…’åº—\u0026quot;; var msg = new TextMessage() { Text = $\u0026quot;æˆ‘å€‘åœ¨ {locationName} èˆ‰è¾¦å”·!","title":"ä¸€éµå°èˆªå©šå®´åœ°é»è¾¦åœ¨å“ª (8)"},{"content":"ä¸Šä¸€ç¯‡æˆ‘å€‘ç”¨ ImageMessage ä¾†å‚³é€åœ–ç‰‡ï¼Œé€™ä¸€ç¯‡æˆ‘å€‘è¦ä¾†å¯¦ä½œå‚³é€å©šç¦®çš„å‰å°é å‘Šç‰‡ (å›æƒ³èµ·ä¾†é‚£æ™‚å€™æˆ‘æ€éº¼é‚£éº¼é–’XD )ï¼Œæˆ‘ç•¶æ™‚è‡ªå·±æ˜¯å¾æ·˜å¯¶è²·ä¸€äº›å©šç¦®çš„å½±ç‰‡ç¯„æœ¬ï¼Œè²·å›ä¾†ç”¨ Adobe Effect ä¾†æ”¹ï¼Œæˆ–è€…æ˜¯ç¶²è·¯ä¸Šå¯èƒ½æœƒæœ‰ä¸€äº›å…è²»çš„ template ä¹Ÿæ˜¯å¯ä»¥æ‹¿ä¾†æ‡‰ç”¨\nä¸Šå‚³ Video Line VideoMessage ä¸€æ¨£è¦é€éURLä¾†ç™¼é€ï¼Œæˆ‘å€‘ä¸€æ¨£å‚³åˆ° Imgurï¼Œå°±èƒ½ç”¢ç”Ÿä¸€å€‹ç¶²å€ï¼Œé€™æ˜¯æˆ‘ç•¶æ™‚æ‰€è³¼è²·çš„å½±ç‰‡ç¯„æœ¬ https://i.imgur.com/n8QsXTk.mp4\nå®šç¾© VideoMessage.cs\npublic class VideoMessage : IMessage { public LineMessageType Type =\u0026gt; LineMessageType.video; public string OriginalContentUrl { get; set; } public string PreviewImageUrl { get; set; } } ä¸€æ¨£åœ¨ OnMessageAsync å¢åŠ ä¸€å€‹ å‰å°å½±ç‰‡ çš„å¯¦ä½œ\nå¯¦ä½œå…§å®¹\npublic class WeddingTrailer : IReplyIntent { private readonly LineReplyMessageUtility lineMessageUtility; private readonly LineProfileUtility lineProfileUtility; public WeddingTrailer(LineReplyMessageUtility _lineMessageUtility, LineProfileUtility _lineProfileUtility) { lineMessageUtility = _lineMessageUtility; lineProfileUtility = _lineProfileUtility; } public async Task ReplyAsync(string replyToken) { var imageMessage = new VideoMessage() { OriginalContentUrl = \u0026quot;https://i.imgur.com/n8QsXTk.mp4\u0026quot;, PreviewImageUrl = \u0026quot;https://i.imgur.com/oLvTjtu.png\u0026quot; }; await lineMessageUtility.ReplyMessageAsync(replyToken, new List\u0026lt;IMessage\u0026gt; { imageMessage }); } } å¯¦ä½œæ•ˆæœ  å¯¦éš›ä¸Šæ²’æœ‰å›å‚³é‚£éº¼æ…¢ï¼Œæœƒæ˜¯å¾ˆé †çš„ï¼Œåªæ˜¯æ‰‹æ©Ÿè¢å¹•éŒ„å½±æ™‚ï¼Œæˆ‘å¿˜è¨˜æˆ‘æœ‰åœ¨ Visual Studio è¨­ä¸­æ–·é»ï¼Œæ‰€ä»¥å¡ä½äº† QQ\n AudioMessage Line ä¹Ÿæœ‰æä¾›è²éŸ³æª”çš„ Message Type (AudioMessage)ï¼Œå› ç‚ºæ²’éœ€æ±‚é€™ç¯‡å°±ä¸å¯¦ä½œäº†ï¼Œä½†åŸºæœ¬ä¸Šå¾ˆå¤šç¨‹å¼éƒ½æ˜¯å…±ç”¨çš„ï¼Œæ‰€ä»¥åªè¦ï¼š\n å®šç¾©AudioMessageçš„Class (JSON to C# Class) å¢åŠ  Intent çš„ key ç¹¼æ‰¿æˆ‘å€‘è‡ªå·±å®šç¾©çš„ IReplyIntent ä»‹é¢ï¼Œä¸¦å¯¦ä½œ Audio å›è¦†å…§å®¹  æœ‰å•¥é™åˆ¶å—? ImageMessage åœ¨å‚³é€çš„æ™‚å€™è¦æ³¨æ„æœ‰ä»¥ä¸‹é™åˆ¶\n URL æœ€å¤§ 1000 å­—å…ƒ ä¸€å®šè¦æ˜¯ HTTPS ä¸”åŠ å¯†è¦ç¯„ TLS 1.2 ä»¥ä¸Š æª”æ¡ˆå¤§å°ä¸Šé™ 200 MB å¦‚æœå¤ªå¯¬æˆ–å¤ªé«˜çš„å½±ç‰‡å¯èƒ½æœƒæœ‰è£åˆ‡æ‰çš„é¢¨éšª  æ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  å¦‚ä½•å›è¦† Video/Audio Message https://developers.line.biz/en/reference/messaging-api/#image-message ä¸æœƒåšå½±ç‰‡ï¼Œä½†çŸ¥é“è·Ÿç¨‹å¼ä¸€æ¨£å¯ä»¥è²·ç¯„æœ¬ä¾†æ”¹? é›–ç„¶ Adobe Effect ä¹Ÿæäº†å¥½ä¸€é™£å­â€¦.éš”è¡Œå¦‚éš”å±±é˜¿ XD  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-7/","summary":"ä¸Šä¸€ç¯‡æˆ‘å€‘ç”¨ ImageMessage ä¾†å‚³é€åœ–ç‰‡ï¼Œé€™ä¸€ç¯‡æˆ‘å€‘è¦ä¾†å¯¦ä½œå‚³é€å©šç¦®çš„å‰å°é å‘Šç‰‡ (å›æƒ³èµ·ä¾†é‚£æ™‚å€™æˆ‘æ€éº¼é‚£éº¼é–’XD )ï¼Œæˆ‘ç•¶æ™‚è‡ªå·±æ˜¯å¾æ·˜å¯¶è²·ä¸€äº›å©šç¦®çš„å½±ç‰‡ç¯„æœ¬ï¼Œè²·å›ä¾†ç”¨ Adobe Effect ä¾†æ”¹ï¼Œæˆ–è€…æ˜¯ç¶²è·¯ä¸Šå¯èƒ½æœƒæœ‰ä¸€äº›å…è²»çš„ template ä¹Ÿæ˜¯å¯ä»¥æ‹¿ä¾†æ‡‰ç”¨\nä¸Šå‚³ Video Line VideoMessage ä¸€æ¨£è¦é€éURLä¾†ç™¼é€ï¼Œæˆ‘å€‘ä¸€æ¨£å‚³åˆ° Imgurï¼Œå°±èƒ½ç”¢ç”Ÿä¸€å€‹ç¶²å€ï¼Œé€™æ˜¯æˆ‘ç•¶æ™‚æ‰€è³¼è²·çš„å½±ç‰‡ç¯„æœ¬ https://i.imgur.com/n8QsXTk.mp4\nå®šç¾© VideoMessage.cs\npublic class VideoMessage : IMessage { public LineMessageType Type =\u0026gt; LineMessageType.video; public string OriginalContentUrl { get; set; } public string PreviewImageUrl { get; set; } } ä¸€æ¨£åœ¨ OnMessageAsync å¢åŠ ä¸€å€‹ å‰å°å½±ç‰‡ çš„å¯¦ä½œ\nå¯¦ä½œå…§å®¹\npublic class WeddingTrailer : IReplyIntent { private readonly LineReplyMessageUtility lineMessageUtility; private readonly LineProfileUtility lineProfileUtility; public WeddingTrailer(LineReplyMessageUtility _lineMessageUtility, LineProfileUtility _lineProfileUtility) { lineMessageUtility = _lineMessageUtility; lineProfileUtility = _lineProfileUtility; } public async Task ReplyAsync(string replyToken) { var imageMessage = new VideoMessage() { OriginalContentUrl = \u0026quot;https://i.","title":"æœ‰è²æœ‰è‰²ï¼Œå‚³é€å©šç¦®å‰å°é å‘Šå½±ç‰‡ (7)"},{"content":"ä»Šå¤©è¦ä¾†åšé›»å­å–œå¸–åŠŸèƒ½ï¼Œç¯€èƒ½æ¸›ç¢³ï¼Œç’°ä¿æ„›åœ°çƒ\nä¸»è¦å‚³é€æ˜¯ç”¨ Line çš„ImageMessage\né€™éƒ¨åˆ†è·Ÿç¨‹å¼ç„¡é—œ XD åªæ˜¯åˆ†äº« template ç¶²ç«™ï¼Œè¨­è¨ˆè‹¦æ‰‹çš„å·¥ç¨‹å¸«å…¶å¯¦å¯ä»¥è€ƒæ…®ä¸€äº›ç´ æç¶²ç«™ï¼Œæˆ– template ç¶²ç«™ï¼Œä»˜é»éŒ¢å°±èƒ½æ‹¿åˆ°è³ªæ„Ÿæ¥µä½³çš„è¨­è¨ˆ\nhttps://www.greetingsisland.com/\nå°‡åœ–ç‰‡å‚³åˆ°åœ–åºŠ (imgur) Line ç™¼é€åœ–ç‰‡æ™‚å€™æ˜¯ä»¥ URLï¼Œé€šå¸¸æˆ‘æœƒå‚³åˆ° imgur å¹³å°ç”¢ç”Ÿä¸€å€‹ https çš„é€£çµï¼Œå¾ä¸Šé¢ç¶²ç«™è£½ä½œå¥½ç¯„ä¾‹å–œå¸–å¦‚ä¸‹ï¼š\nOnMessageAsync åœ¨å‰å¹¾ç¯‡æˆ‘å€‘æœ‰ä»‹ç´¹çš„OnMessageAsyncï¼Œæˆ‘å€‘åœ¨é€™å¯¦ä½œæ¥æ”¶åˆ°æ–‡å­—è¨Šæ¯æ™‚å€™è¦å›å‚³çš„è¨Šæ¯ï¼Œè€ƒé‡åˆ°å†ä¾†ä½¿ç”¨è€…çš„æ„åœ– (intent) å¯èƒ½æœƒè¶Šä¾†è¶Šå¤šï¼Œæˆ‘å€‘ç”¨ä¸€å€‹ç°¡å–®çš„ Dictionary ä¾†åšè™•ç†\n ä½¿ç”¨è€…çš„æ„åœ– (intent) æ˜¯åœ¨åšchatbot NLP æˆ–ä½¿ç”¨ chatbot ä¸€äº›æœå‹™æ™‚å¾ˆå¸¸çœ‹è¦‹çš„åè©ï¼Œç°¡å–®ä¾†è¬›å°±æ˜¯ç•¶ä½¿ç”¨è€…æ‰“å‡ºé€™å¥è©±æ™‚ï¼Œæ˜¯æƒ³åšä»€éº¼äº‹\n å®šç¾©ä¸€å€‹ä»‹é¢ï¼ŒåŒ…å« ReplyAsync æ–¹æ³•ï¼Œéœ€è¦å‚³å…¥å›è¦†æ‰€éœ€ replyToken\npublic interface IReplyIntent { Task ReplyAsync(string replyToken); } æ¥æ”¶æ–‡å­—\nprotected virtual async Task OnMessageAsync(Event ev) { if (ev.message.Type.Equals(LineMessageType.text)) { // å®Œæ•´æ¯”å°ä½¿ç”¨è€…è¼¸å…¥çš„è¨Šæ¯ï¼Œæ±ºå®šè¦å›å‚³ä»€éº¼ var msg = ev.message.Text; var intents = new Dictionary\u0026lt;string, IReplyIntent\u0026gt;() { { \u0026quot;é›»å­å–œå¸–\u0026quot; ,new WeddingInvitation(lineMessageUtility,lineProfileUtility)}, { \u0026quot;Default\u0026quot; ,new DefaultIntent(lineMessageUtility,lineProfileUtility)}, }; var intent = intents.ContainsKey(ev.message.Text) ? intents[msg] : intents[\u0026quot;Default\u0026quot;]; await intent.ReplyAsync(ev.replyToken); } } å®šç¾© ImageMessage.cs\npublic class ImageMessage : IMessage { public LineMessageType Type =\u0026gt; LineMessageType.image; public string OriginalContentUrl { get; set; } public string PreviewImageUrl { get; set; } } æ–°å¢ WeddingInvitation.cs ä¸¦å¯¦ä½œ\n public class WeddingInvitation: IReplyIntent { private readonly LineReplyMessageUtility lineMessageUtility; private readonly LineProfileUtility lineProfileUtility; public WeddingInvitation(LineReplyMessageUtility _lineMessageUtility, LineProfileUtility _lineProfileUtility) { lineMessageUtility = _lineMessageUtility; lineProfileUtility = _lineProfileUtility; } public async Task ReplyAsync(string replyToken) { var imageMessage = new ImageMessage() { OriginalContentUrl = \u0026quot;https://i.imgur.com/Li0UUul.png\u0026quot;, PreviewImageUrl = \u0026quot;https://i.imgur.com/Li0UUul.png\u0026quot; }; await lineMessageUtility.ReplyMessageAsync(replyToken, new List \u0026lt; IMessage \u0026gt; { imageMessage }); } } å¯¦ä½œæ•ˆæœ æœ‰å•¥é™åˆ¶å—? ImageMessage åœ¨å‚³é€çš„æ™‚å€™è¦æ³¨æ„æœ‰ä»¥ä¸‹é™åˆ¶\n URL æœ€å¤§ 1000 å­—å…ƒ ä¸€å®šè¦æ˜¯ HTTPS ä¸”åŠ å¯†è¦ç¯„ TLS 1.2 ä»¥ä¸Š æª”æ¡ˆå¤§å°ä¸Šé™ 200 MB åœ–ç‰‡éœ€ç‚º JPEG or PNG  æ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  å¦‚ä½•é‡å°å¤šå€‹æ„åœ–åˆ‡åˆ†å¤šå€‹å¯¦ä½œ å¦‚ä½•å›è¦† ImageMessage https://developers.line.biz/en/reference/messaging-api/#image-message  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-6/","summary":"ä»Šå¤©è¦ä¾†åšé›»å­å–œå¸–åŠŸèƒ½ï¼Œç¯€èƒ½æ¸›ç¢³ï¼Œç’°ä¿æ„›åœ°çƒ\nä¸»è¦å‚³é€æ˜¯ç”¨ Line çš„ImageMessage\né€™éƒ¨åˆ†è·Ÿç¨‹å¼ç„¡é—œ XD åªæ˜¯åˆ†äº« template ç¶²ç«™ï¼Œè¨­è¨ˆè‹¦æ‰‹çš„å·¥ç¨‹å¸«å…¶å¯¦å¯ä»¥è€ƒæ…®ä¸€äº›ç´ æç¶²ç«™ï¼Œæˆ– template ç¶²ç«™ï¼Œä»˜é»éŒ¢å°±èƒ½æ‹¿åˆ°è³ªæ„Ÿæ¥µä½³çš„è¨­è¨ˆ\nhttps://www.greetingsisland.com/\nå°‡åœ–ç‰‡å‚³åˆ°åœ–åºŠ (imgur) Line ç™¼é€åœ–ç‰‡æ™‚å€™æ˜¯ä»¥ URLï¼Œé€šå¸¸æˆ‘æœƒå‚³åˆ° imgur å¹³å°ç”¢ç”Ÿä¸€å€‹ https çš„é€£çµï¼Œå¾ä¸Šé¢ç¶²ç«™è£½ä½œå¥½ç¯„ä¾‹å–œå¸–å¦‚ä¸‹ï¼š\nOnMessageAsync åœ¨å‰å¹¾ç¯‡æˆ‘å€‘æœ‰ä»‹ç´¹çš„OnMessageAsyncï¼Œæˆ‘å€‘åœ¨é€™å¯¦ä½œæ¥æ”¶åˆ°æ–‡å­—è¨Šæ¯æ™‚å€™è¦å›å‚³çš„è¨Šæ¯ï¼Œè€ƒé‡åˆ°å†ä¾†ä½¿ç”¨è€…çš„æ„åœ– (intent) å¯èƒ½æœƒè¶Šä¾†è¶Šå¤šï¼Œæˆ‘å€‘ç”¨ä¸€å€‹ç°¡å–®çš„ Dictionary ä¾†åšè™•ç†\n ä½¿ç”¨è€…çš„æ„åœ– (intent) æ˜¯åœ¨åšchatbot NLP æˆ–ä½¿ç”¨ chatbot ä¸€äº›æœå‹™æ™‚å¾ˆå¸¸çœ‹è¦‹çš„åè©ï¼Œç°¡å–®ä¾†è¬›å°±æ˜¯ç•¶ä½¿ç”¨è€…æ‰“å‡ºé€™å¥è©±æ™‚ï¼Œæ˜¯æƒ³åšä»€éº¼äº‹\n å®šç¾©ä¸€å€‹ä»‹é¢ï¼ŒåŒ…å« ReplyAsync æ–¹æ³•ï¼Œéœ€è¦å‚³å…¥å›è¦†æ‰€éœ€ replyToken\npublic interface IReplyIntent { Task ReplyAsync(string replyToken); } æ¥æ”¶æ–‡å­—\nprotected virtual async Task OnMessageAsync(Event ev) { if (ev.message.Type.Equals(LineMessageType.text)) { // å®Œæ•´æ¯”å°ä½¿ç”¨è€…è¼¸å…¥çš„è¨Šæ¯ï¼Œæ±ºå®šè¦å›å‚³ä»€éº¼ var msg = ev.message.Text; var intents = new Dictionary\u0026lt;string, IReplyIntent\u0026gt;() { { \u0026quot;é›»å­å–œå¸–\u0026quot; ,new WeddingInvitation(lineMessageUtility,lineProfileUtility)}, { \u0026quot;Default\u0026quot; ,new DefaultIntent(lineMessageUtility,lineProfileUtility)}, }; var intent = intents.","title":"ç’°ä¿æ„›åœ°çƒï¼Œå›å‚³é›»å­å–œå¸– (6)"},{"content":"æˆ‘æƒ³ Line è±å¯Œçš„è²¼åœ–ï¼Œæ‡‰è©²æ˜¯å¾ˆå¤šäººå–œæ­¡ç”¨å®ƒä¾†åš Chatbot çš„ä¸€å€‹åŸå› å§ æ¥çºŒä¸Šä¸€ç¯‡ï¼Œæˆ‘å€‘è©¦è‘—åœ¨æ­¡è¿è©å¾Œï¼Œå‚³é€ä¸€å€‹ç¦®è²Œåˆä¸å°·å°¬çš„è²¼åœ–\nåœ¨ LineReplyMessageUtility.cs æ“´å……å›å‚³è²¼åœ– æˆ‘å€‘æ¥çºŒå‰ä¸€ç¯‡ LineReplyMessageUtility é€™å€‹é¡åˆ¥å†å¯¦ä½œä¸€å€‹å›è¦†è²¼åœ–çš„method\npublic async Task ReplyStickerMessageAsync(string replyToken, string packageId, string stickerId) { using(var httpClient = new HttpClient()) { using(var request = new HttpRequestMessage(new HttpMethod(\u0026quot;POST\u0026quot;), $ \u0026quot;{lineMessageApiBaseUrl}\u0026quot;)) { request.Headers.TryAddWithoutValidation(\u0026quot;Authorization\u0026quot;, $ \u0026quot;Bearer {accessToken}\u0026quot;); LineMessageReq req = new LineMessageReq(); req.ReplyToken = replyToken; req.Messages.Add(new StickerMessage() { PackageId = packageId, StickerId = stickerId }); var postJson = JsonConvert.SerializeObject(req, new JsonSerializerSettings { ContractResolver = new DefaultContractResolver { NamingStrategy = new CamelCaseNamingStrategy() }, Formatting = Formatting.Indented }); request.Content = new StringContent(postJson); request.Content.Headers.ContentType = MediaTypeHeaderValue.Parse(\u0026quot;application/json\u0026quot;); var response = await httpClient.SendAsync(request); } } } StickerMessage.cs\npublic class StickerMessage: IMessage { public LineMessageType Type =\u0026gt; LineMessageType.sticker; public string PackageId { get; set; } public string StickerId { get; set; } } ReplyStickerMessageAsync å‚³äº†å…©å€‹åƒæ•¸ï¼špackageId, stickerId\né€™å€‹å®šç¾©åœ¨é€™ä»½æ–‡ä»¶è£¡é ­ï¼Œæˆ‘å€‘åœ¨ OnFollow äº‹ä»¶å¢åŠ å›å‚³è²¼åœ–\nawait lineMessageUtility.ReplyMessageAsync(ev.replyToken, $@\u0026quot;Hi {user.displayName}, æ„Ÿè¬æ‚¨åŠ å…¥å©šç¦®å°åŠ©ç†ï¼\u0026quot;); await lineMessageUtility.ReplyStickerMessageAsync(ev.replyToken, \u0026quot;1\u0026quot;, \u0026quot;1\u0026quot;);  (X) çµæœç™¼ç¾æ²’ä½œç”¨ï¼ŒåŸå› æ˜¯ ReplyToken åªèƒ½ç”¨ä¸€æ¬¡ï¼Œä¸”ä¹Ÿè¦æ³¨æ„æœ‰30ç§’å·¦å³çš„æ™‚æ•ˆæ€§\n åšé»èª¿æ•´ ReplyMessageAsync æ”¹æ¥ IMessage çš„ List\nä¿®æ”¹æ­¡è¿è©çš„ç¨‹å¼\nprotected virtual async Task OnFollowAsync(Event ev) { // å–å¾—ä½¿ç”¨è€…çš„è³‡è¨Š var user = await lineProfileUtility.GetUserProfile(ev.source.userId); // å›å‚³æ­¡è¿è© var welcome = new TextMessage() { Text = $@\u0026quot;Hi {user.displayName}, æ„Ÿè¬æ‚¨åŠ å…¥å©šç¦®å°åŠ©ç†ï¼\u0026quot; }; var sticker = new StickerMessage() { PackageId = \u0026quot;11539\u0026quot;, StickerId = \u0026quot;52114136\u0026quot; }; await lineMessageUtility.ReplyMessageAsync(ev.replyToken, new List\u0026lt;IMessage\u0026gt; { welcome, sticker }); } å¯¦éš›æˆæœ\næ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  å¦‚ä½•å›è¦† Line è²¼åœ– https://developers.line.biz/en/reference/messaging-api/#sticker-message IList ä»‹é¢ https://docs.microsoft.com/zh-tw/dotnet/api/system.collections.ilist?view=netcore-3.1  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-5/","summary":"æˆ‘æƒ³ Line è±å¯Œçš„è²¼åœ–ï¼Œæ‡‰è©²æ˜¯å¾ˆå¤šäººå–œæ­¡ç”¨å®ƒä¾†åš Chatbot çš„ä¸€å€‹åŸå› å§ æ¥çºŒä¸Šä¸€ç¯‡ï¼Œæˆ‘å€‘è©¦è‘—åœ¨æ­¡è¿è©å¾Œï¼Œå‚³é€ä¸€å€‹ç¦®è²Œåˆä¸å°·å°¬çš„è²¼åœ–\nåœ¨ LineReplyMessageUtility.cs æ“´å……å›å‚³è²¼åœ– æˆ‘å€‘æ¥çºŒå‰ä¸€ç¯‡ LineReplyMessageUtility é€™å€‹é¡åˆ¥å†å¯¦ä½œä¸€å€‹å›è¦†è²¼åœ–çš„method\npublic async Task ReplyStickerMessageAsync(string replyToken, string packageId, string stickerId) { using(var httpClient = new HttpClient()) { using(var request = new HttpRequestMessage(new HttpMethod(\u0026quot;POST\u0026quot;), $ \u0026quot;{lineMessageApiBaseUrl}\u0026quot;)) { request.Headers.TryAddWithoutValidation(\u0026quot;Authorization\u0026quot;, $ \u0026quot;Bearer {accessToken}\u0026quot;); LineMessageReq req = new LineMessageReq(); req.ReplyToken = replyToken; req.Messages.Add(new StickerMessage() { PackageId = packageId, StickerId = stickerId }); var postJson = JsonConvert.SerializeObject(req, new JsonSerializerSettings { ContractResolver = new DefaultContractResolver { NamingStrategy = new CamelCaseNamingStrategy() }, Formatting = Formatting.","title":"å›å‚³ä¸æ–‡è¬…è¬…çš„ Line è²¼åœ– (5)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day4)\næœ¬ç¯‡é–‹å§‹æˆ‘å€‘è¦ä¾†é€æ­¥å¯¦è¸æˆ‘å€‘çš„å©šç¦® Chatbot äº†ï¼\næˆ‘å€‘é æœŸåœ¨åŠ å…¥å¥½å‹çš„æ™‚å€™ (OnFollow) äº‹ä»¶æ™‚å›å‚³æ­¡è¿è©ï¼šHi UserName, æ„Ÿè¬æ‚¨åŠ å…¥ Kyle çš„å©šç¦®å°åŠ©ç†ï¼\nå–å¾—ä½¿ç”¨è€…çš„è³‡è¨Š è¨˜å¾—ä¸Šä¸€ç¯‡è¬› Webhook Event æ™‚çš„çµæ§‹å—? è£¡é¢æœ‰å€‹ userId\næŸ¥çœ‹æ–‡ä»¶å¾Œï¼Œå¯ä»¥é€é access token å’Œ userId ä¾†å–å¾—ç”¨æˆ¶è³‡è¨Š\nå»ºç«‹ä¸€å€‹ LineProfileUtility.cs å–å¾—ä½¿ç”¨è€…è³‡è¨Š æˆ‘å€‘å»ºç«‹ä¸€å€‹ Class ä¾†å¯¦ä½œå–å¾—ä½¿ç”¨è€…ç›¸é—œç¨‹å¼ï¼Œè®“æœªä¾†ä¸åŒçš„æƒ…å¢ƒå¯ä»¥èª¿ç”¨ï¼Œä»¥ä¸‹æ˜¯æ–‡ä»¶å–å¾—ä½¿ç”¨è€…ç¯„ä¾‹çš„Sample\n curl -v -X GET https://api.line.me/v2/bot/profile/{userId} \\ -H 'Authorization: Bearer {channel access token}'  æœ‰å€‹å°æŠ€å·§å¯ä»¥æŠŠ curl è½‰æˆ C# çš„ HttpClinet ï¼Œå°‡ä»¥ä¸Šçš„è³‡è¨Šè²¼åˆ° https://curl.olsh.me/ å³å¯è½‰æ›å®Œæˆï¼Œå†åšä¸€äº›å¾®èª¿å°±å¥½äº†\n è½‰æ›å¾Œå¦‚ä¸‹ï¼š\nusing (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;GET\u0026quot;), \u0026quot;[https://api.line.me/v2/bot/profile/{userId](https://api.line.me/v2/bot/profile/{userId)}\u0026quot;)) { request.Headers.TryAddWithoutValidation(\u0026quot;Authorization\u0026quot;, \u0026quot;Bearer {channel access token}\u0026quot;); var response = await httpClient.SendAsync(request); } } access token åœ¨å¹¾å¤©å‰çš„æ–‡ç« ï¼Œæˆ‘å€‘å·²ç¶“å®šç¾©åœ¨ appsetting.json äº†ï¼Œåœ¨å»ºæ§‹çš„æ™‚å€™æˆ‘å€‘æ³¨å…¥é€²ä¾†\næ–°å¢ä¸€å€‹ GetUserProfile functionï¼Œå¯¦ä½œå¦‚ä¸‹\npublic async Task\u0026lt;UserProfile\u0026gt; GetUserProfile(string userId) { using (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;GET\u0026quot;), $\u0026quot;{lineMessageApiBaseUrl}/{userId}\u0026quot;)) { request.Headers.TryAddWithoutValidation(\u0026quot;Authorization\u0026quot;, $\u0026quot;Bearer {accessToken}\u0026quot;); var response = await httpClient.SendAsync(request); if(response.StatusCode != HttpStatusCode.OK) { // é€™é‚Šæœªä¾†æ‡‰è©²è¦ log èµ·ä¾† throw new Exception(\u0026quot;get_profile_error\u0026quot;); } var result = await response.Content.ReadAsStringAsync(); return JsonConvert.DeserializeObject\u0026lt;UserProfile\u0026gt;(result); } } } UserProfile.cs å®šç¾©å¦‚ä¸‹\npublic class UserProfile { public string userId { get; set; } public string displayName { get; set; } public string pictureUrl { get; set; } public string statusMessage { get; set; } } JSON.NET è½‰æ›\nåœ¨ .NET Core 3.1 å…¶å¯¦æœ‰å…§å»º System.Text.Json ä¾†åšJSONçš„åºåˆ—åŒ–è·Ÿååºåˆ—åŒ–è™•ç†ï¼Œä½†å€‹äººé‚„æ˜¯ç¿’æ…£ç”¨ JSON.NET\nJsonConvert.DeserializeObject\u0026lt;UserProfile\u0026gt;(result) æ‚¨å¯åœ¨å°ˆæ¡ˆä»¥ä¸‹æ‰“é–‹ Nuget å¥—ä»¶ç®¡ç†\nå®‰è£ JSON.NET å›ä¾†\nåœ¨ OnFollow äº‹ä»¶å–å¾—ä½¿ç”¨è€…è³‡è¨Š\nå»ºç«‹ä¸€å€‹ LineReplyMessageUtility.cs ä¾†å›è¦†è¨Šæ¯ æˆ‘å€‘å»ºç«‹ä¸€å€‹ Class ä¾†å¯¦ä½œå›è¦†ä½¿ç”¨è€…ç›¸é—œç¨‹å¼ï¼Œä»¥ä¸‹æ˜¯å®˜æ–¹æ–‡ä»¶å›è¦†ä½¿ç”¨è€…ç¯„ä¾‹çš„Sample\ncurl -v -X POST https://api.line.me/v2/bot/message/reply \\ -H 'Content-Type: application/json' \\ -H 'Authorization: Bearer {channel access token}' \\ -d '{ \u0026quot;replyToken\u0026quot;:\u0026quot;nHuyWiB7yP5Zw52FIkcQobQuGDXCTA\u0026quot;, \u0026quot;messages\u0026quot;:[ { \u0026quot;type\u0026quot;:\u0026quot;text\u0026quot;, \u0026quot;text\u0026quot;:\u0026quot;Hello, user\u0026quot; }, { \u0026quot;type\u0026quot;:\u0026quot;text\u0026quot;, \u0026quot;text\u0026quot;:\u0026quot;May I help you?\u0026quot; } ] }' ç”¨ https://curl.olsh.me/ è½‰æˆ C#\nusing (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;POST\u0026quot;), \u0026quot;https://api.line.me/v2/bot/message/reply\u0026quot;)) { request.Headers.TryAddWithoutValidation(\u0026quot;Authorization\u0026quot;, \u0026quot;Bearer {channel access token}\u0026quot;); request.Content = new StringContent(\u0026quot;{\\n \\\u0026quot;replyToken\\\u0026quot;:\\\u0026quot;nHuyWiB7yP5Zw52FIkcQobQuGDXCTA\\\u0026quot;,\\n \\\u0026quot;messages\\\u0026quot;:[\\n {\\n \\\u0026quot;type\\\u0026quot;:\\\u0026quot;text\\\u0026quot;,\\n \\\u0026quot;text\\\u0026quot;:\\\u0026quot;Hello, user\\\u0026quot;\\n },\\n {\\n \\\u0026quot;type\\\u0026quot;:\\\u0026quot;text\\\u0026quot;,\\n \\\u0026quot;text\\\u0026quot;:\\\u0026quot;May I help you?\\\u0026quot;\\n }\\n ]\\n}\u0026quot;); request.Content.Headers.ContentType = MediaTypeHeaderValue.Parse(\u0026quot;application/json\u0026quot;); var response = await httpClient.SendAsync(request); } } åšé»èª¿æ•´ï¼šå°‡ StringContent è®Šæˆclassï¼Œä¸¦ç”¨ JSON.NETåºåˆ—åŒ–ï¼Œå®Œæ•´å¯¦ä½œå¦‚ä¸‹ï¼š\nprivate readonly string accessToken; private static string lineMessageApiBaseUrl = \u0026quot;[https://api.line.me/v2/bot/message/reply](https://api.line.me/v2/bot/message/reply)\u0026quot;; public LineReplyMessageUtility(IOptions\u0026lt;LineSetting\u0026gt; lineSetting) { accessToken = lineSetting.Value.ChannelAccessToken; } public async Task ReplyMessageAsync(string replyToken, params string[] messages) { using (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;POST\u0026quot;), $\u0026quot;{lineMessageApiBaseUrl}\u0026quot;)) { request.Headers.TryAddWithoutValidation(\u0026quot;Authorization\u0026quot;, $\u0026quot;Bearer {accessToken}\u0026quot;); LineMessageReq req = new LineMessageReq(); req.ReplyToken = replyToken; foreach (var message in messages) { req.Messages.Add(new TextMessage() { Text = message }); } var postJson = JsonConvert.SerializeObject(req, new JsonSerializerSettings { ContractResolver = new DefaultContractResolver { NamingStrategy = new CamelCaseNamingStrategy() //è½‰å°å¯« }, Formatting = Formatting.Indented }); request.Content = new StringContent(postJson); request.Content.Headers.ContentType = MediaTypeHeaderValue.Parse(\u0026quot;application/json\u0026quot;); var response = await httpClient.SendAsync(request); } } } LineMessageReq é€™é‚Šå®šç¾©ä¸€å€‹ IMessage çš„ä»‹é¢ï¼Œä¹‹å¾Œä¸åŒçš„è¨Šæ¯é¡å‹ï¼Œå°‡æœƒä»¥æ­¤ä¾†ç¹¼æ‰¿\n public class LineMessageReq { public string ReplyToken { get; set; } public List\u0026lt;IMessage\u0026gt; Messages { get; set; } = new List\u0026lt;IMessage\u0026gt;(); } TextMessage Class\npublic class TextMessage : IMessage { public string Text { get; set; } public LineMessageType Type =\u0026gt; LineMessageType.text; } æ–¼ OnFollowAsync åŠ å…¥ Reply\nprotected virtual async Task OnFollowAsync(Event ev) { // å–å¾—ä½¿ç”¨è€…çš„è³‡è¨Š var user = await lineProfileUtility.GetUserProfile(ev.source.userId); // å›å‚³æ­¡è¿è© await lineMessageUtility.ReplyMessageAsync(ev.replyToken, $@\u0026quot;Hi {user.displayName}, æ„Ÿè¬æ‚¨åŠ å…¥å©šç¦®å°åŠ©ç†ï¼\u0026quot;) } å¦‚ä½•æ¸¬è©¦åŠ å…¥å¥½å‹äº‹ä»¶å‘¢? å…¶å¯¦åªè¦å°é–å†è§£é™¤å°é–å°±å¥½äº†\nå¯¦ä½œæ•ˆæœ\næ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  å¦‚ä½•å–å¾— Line ä½¿ç”¨è€…è³‡è¨Š https://developers.line.biz/en/docs/social-api/getting-user-profiles/ å¦‚ä½•å›è¦† Line ä½¿ç”¨è€…è¨Šæ¯ https://developers.line.biz/en/reference/messaging-api/#send-reply-message å¦‚ä½•æŠŠ curl è½‰æˆ C# HttpClient https://curl.olsh.me/ C# çš„ ä»‹é¢ interface (C# Reference) JSON.NET https://www.newtonsoft.com/json  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-4/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day4)\næœ¬ç¯‡é–‹å§‹æˆ‘å€‘è¦ä¾†é€æ­¥å¯¦è¸æˆ‘å€‘çš„å©šç¦® Chatbot äº†ï¼\næˆ‘å€‘é æœŸåœ¨åŠ å…¥å¥½å‹çš„æ™‚å€™ (OnFollow) äº‹ä»¶æ™‚å›å‚³æ­¡è¿è©ï¼šHi UserName, æ„Ÿè¬æ‚¨åŠ å…¥ Kyle çš„å©šç¦®å°åŠ©ç†ï¼\nå–å¾—ä½¿ç”¨è€…çš„è³‡è¨Š è¨˜å¾—ä¸Šä¸€ç¯‡è¬› Webhook Event æ™‚çš„çµæ§‹å—? è£¡é¢æœ‰å€‹ userId\næŸ¥çœ‹æ–‡ä»¶å¾Œï¼Œå¯ä»¥é€é access token å’Œ userId ä¾†å–å¾—ç”¨æˆ¶è³‡è¨Š\nå»ºç«‹ä¸€å€‹ LineProfileUtility.cs å–å¾—ä½¿ç”¨è€…è³‡è¨Š æˆ‘å€‘å»ºç«‹ä¸€å€‹ Class ä¾†å¯¦ä½œå–å¾—ä½¿ç”¨è€…ç›¸é—œç¨‹å¼ï¼Œè®“æœªä¾†ä¸åŒçš„æƒ…å¢ƒå¯ä»¥èª¿ç”¨ï¼Œä»¥ä¸‹æ˜¯æ–‡ä»¶å–å¾—ä½¿ç”¨è€…ç¯„ä¾‹çš„Sample\n curl -v -X GET https://api.line.me/v2/bot/profile/{userId} \\ -H 'Authorization: Bearer {channel access token}'  æœ‰å€‹å°æŠ€å·§å¯ä»¥æŠŠ curl è½‰æˆ C# çš„ HttpClinet ï¼Œå°‡ä»¥ä¸Šçš„è³‡è¨Šè²¼åˆ° https://curl.olsh.me/ å³å¯è½‰æ›å®Œæˆï¼Œå†åšä¸€äº›å¾®èª¿å°±å¥½äº†\n è½‰æ›å¾Œå¦‚ä¸‹ï¼š\nusing (var httpClient = new HttpClient()) { using (var request = new HttpRequestMessage(new HttpMethod(\u0026quot;GET\u0026quot;), \u0026quot;[https://api.","title":"å›è¦†ç¬¬ä¸€å€‹Lineçš„è¨Šæ¯-æ­¡è¿è© (4)"},{"content":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day3)\nå…ˆä¾†çœ‹çœ‹æ–‡ä»¶ åœ¨ Line çš„æ–‡ä»¶è£¡æœ‰å®šç¾© Webhook Event Objects å‚³éä¾†çš„ JSON çš„çµæ§‹\nå¯ä»¥çœ‹åˆ°å®ƒæœƒå‚³ä¸€å€‹ events éä¾†ï¼Œè£¡é¢åŒ…å«å¹¾å€‹ properties\nreplyToken : ç”¨ä¾†å›è¦†è©²ä½¿ç”¨è€…çš„Token typeï¼šä½¿ç”¨è€…å‚³é€è¨Šæ¯çš„é¡å‹ (message/video/stickerâ€¦) mode: Channelæ˜¯å¦æœ‰æ•ˆ source:ä½¿ç”¨è€…/ç¾¤çµ„çš„è³‡è¨Š â€¦ ä»¥ä¸Šéƒ½å¯ä»¥å¾ä¸Šæ–¹çš„æ–‡ä»¶å»æŸ¥çœ‹ properties çš„ç”¨é€”\nå°‡ Line Event Request è½‰æˆ C# Class åœ¨ä¸Šä¸€ç¯‡æˆ‘å€‘ Web Api æ˜¯ç”¨ dynamic ä¾†æ¥æ”¶ Requestï¼Œåœ¨VSæœ‰å€‹åŠŸèƒ½æ˜¯å¾ˆå¿«çš„æŠŠ JSON çµæ§‹è½‰æˆ C# çš„ Classï¼Œé€™å€‹æŠ€å·§åœ¨ä¸²æ¥ç•°è³ª Api è »å¸¸ç”¨çš„ï¼Œæˆ–è€…æ˜¯å¯ä»¥ç”¨ json2csharp.com é€™ç¨®æœå‹™ä¾†è™•ç†ã€‚\nè¤‡è£½å®˜æ–¹çš„JSON Sampleï¼Œåœ¨ VS é»é¸ç·¨è¼¯ =\u0026gt; é¸æ“‡æ€§è²¼ä¸Š =\u0026gt; è²¼ä¸Š JSON\nçµæœæœƒé•·é€™æ¨£ï¼Œé€šå¸¸æˆ‘ä¸æœƒåœ¨ä¸€å€‹ .cs æ”¾å¤šå€‹é¡åˆ¥ï¼Œä½†ç‚ºäº†æ–‡ç« å¥½å‘ˆç¾æ•…ç›´æ¥è²¼ä¸Šä¾†ï¼Œæ‹†ä¸€æ‹†æª”æ¡ˆçš„å·¥ä¹Ÿé‚„å¥½\nåšé»åŠ å·¥ï¼ŒæŠŠ Event çš„ Type ä¸€äº›æ–‡ä»¶æ”¹æˆ C# çš„ Enumï¼Œè®“é–‹ç™¼æ›´é †æš¢ï¼Œæ–°å¢ä¸€å€‹ WebhookEventType.cs\npublic enum WebhookEventType { Message, Follow, Unfollow, } Event class å°±æœƒæ”¹ç‚ºå¦‚ä¸‹\npublic class Event { public WebhookEventType type { get; set; } public string replyToken { get; set; } public WebhookEventSource source { get; set; } public long timestamp { get; set; } public string mode { get; set; } public LineMessage message { get; set; } } å†åšä¸€æ¬¡ï¼Œæˆ‘å€‘å°‡è¨Šæ¯çš„é¡å‹ä¹Ÿå®šç¾© LineMessageType.cs\npublic enum LineMessageType { text, sticker, image, video, audio, template, flex, location } Message Class å°±æœƒæ”¹ç‚ºå¦‚ä¸‹\npublic class Message { public string id { get; set; } public string type { get; set; } public LineMessageType text { get; set; } } è©¦è‘—å¾Line Develop Consoleå¾Œå°ï¼Œå°‡ Chatbot åŠ å…¥å¥½å‹å¾Œï¼Œç™¼é€ç¬¬ä¸€å€‹è¨Šæ¯ï¼Œä¸¦å°‡ Controller çš„ Api çš„åƒæ•¸æ”¹æˆå‰›å‰›å»ºç«‹çš„ WebhookEvent Classï¼Œå¯ä»¥é–‹å§‹ç”¨å¼·å‹åˆ¥é–‹ç™¼äº†\né‡å°ä¸åŒäº‹ä»¶ï¼Œåšä¸åŒæµç¨‹ è®“ Controller ä¸è¦é‚£éº¼è¤‡é›œï¼Œæˆ‘å€‘æ–°å¢ä¸€å€‹ LineBotApp.csï¼Œå®šç¾©ä¸€å€‹ RunAsyncä¾†è™•ç†å„ç¨®äº‹ä»¶\n æœ‰å‹åˆ¥çš„å¥½è™•å°±æ˜¯åœ¨switch(e.type)æŒ‰ä¸‹ VS å°±æœƒè‡ªå‹•å±•é–‹æ‰€æœ‰ Enums\n é‡å°ä¸åŒäº‹ä»¶ï¼ŒåŠ å…¥å¯¦ä½œçš„ functionï¼Œæˆ‘å€‘ç”¨ virtual ä¿ç•™æœªä¾†ç¹¼æ‰¿é€™å€‹ LineBotApp.cs å¯ä»¥ override çš„å½ˆæ€§\nOnMessageAsync å¯ä»¥å†é‡å°ä½¿ç”¨è€…æ‰€å‚³çš„é¡å‹è™•ç†\nå…¶ä»– Events ä¸Šé¢å¯¦ä½œäº† Message/Follow/UnFollowçš„Eventï¼Œé‚„æœ‰å…¶ä»–äº‹ä»¶ï¼Œç‚ºæ±‚ç°¡å–®ï¼Œæ•…ç­‰æˆ‘å€‘æœ‰å¿…è¦ç”¨åˆ°çš„æ™‚å€™å†ä¾†å¯¦åšå®ƒå§\nUnsend eventï¼šç•¶ä½¿ç”¨è€…æ”¶å›è¨Šæ¯çš„æ™‚å€™ Join eventï¼šç•¶ BotåŠ å…¥ç¾¤çµ„çš„æ™‚å€™ Leave eventï¼šç•¶ Boté›¢é–‹ç¾¤çµ„çš„æ™‚å€™ Member join eventï¼šç•¶æœ‰æ–°æˆå“¡åŠ å…¥ç¾¤çµ„çš„æ™‚å€™ Member leave eventï¼šç•¶æœ‰æ–°æˆå“¡é›¢é–‹ç¾¤çµ„çš„æ™‚å€™ Postback eventï¼šç•¶ä½¿ç”¨è€…æœ‰é»é¸Botè¨­è¨ˆçš„æµç¨‹æŒ‰éˆ•çš„äº‹ä»¶ (é€™æ‡‰è©²æœƒè »å¸¸ç”¨) Video viewing complete eventï¼šå½±ç‰‡çœ‹å®Œæ™‚å€™çš„ Beacon eventï¼šè§¸ç™¼Beaconçš„æ™‚å€™ Account link eventï¼šç•¶ä½¿ç”¨è€…Lineå¸³è™Ÿè·ŸBoté€£æ¥æ™‚ (é€šå¸¸ç”¨æ–¼ç•°è³ªç³»çµ±èˆ‡Line Boté€£çµ) Device link eventï¼šè£ç½®é€£çµ ( IoTç›¸é—œï¼ŒLine Things API) Device unlink eventï¼šè£ç½®å–æ¶ˆé€£çµ ( IoTç›¸é—œï¼ŒLine Things API)\næ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  ç†è§£ Line Webhook æ‰€å®šç¾©çš„ Event é¡å‹ Line Webhook Event Objects å­¸æœƒçœ‹æ–‡ä»¶ï¼Œå¾å®˜æ–¹JSON Sample è½‰æˆ C# çš„ Class (by VS or https://json2csharp.com/) C# Enum çš„ç”¨æ³• Enumeration types (C# reference) C# è£¡çš„ virual class [C#] åˆ©ç”¨ interface(ä»‹é¢) abstract(æŠ½è±¡) override(è¦†å¯«) inherit(ç¹¼æ‰¿) å¯¦ä½œç°¡å–®ç¯„ä¾‹  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-3/","summary":"ç¬¬12 å±†iTé‚¦å¹«å¿™éµäººè³½ç³»åˆ—æ–‡ç«  (Day3)\nå…ˆä¾†çœ‹çœ‹æ–‡ä»¶ åœ¨ Line çš„æ–‡ä»¶è£¡æœ‰å®šç¾© Webhook Event Objects å‚³éä¾†çš„ JSON çš„çµæ§‹\nå¯ä»¥çœ‹åˆ°å®ƒæœƒå‚³ä¸€å€‹ events éä¾†ï¼Œè£¡é¢åŒ…å«å¹¾å€‹ properties\nreplyToken : ç”¨ä¾†å›è¦†è©²ä½¿ç”¨è€…çš„Token typeï¼šä½¿ç”¨è€…å‚³é€è¨Šæ¯çš„é¡å‹ (message/video/stickerâ€¦) mode: Channelæ˜¯å¦æœ‰æ•ˆ source:ä½¿ç”¨è€…/ç¾¤çµ„çš„è³‡è¨Š â€¦ ä»¥ä¸Šéƒ½å¯ä»¥å¾ä¸Šæ–¹çš„æ–‡ä»¶å»æŸ¥çœ‹ properties çš„ç”¨é€”\nå°‡ Line Event Request è½‰æˆ C# Class åœ¨ä¸Šä¸€ç¯‡æˆ‘å€‘ Web Api æ˜¯ç”¨ dynamic ä¾†æ¥æ”¶ Requestï¼Œåœ¨VSæœ‰å€‹åŠŸèƒ½æ˜¯å¾ˆå¿«çš„æŠŠ JSON çµæ§‹è½‰æˆ C# çš„ Classï¼Œé€™å€‹æŠ€å·§åœ¨ä¸²æ¥ç•°è³ª Api è »å¸¸ç”¨çš„ï¼Œæˆ–è€…æ˜¯å¯ä»¥ç”¨ json2csharp.com é€™ç¨®æœå‹™ä¾†è™•ç†ã€‚\nè¤‡è£½å®˜æ–¹çš„JSON Sampleï¼Œåœ¨ VS é»é¸ç·¨è¼¯ =\u0026gt; é¸æ“‡æ€§è²¼ä¸Š =\u0026gt; è²¼ä¸Š JSON\nçµæœæœƒé•·é€™æ¨£ï¼Œé€šå¸¸æˆ‘ä¸æœƒåœ¨ä¸€å€‹ .cs æ”¾å¤šå€‹é¡åˆ¥ï¼Œä½†ç‚ºäº†æ–‡ç« å¥½å‘ˆç¾æ•…ç›´æ¥è²¼ä¸Šä¾†ï¼Œæ‹†ä¸€æ‹†æª”æ¡ˆçš„å·¥ä¹Ÿé‚„å¥½\nåšé»åŠ å·¥ï¼ŒæŠŠ Event çš„ Type ä¸€äº›æ–‡ä»¶æ”¹æˆ C# çš„ Enumï¼Œè®“é–‹ç™¼æ›´é †æš¢ï¼Œæ–°å¢ä¸€å€‹ WebhookEventType.","title":"ç”¨.NET Core æ¥æ”¶Lineçš„è¨Šæ¯äº‹ä»¶ (3)"},{"content":"åŸºæœ¬è¨­å®š é—œæ–¼å¦‚ä½•è¨»å†Šä¸€å€‹ä¸²æ¥è‡ªå·±Web Api çš„ Line Chatbot ç¶²è·¯ä¸Šå·²ç¶“å¾ˆå¤šçš„æ•™å­¸æ–‡äº†ï¼Œå¤§æ¦‚åˆ†ç‚ºä»¥ä¸‹å¹¾å€‹æ­¥é©Ÿ\nhttps://developers.line.biz/en/\n ç”³è«‹ä¸€å€‹Provider ç”³è«‹ä¸€å€‹Channel (ä¸€å€‹Providerå¯ä»¥æœ‰å¤šå€‹Channel) æ–¼Channelå–å¾— Channel Secret åŠ Access Token Use webhook å•Ÿç”¨ Auto-reply messages é—œé–‰ è¨­å®š Webhook URL (éœ€ç‚ºhttps)  èµ·å§‹ Web API å°ˆæ¡ˆèˆ‡ Line Server åšé€£çµ å»ºç«‹ä¸€å€‹ .NET Core 3.1 çš„ Web Api å°ˆæ¡ˆ\nå»ºç«‹ä¸€å€‹ Line Controllerï¼Œå…ˆç”¨ dynamic æ¥æ”¶ï¼Œçœ‹çœ‹ Request éä¾†çš„æ˜¯ä»€éº¼\nåŸ·è¡Œçœ‹çœ‹ï¼Œweatherforecast ç‚ºåˆå§‹å°ˆæ¡ˆçš„ Sampleï¼Œæ­¤Local Api çš„ Port ç‚º 44300\né€é ngrok è®“ Line Server è·Ÿ Local Web API åšé€£çµ\n å®‰è£ node.js npm install ngrok -g ngrok -v  æœ¬æ–‡ç« æ‰€ä½¿ç”¨çš„ç‰ˆæœ¬ç‚º 2.3.35\n åŸ·è¡Œ ngrok http 44300 -host-header=â€localhost:44300\u0026quot; -region ap\n 44300è¦æ›¿æ›æˆä½ æœ¬åœ°åŸ·è¡ŒRunèµ·ä¾†çš„Port\n-region ap ç‚ºåˆ‡æ› ngrok çš„ serverï¼Œé è¨­ç‚ºusï¼Œåœ¨ä»Šå¹´ Line é–‹å§‹é˜»æ“‹ä¾†è‡³æ–¼ ngrok us çš„ server äº†ï¼Œæ‰€ä»¥æˆ‘å€‘è¦å°‡ Region åˆ‡åˆ° Asia/Pacific (ap)\nRun èµ·ä¾†å¤§æ¦‚æœƒé•·é€™æ¨£\næˆ‘å€‘å°‡ https://44a914411bf2.ap.ngrok.io é€™ä¸²åŠ ä¸ŠRoute api/line å¾Œè²¼åˆ° Line Developer Consoleï¼Œé»é¸ Verify\né€²å…¥ http://127.0.0.1:4040/ ï¼Œå¯ä»¥çœ‹åˆ°Line Server POST éä¾†çš„ Request\næŠŠé€™å€‹POST çš„ Body ç§»åˆ° Postman æ–¹ä¾¿æ¸¬è©¦\nä¹Ÿå¯ä»¥ç›´æ¥ç”¨æˆ‘å»ºå¥½çš„ Collection åŒ¯å…¥ https://www.getpostman.com/collections/8a93e0b6ce3ff66f8c8b\né€é Postman æ¸¬è©¦ï¼Œåœ¨VSä¸‹ä¸­æ–·é»ï¼Œé©—è­‰å¯æ¥æ”¶åˆ°\né©—è­‰æ˜¯å¦ç‚ºæœ‰æ•ˆçš„Lineä¾†æº API æœ‰äº†ï¼Œä½†æˆ‘å€‘è¦å¦‚ä½•é©—è­‰é€™å€‹ Request æ˜¯ä¾†è‡ª Line Server ä¾†é˜»æ“‹æƒ¡æ„æ”»æ“Šå‘¢? åœ¨ Line Server æ‰€å‚³éä¾†çš„ Header æœƒåŒ…å«é€™å€‹é …ç›® **X-Line-Signature ï¼Œ**å°‡ POST Body è·Ÿ Chanel Secret ç”¨åš HMAC-SHA256 æ¼”ç®—æ³•Hashéå¾Œï¼Œæ¯”å°éå¾Œå¦‚æœç›¸åŒï¼Œè¡¨ç¤ºè©² Request æ˜¯ä¾†è‡ª Line Server\n*Verifying Signatures å®˜æ–¹åƒè€ƒæ–‡ä»¶*\nåœ¨ Web Api å¯¦ä½œï¼Œæˆ‘å€‘å…ˆæ–°å»ºä¸€å€‹ Authorization Filter ä¾†é©—è­‰ Line Signatureï¼Œ.NET Core Web Api çš„ Reuqest pipeline å¦‚ä¸‹ï¼š\næ–°å¢ä¸€å€‹ Filter å« LineVerifySignatureFilter.cs ç¹¼æ‰¿ IAuthorizationFilter å¯¦ä½œï¼ŒChannel Secret è¦æ›¿æ›\n public class LineVerifySignatureFilter : IAuthorizationFilter { public void OnAuthorization(AuthorizationFilterContext context) { /* * Ensure the requestBody can be read multiple times. * [https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.http.httprequestrewindextensions.enablebuffering?view=aspnetcore-3.1](https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.http.httprequestrewindextensions.enablebuffering?view=aspnetcore-3.1) */ context.HttpContext.Request.EnableBuffering(); string requestBody = new StreamReader(context.HttpContext.Request.Body).ReadToEndAsync().Result; context.HttpContext.Request.Body.Position = 0; var xLineSignature = context.HttpContext.Request.Headers[\u0026quot;X-Line-Signature\u0026quot;].ToString(); var channelSecret = Encoding.UTF8.GetBytes(\u0026quot;{Channel Secret}\u0026quot;); var body = Encoding.UTF8.GetBytes(requestBody); using (HMACSHA256 hmac = new HMACSHA256(channelSecret)) { var hash = hmac.ComputeHash(body, 0, body.Length); var xLineBytes = Convert.FromBase64String(xLineSignature); if (SlowEquals(xLineBytes, hash) == false) { context.Result = new ForbidResult(); } } } private static bool SlowEquals(byte[] a, byte[] b) { uint diff = (uint)a.Length ^ (uint)b.Length; for (int i = 0; i \u0026lt; a.Length \u0026amp;\u0026amp; i \u0026lt; b.Length; i++) diff |= (uint)(a[i] ^ b[i]); return diff == 0; } } æ–°å¢ä¸€å€‹ Line LineVerifySignatureAttribute.cs é€é TypeFilterAttribute ä¾†ä¾‹åŒ–\n public class LineVerifySignatureAttribute : TypeFilterAttribute { public LineVerifySignatureAttribute() : base(typeof(LineVerifySignatureFilter)) { } } åœ¨ Line Api Route åŠ ä¸Š [LineVerifySignature] é€²è¡Œé©—è­‰ï¼Œé€™æ¨£ç¨‹å¼å°±ä¹¾æ·¨å¤šäº†\næŠŠ Channel Secret/Access Token ç§»åˆ° appsettings.json é€šå¸¸æˆ‘å€‘æœƒæŠŠé€™å…©å€‹è³‡è¨Šå¯«åœ¨è¨­å®šæª”ï¼Œä»¥ä¾¿ä½¿ç”¨è·Ÿæ›¿æ›ï¼Œåœ¨ .NET Core å¯ä»¥ä½¿ç”¨ IOption çš„æ–¹å¼ä¾†å¾è¨­å®šæª”æ³¨å…¥\nåœ¨ appsettings.json å¢åŠ å€å¡Šï¼Œæ”¾Channel Secret/Access Token\nå¢åŠ ä¸€å€‹ LineSetting.csï¼Œæˆ‘å€‘è¦ç”¨å¼·å‹åˆ¥ä¾†é–‹ç™¼\nstartup.cs å¢åŠ  services.AddOptions()\nå›åˆ°å‰é¢å»ºç«‹çš„ LineVerifySignatureFilter.csï¼Œæ³¨å…¥ LineSettingåŠä½¿ç”¨ ChannelSecret å³å¯å®Œæˆ\næ‡¶äººåŒ…ï¼Œæœ¬æ¬¡å­¸åˆ°äº†ä»€éº¼?  å¦‚ä½•ç”³è«‹ä¸€å€‹ Line Chatbot - åƒè€ƒä¸Šæ–¹6æ­¥é©Ÿ LINE Developers å¦‚ä½•å»ºç«‹ä¸€å€‹ .NET Core Web Api å°ˆæ¡ˆ Building Your First Web API with ASP.NET Core MVC and Visual Studio ç”¨ CLI å»ºç«‹ .NET Core å¦‚ä½•å°‡ Web API è·Ÿ Line Server é€£çµèµ·ä¾† Install ngrok by npm å¦‚ä½•é©—è­‰æœ‰æ•ˆçš„Line Request Line Signature Validation å¦‚ä½•ä½¿ç”¨ .NET Core çš„ Filters \u0026amp; Attributes Filters in ASP.NET Core å¦‚ä½•åœ¨.NET Coreè®€å–è¨­å®šæª” Options pattern in ASP.NET Core  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-2/","summary":"åŸºæœ¬è¨­å®š é—œæ–¼å¦‚ä½•è¨»å†Šä¸€å€‹ä¸²æ¥è‡ªå·±Web Api çš„ Line Chatbot ç¶²è·¯ä¸Šå·²ç¶“å¾ˆå¤šçš„æ•™å­¸æ–‡äº†ï¼Œå¤§æ¦‚åˆ†ç‚ºä»¥ä¸‹å¹¾å€‹æ­¥é©Ÿ\nhttps://developers.line.biz/en/\n ç”³è«‹ä¸€å€‹Provider ç”³è«‹ä¸€å€‹Channel (ä¸€å€‹Providerå¯ä»¥æœ‰å¤šå€‹Channel) æ–¼Channelå–å¾— Channel Secret åŠ Access Token Use webhook å•Ÿç”¨ Auto-reply messages é—œé–‰ è¨­å®š Webhook URL (éœ€ç‚ºhttps)  èµ·å§‹ Web API å°ˆæ¡ˆèˆ‡ Line Server åšé€£çµ å»ºç«‹ä¸€å€‹ .NET Core 3.1 çš„ Web Api å°ˆæ¡ˆ\nå»ºç«‹ä¸€å€‹ Line Controllerï¼Œå…ˆç”¨ dynamic æ¥æ”¶ï¼Œçœ‹çœ‹ Request éä¾†çš„æ˜¯ä»€éº¼\nåŸ·è¡Œçœ‹çœ‹ï¼Œweatherforecast ç‚ºåˆå§‹å°ˆæ¡ˆçš„ Sampleï¼Œæ­¤Local Api çš„ Port ç‚º 44300\né€é ngrok è®“ Line Server è·Ÿ Local Web API åšé€£çµ\n å®‰è£ node.","title":"ç”¨.NET Coreæ¥æ”¶ç¬¬ä¸€å€‹Lineè¨Šæ¯ (2)"},{"content":"å¯«åœ¨é–‹å§‹ä¹‹å‰ï¼Œç›®çš„èˆ‡å‹•æ©Ÿ è·é›¢ä¸Šæ¬¡åƒåŠ éµäººè³½å·²ç¶“æ˜¯ 2013-2014 çš„äº‹ï¼Œå¾ˆæ…¶å¹¸è‡ªå·±é‚„æ˜¯æ´»åœ¨é€™è¡Œä¸”ä¿æœ‰ä¸€äº›æŠ€è¡“çš„ç†±æƒ…é‚„æ²’æ­»æ‰ã€‚2018 å¹´å®Œæˆäº†äººç”Ÿçš„å©šç¦®ï¼Œå› ç‚ºå€‹æ€§å±¬æ–¼æ¯”è¼ƒå–œæ­¡æä¸€äº›ç‰¹åˆ¥çš„ï¼ŒæŠŠè‡ªå·±çš„æƒ³æ³•ç”¨æŠ€è¡“å¯¦è¸ï¼Œæ‰€ä»¥å¾åšå½±ç‰‡åˆ°é‚„è£½ä½œå©šç¦®æ´»å‹•å®˜ç¶²åˆ°å©šç¦®ç¾å ´éƒ½è¦åŠƒä¸€äº›æ¯”è¼ƒä¸ä¸€æ¨£çš„é«”é©—ï¼Œèº«ç‚ºä¸€å€‹æŠ€è¡“å®…å¯«ä¸€äº›ç¨‹å¼æ˜¯å¿…é ˆçš„ï¼Œæ‰€ä»¥é‚£æ™‚å€™åšäº†ä¸€å€‹ç•¶æ™‚å¾ˆæµè¡Œçš„ Line Chatbotï¼Œæ•´å€‹å©šç¦®å ±åæµç¨‹/æ¨æ’­è¨Šæ¯éƒ½æ˜¯é€éLine Chatbotå®Œæˆï¼Œå¹¾å€‹æœ‹å‹å›é¥‹éƒ½è¦ºå¾—æ¯”èµ·ä¸€äº›å•å·ç¶²ç«™ï¼Œé€™ç¨®æ–¹å¼é‚„è »æ–°å¥‡çš„ï¼Œå¾ŒçºŒä¸€äº›è¾¦å©šç¦®çš„æœ‹å‹éƒ½é‚„ä¾†è©¢å•ç•¶æ™‚ Line çš„ä¸€äº›åŠŸèƒ½æ˜¯æ€éº¼ç”¨çš„ï¼Œä¹Ÿæƒ³é€éé€™ç¨®æ–¹å¼ä¾†ç©ã€‚2å¹´ä¹Ÿéå»äº†ï¼ŒLine çš„ Chatbot ä¹Ÿæ”¹ç‰ˆäº†ä¸å°‘ï¼Œæ•…é€™æ¬¡æƒ³è¦è—‰ç”±éµäººè³½ï¼Œå†é€æ­¥çš„å¥½å¥½å†æŠŠ Line çš„æ–‡ä»¶çœ‹éä¸€éï¼Œä¸¦é‡æ–°é–‹ç™¼ï¼Œé€éé€™éç¨‹ä¹Ÿåˆ†äº«ä¸€äº›ç•¶æ™‚çš„ä¸€äº›å°šæœªåšçš„æƒ³æ³•å¯¦è¸\nå…ˆä¾†èŠèŠä¸€å€‹åŸºæœ¬çš„ Line å°è©±çš„æµç¨‹å¤§æ¦‚æœƒé‡åˆ°ä»€éº¼äº‹æƒ…\n ä½¿ç”¨è€…ç™¼é€è¨Šæ¯ï¼Œå‘ Line Server ç™¼é€ä¸€å€‹ Request Line Server æœƒçŸ¥é“æ˜¯å“ªå€‹ Chatbot ç™¼é€çš„ï¼Œç¶“éæ ¼å¼è™•ç†å¾Œæœƒç™¼é€åˆ°è©²Chatbotä½œè€…æ‰€è¨­å®šçš„ Webhook Webhook (è‡ªå·±æ‰€é–‹ç™¼çš„Web Api)ï¼Œèƒ½æ¥æ”¶åˆ° Line Server æ‰€å‚³çš„çµæ§‹åŒ–Requestï¼Œèƒ½çŸ¥é“ä½¿ç”¨è€…ç™¼é€äº†ä»€éº¼è¨Šæ¯ï¼Œæ‡‰è©²è¦åšä»€éº¼ç›¸å°æ‡‰çš„è™•ç† å›å‚³ç›¸å°æ‡‰è™•ç†çš„è¨Šæ¯ï¼Œå‘Šè¨´ Line Serverï¼Œæˆ‘å€‘è¦å›è¦†ä»€éº¼ é€é Line Server å†å›å‚³çµ¦ä½¿ç”¨è€…  ç›®æ¨™ åœ¨é€™å€‹ Line Chatbot æˆ‘å€‘å°‡å¯¦ä½œå©šç¦®å‰çš„è³‡è¨ŠæŸ¥è©¢ï¼Œå¿«é€Ÿå»ºç«‹å„ç¨®èƒ½ç†è§£èŠå¤©æ„åœ–çš„å›è¦†ï¼Œå®´å®¢å ±åâ€¦ ç­‰ç­‰ï¼Œé€éé€™äº›åŠŸèƒ½çš„å¯¦ä½œï¼Œæˆ‘å€‘å°‡æœƒå­¸åˆ°ï¼Œå¦‚ä½•ç”¨ Line ä¾†å‚³å„å¼å„æ¨£çš„è±å¯Œè¨Šæ¯ï¼Œå­¸åˆ°å¦‚ä½•é–‹ç™¼ä¸€å€‹ç¶²é ä¾†æ­é… Line Liff ä¾†åšä¸€äº›å°ç¨‹åºï¼Œåœ¨å©šç¦®æœƒç¾å ´æœƒå˜—è©¦ç”¨ QR Code/iBeacon æ­é…å©šç¦®çš„å ±åˆ°ï¼Œå˜—è©¦ç”¨ Line Pay ä¾†åšç´…åŒ…çš„é›»å­æ”¯ä»˜ï¼Œå©šç¦®ç¾å ´åšä¸€äº›äº’å‹•çš„åŠŸèƒ½â€¦\næ‰€ç”¨åˆ°çš„æŠ€è¡“é è¨ˆæ¡ç”¨ .NET Core 3.1ã€Html/CSS/JavaScriptã€Line API ã€Azureçš„ä¸€äº›æœå‹™â€¦ç­‰ç­‰ (ä½†å¯«é€™ç¯‡æ–‡ç« æ™‚å®Œå…¨é‚„æ²’å¯¦ä½œXDâ€¦åªèƒ½èªªå¾…è¨‚)\nä¹Ÿç™¼ç¾åœ¨ Line å®˜æ–¹éƒ½æ²’æœ‰ .NET çš„ SDKï¼Œä½†å°ç£æœ‰è‘£å¤§å‰è€å¸«æ‰€å°è£çš„LineBotSDK ï¼Œæ—¥æœ¬æœ‰pierre3æ‰€é–‹æºçš„ LineMessagingApiï¼Œä½†åœ¨é€™ 30 å¤©éç¨‹ä¹Ÿæœƒå¸Œæœ›å¾ Line çš„å®˜æ–¹æ–‡ä»¶å‡ºç™¼ï¼Œé€æ­¥çš„å°è£æˆè‡ªå·±çš„ C# çš„å‡½å¼åº«ï¼Œæ–¹ä¾¿è‡ªå·±æœªä¾†ä¿®æ”¹ï¼Œä¹Ÿæ”¾åˆ° Nuget Server/Github æä¾›çµ¦éœ€è¦çš„äººã€‚\nç´¢å¼• é€™é‚Šä¸‹é¢æœƒé™¸çºŒæŠŠæ–‡ç« ç´¢å¼•åŠ ä¸Šä¾†ï¼Œä¾›æœªä¾†é€£çµç”¨ï¼Œä¹Ÿå¸Œæœ›è‡ªå·±èƒ½å®Œæˆ30çš„æŒ‘æˆ°!\n Day 1 ç”¨.NET Coreèˆ‡Line Botè£½ä½œå©šç¦®æ©Ÿå™¨äºº Day 2 ç”¨.NET Coreæ¥æ”¶ç¬¬ä¸€å€‹Lineè¨Šæ¯ Day 3 ç”¨.NET Coreæ¥æ”¶Lineçš„è¨Šæ¯äº‹ä»¶ Day 4 å›è¦†ç¬¬ä¸€å€‹Lineçš„è¨Šæ¯-æ­¡è¿è© Day 5 å›å‚³ä¸æ–‡è¬…è¬…çš„ Line è²¼åœ– Day 6 ç’°ä¿æ„›åœ°çƒï¼Œå›å‚³é›»å­å–œå¸– Day 7 æœ‰è²æœ‰è‰²ï¼Œå‚³é€å©šç¦®å‰å°é å‘Šå½±ç‰‡ Day 8 ä¸€éµå°èˆªå©šå®´åœ°é»è¾¦åœ¨å“ª Day 9 ä¾†åšä¸€äº›å©šç´—è¼ªæ’­ Day 10 å©šç¦®ç¾å ´äº¤é€šè³‡è¨Šä¸€è¦½è¡¨ Day 11 è¨­è¨ˆå¸«é­‚ç™¼ä½œï¼Œæ”¹é€ é›»å­å–œå¸– Day 12 Hold on Hold on é‡æ§‹ä¸€ä¸‹ï¼ Day 13 å„ç¨®è¨Šæ¯éƒ½ç©éäº†ï¼Œä¾†èŠèŠä½¿ç”¨è€…é«”é©— (Quick Reply) Day 14 Line çš„åœ–æ–‡é¸å–® Day 15 åˆ‡æ› Line çš„åœ–æ–‡é¸å–® Day 16 ä¾†é»AIæ„Ÿï¼Œç”¨QnA Makerä¾†æLine Chatbotå›è¦† Day 17 Line Liff App v2 - ç”¨ Vue.js ä¾†å¯¦ä½œ Day 18 Line Liff App v2â€Šâ€”â€Šç”¨ Vue.js ä¾†åšå ±åé é¢â€Šâ€”â€Šç”¨ Vue.js ä¾†åšå ±åé é¢ Day 19 Line Liff App v2â€Šâ€”â€Šç”¨ Azure Table å„²å­˜å ±åè³‡è¨Š Day 20 ä¸»å‹•æ¨æ’­Lineè¨Šæ¯çµ¦æŸå€‹ä½¿ç”¨è€…(Push Message) Day 21 ç•¶æœ‰äººå ±åçš„æ™‚å€™æ¥æ”¶é€šçŸ¥ (Line Notify) Day 22 ç”¨QR Codeä¾†æå ±åˆ° - Razor Pageå¯¦åš I Day 23 ç”¨QR Codeä¾†æå ±åˆ° â€”â€ŠRazor Pageå¯¦åš II Day 24 ç”¨Line Beaconä¾†æè‡ªå‹•å ±åˆ° Day 25 å©šç¦®ç¦®é‡‘ç”¨Line Pay I Day 26 å©šç¦®ç¦®é‡‘ç”¨Line Pay I Day 27 æ”¶é›†å©šç¦®ç¾å ´ç…§ç‰‡- å°‡åœ–ç‰‡ç”¨C#å‚³åˆ° Imgur æœå‹™ Day 28 è£½ä½œå©šç¦®ç¾å ´å³æ™‚ç•™è¨€ç‰ˆ- Azure SignalR Service I Day 29 è£½ä½œå©šç¦®ç¾å ´å³æ™‚ç•™è¨€ç‰ˆ- Azure SignalR Service II Day 30 éµäººè³½å®Œè³½æ•´ç†\u0026amp;é–‹æº  ","permalink":"https://kyleap.github.io/it-ironman-line-chatbot-wedding-1/","summary":"å¯«åœ¨é–‹å§‹ä¹‹å‰ï¼Œç›®çš„èˆ‡å‹•æ©Ÿ è·é›¢ä¸Šæ¬¡åƒåŠ éµäººè³½å·²ç¶“æ˜¯ 2013-2014 çš„äº‹ï¼Œå¾ˆæ…¶å¹¸è‡ªå·±é‚„æ˜¯æ´»åœ¨é€™è¡Œä¸”ä¿æœ‰ä¸€äº›æŠ€è¡“çš„ç†±æƒ…é‚„æ²’æ­»æ‰ã€‚2018 å¹´å®Œæˆäº†äººç”Ÿçš„å©šç¦®ï¼Œå› ç‚ºå€‹æ€§å±¬æ–¼æ¯”è¼ƒå–œæ­¡æä¸€äº›ç‰¹åˆ¥çš„ï¼ŒæŠŠè‡ªå·±çš„æƒ³æ³•ç”¨æŠ€è¡“å¯¦è¸ï¼Œæ‰€ä»¥å¾åšå½±ç‰‡åˆ°é‚„è£½ä½œå©šç¦®æ´»å‹•å®˜ç¶²åˆ°å©šç¦®ç¾å ´éƒ½è¦åŠƒä¸€äº›æ¯”è¼ƒä¸ä¸€æ¨£çš„é«”é©—ï¼Œèº«ç‚ºä¸€å€‹æŠ€è¡“å®…å¯«ä¸€äº›ç¨‹å¼æ˜¯å¿…é ˆçš„ï¼Œæ‰€ä»¥é‚£æ™‚å€™åšäº†ä¸€å€‹ç•¶æ™‚å¾ˆæµè¡Œçš„ Line Chatbotï¼Œæ•´å€‹å©šç¦®å ±åæµç¨‹/æ¨æ’­è¨Šæ¯éƒ½æ˜¯é€éLine Chatbotå®Œæˆï¼Œå¹¾å€‹æœ‹å‹å›é¥‹éƒ½è¦ºå¾—æ¯”èµ·ä¸€äº›å•å·ç¶²ç«™ï¼Œé€™ç¨®æ–¹å¼é‚„è »æ–°å¥‡çš„ï¼Œå¾ŒçºŒä¸€äº›è¾¦å©šç¦®çš„æœ‹å‹éƒ½é‚„ä¾†è©¢å•ç•¶æ™‚ Line çš„ä¸€äº›åŠŸèƒ½æ˜¯æ€éº¼ç”¨çš„ï¼Œä¹Ÿæƒ³é€éé€™ç¨®æ–¹å¼ä¾†ç©ã€‚2å¹´ä¹Ÿéå»äº†ï¼ŒLine çš„ Chatbot ä¹Ÿæ”¹ç‰ˆäº†ä¸å°‘ï¼Œæ•…é€™æ¬¡æƒ³è¦è—‰ç”±éµäººè³½ï¼Œå†é€æ­¥çš„å¥½å¥½å†æŠŠ Line çš„æ–‡ä»¶çœ‹éä¸€éï¼Œä¸¦é‡æ–°é–‹ç™¼ï¼Œé€éé€™éç¨‹ä¹Ÿåˆ†äº«ä¸€äº›ç•¶æ™‚çš„ä¸€äº›å°šæœªåšçš„æƒ³æ³•å¯¦è¸\nå…ˆä¾†èŠèŠä¸€å€‹åŸºæœ¬çš„ Line å°è©±çš„æµç¨‹å¤§æ¦‚æœƒé‡åˆ°ä»€éº¼äº‹æƒ…\n ä½¿ç”¨è€…ç™¼é€è¨Šæ¯ï¼Œå‘ Line Server ç™¼é€ä¸€å€‹ Request Line Server æœƒçŸ¥é“æ˜¯å“ªå€‹ Chatbot ç™¼é€çš„ï¼Œç¶“éæ ¼å¼è™•ç†å¾Œæœƒç™¼é€åˆ°è©²Chatbotä½œè€…æ‰€è¨­å®šçš„ Webhook Webhook (è‡ªå·±æ‰€é–‹ç™¼çš„Web Api)ï¼Œèƒ½æ¥æ”¶åˆ° Line Server æ‰€å‚³çš„çµæ§‹åŒ–Requestï¼Œèƒ½çŸ¥é“ä½¿ç”¨è€…ç™¼é€äº†ä»€éº¼è¨Šæ¯ï¼Œæ‡‰è©²è¦åšä»€éº¼ç›¸å°æ‡‰çš„è™•ç† å›å‚³ç›¸å°æ‡‰è™•ç†çš„è¨Šæ¯ï¼Œå‘Šè¨´ Line Serverï¼Œæˆ‘å€‘è¦å›è¦†ä»€éº¼ é€é Line Server å†å›å‚³çµ¦ä½¿ç”¨è€…  ç›®æ¨™ åœ¨é€™å€‹ Line Chatbot æˆ‘å€‘å°‡å¯¦ä½œå©šç¦®å‰çš„è³‡è¨ŠæŸ¥è©¢ï¼Œå¿«é€Ÿå»ºç«‹å„ç¨®èƒ½ç†è§£èŠå¤©æ„åœ–çš„å›è¦†ï¼Œå®´å®¢å ±åâ€¦ ç­‰ç­‰ï¼Œé€éé€™äº›åŠŸèƒ½çš„å¯¦ä½œï¼Œæˆ‘å€‘å°‡æœƒå­¸åˆ°ï¼Œå¦‚ä½•ç”¨ Line ä¾†å‚³å„å¼å„æ¨£çš„è±å¯Œè¨Šæ¯ï¼Œå­¸åˆ°å¦‚ä½•é–‹ç™¼ä¸€å€‹ç¶²é ä¾†æ­é… Line Liff ä¾†åšä¸€äº›å°ç¨‹åºï¼Œåœ¨å©šç¦®æœƒç¾å ´æœƒå˜—è©¦ç”¨ QR Code/iBeacon æ­é…å©šç¦®çš„å ±åˆ°ï¼Œå˜—è©¦ç”¨ Line Pay ä¾†åšç´…åŒ…çš„é›»å­æ”¯ä»˜ï¼Œå©šç¦®ç¾å ´åšä¸€äº›äº’å‹•çš„åŠŸèƒ½â€¦\næ‰€ç”¨åˆ°çš„æŠ€è¡“é è¨ˆæ¡ç”¨ .NET Core 3.1ã€Html/CSS/JavaScriptã€Line API ã€Azureçš„ä¸€äº›æœå‹™â€¦ç­‰ç­‰ (ä½†å¯«é€™ç¯‡æ–‡ç« æ™‚å®Œå…¨é‚„æ²’å¯¦ä½œXDâ€¦åªèƒ½èªªå¾…è¨‚)\nä¹Ÿç™¼ç¾åœ¨ Line å®˜æ–¹éƒ½æ²’æœ‰ .","title":"ç”¨.NET Coreèˆ‡Line Botè£½ä½œå©šç¦®æ©Ÿå™¨äºº (1)"},{"content":"æ–°å‰µäº‹æ¥­ç‚ºä½•å¦‚æ­¤è‰±é›£? ç¶“æ¿Ÿéƒ¨ä¸­å°ä¼æ¥­è™•æä¾›æ•¸æ“šï¼šå‰µæ¥­ä¸€å¹´å…§å°±å€’é–‰çš„æ©Ÿç‡é«˜é”90%ï¼Œè€Œå­˜æ´»ä¸‹ä¾†çš„10%ä¸­ï¼Œåˆæœ‰90%æœƒåœ¨äº”å¹´å…§å€’é–‰ã€‚ç‚ºä½•åšç”¢å“é‚£éº¼é›£? æœ‰æ²’æœ‰ä¸€å€‹æ¡†æ¶èƒ½éµå¾ªï¼Œé™ä½é¢¨éšªï¼Œç²¾å¯¦å‰µæ¥­æ˜¯ä¸€å€‹å¯ä»¥åƒè€ƒçš„æ–¹æ³•è«–\nç²¾å¯¦è¨ˆç•«æ·¬éŠæˆä¸‰å€‹æ­¥é©Ÿ  æ–‡ä»¶åŒ–ä½ çš„åˆå§‹è¨ˆç•« è­˜åˆ¥é¢¨éšª æœ‰ç³»çµ±çš„è©¦é©—è¨ˆåŠƒ   æ–°å‰µæœƒå¤±æ•—åœ¨æ–¼è·Ÿé¡§å®¢è„«é‰¤ï¼Œè½æ–¼å¤ªè‡ªæˆ‘çš„å‰µæ–°ä¸Šï¼Œç›´æ¥ã€Œèµ°å‡ºè¾¦å…¬å®¤ã€è·Ÿé¡§å®¢é¢å°é¢å§\n ç²¾å¯¦ç•«å¸ƒæ”¶æ–‚æƒ³æ³• å…ˆå¯«ä¸‹é¡˜æ™¯ï¼Œè­¬å¦‚é˜¿é‡Œå·´å·´ã€Œè®“å¤©ä¸‹æ²’æœ‰é›£åšçš„ç”Ÿæ„ã€ã€é¦¬æ–¯å…‹ã€Œè®“äººäººéƒ½å¯ä¸Šæœˆçƒã€ï¼Œæ²’æœ‰é¡˜æ™¯å‰‡ç„¡æ³•å¾€ä¸‹ç´°æ‹†ç­–ç•¥ç›®æ¨™ ç²¾å¯¦ç•«å¸ƒæ˜¯ä¸€å€‹è¿…é€Ÿã€ç°¡æ˜ã€å…·å¯æ”œæ€§çš„æ–¹å¼ï¼Œç”¨ä¾†ç”¢å‡ºã€Œå•†æ¥­æ¨¡å¼ã€\nåœ–ç‰‡ä¾†æºï¼šhttps://ryanisagoodguy.blogspot.com/2016/03/lean-canvas.html\nStep 1~2 â€” å•é¡Œèˆ‡é¡§å®¢å€éš” åˆ—å‡ºä¸‰é …ç—›é»ï¼Œä¸¦ç›®å‰é€™äº›ç—›é»æœ‰ä½•æ—¢æœ‰æ›¿ä»£æ–¹æ¡ˆï¼Œè­˜åˆ¥å“ªäº›äººæœƒæ¥è§¸åˆ°æ­¤æœå‹™ï¼Œä¸¦è©¦è‘—å°ˆæ³¨æ–¼å¯èƒ½çš„æ—©æœŸæ¡ç”¨è€…ï¼Œä¸»æµé¡§å®¢åœ¨æ—©æœŸç”¢å“é€šå¸¸ç„¡æ³•æ»¿è¶³\nStep 3 â€” ç¨ç‰¹åƒ¹å€¼ä¸»å¼µ ã€ŒéŠ·å”®ã€æ˜¯ä¸€ç¨®å°è©±ï¼Œä¸ç®¡ä»€éº¼èº«åˆ†.è·ä½å…¶å¯¦éƒ½æ˜¯åœ¨åšéŠ·å”® e.g é¢è©¦éç¨‹å…¶å¯¦å°±æ˜¯åœ¨éŠ·å”®çµ¦é¢è©¦å®˜ï¼›è€Œé¢è©¦å®˜å…¶å¯¦åœ¨éŠ·å”®çµ¦å„ªç§€äººæ‰ã€‚æ“¬å®šå¥½æ•…äº‹ï¼Œå¾å•é¡Œå‡ºç™¼ï¼Œæ“¬å®šå¥½å¦‚ä½•åœ¨30ç§’å…§é—¡è¿°ç¨ç‰¹ä¸»å¼µ\nStep 4 â€” è§£æ±ºæ–¹æ¡ˆ é‡å°å•é¡Œï¼Œã€Œè‰æ“¬ã€è§£æ±ºæ–¹æ¡ˆï¼Œç‚ºä½•æ˜¯è‰æ“¬ï¼Ÿå› ç‚ºæœƒéš¨è‘—å¸‚å ´è®ŠåŒ–æˆ–ç¶“å¯¦é©—åŠè¨ªè«‡ï¼Œæœƒé‡æ–°æ’åºå„ªå…ˆé †åºï¼Œç”šè‡³æœƒè¢«æ–°å•é¡Œå–ä»£\nStep 5 â€” é€šè·¯ ç„¡æ³•å»ºç«‹æ¥è§¸ã€Œè¶³å¤ ã€é¡§å®¢çš„é€”å¾‘ï¼Œæ˜¯åˆæœŸå‰µæ¥­å¤±æ•—çš„åŸå› ï¼Œå€‹äººèªç‚º2Cæ—©æœŸæ‡‰è‡³å°‘æ¥è§¸ä¸Šç™¾ä½é¡§å®¢ï¼Œ2Béœ€æ‰¾å‡º2~3å€‹æŒ‡æ¨™å®¢æˆ¶ã€‚\nå…è²»çš„æœ€è²´ï¼Œæœ¬æ›¸ä½œè€… Eric Ries ä»¥ä»–é€™æœ¬æ›¸ç‚ºä¾‹å¯¦è¸ç²¾å¯¦å‰µæ¥­ï¼Œä»–ä¸€å¤©èŠ±5å¡ŠéŒ¢ç¾é‡‘ï¼Œä»¥æ¯æ¬¡é»æ“Š 5 åˆ†éŒ¢çš„æˆæœ¬å¸å¼• 100 æ¬¡é»æ“Š\né€šé“è¦Pull (SEO.Blogâ€¦) or Push (æ´»å‹•.é›»è©±è¡ŒéŠ·â€¦)ï¼Œä½œç‚ºå­¸ç¿’ï¼Œç›´æ¥éŠ·å”®æœ€æœ‰æ•ˆï¼›ä½œç‚ºç‡Ÿåˆ©ï¼Œç›´æ¥éŠ·å”®è¶…éä½ çš„è–ªè³‡æ•´é«”è–ªé…¬æ‰æœ‰æ„ç¾©\né¿å…å¤ªæ—©å»ºç«‹ç­–ç•¥å‹å¤¥ä¼´ï¼ŒåŒç†éŠ·å”®äººå“¡åªèƒ½åŸ·è¡Œä½ çš„è¨ˆåŠƒï¼Œéå»ºç«‹è¨ˆç•«ã€‚æ•…åˆæœŸä¸€å®šå¾—è¦ªè‡ªè²©å”®ä½ çš„ç”¢å“ ç—…æ¯’å¼è¡ŒéŠ·å‰ææ˜¯ç”¢å“ã€Œå€¼å¾—ã€é€™æ¨£åš\nStep 6~7 â€” æ”¶ç›Šä¾†æº \u0026amp; æˆæœ¬çµæ§‹ æ€è€ƒå®šåƒ¹ç­–ç•¥ï¼šæˆæœ¬å°å‘ã€ç«¶çˆ­å°å‘ã€éœ€æ±‚å°å‘ã€å·®ç•°è¨‚åƒ¹æ³•ã€ç‰¹æ®Šçš„è¨‚åƒ¹æ³•(SaaSç”¢å“å®šåƒ¹)â€¦\næˆæœ¬å¦‚ä½•æ“¬å®šï¼š\n è¨ªè«‡30â€“50é¡§å®¢å°‡è€—è²»å¤šå°‘æˆæœ¬ é–‹ç™¼MVPå°‡è€—è²»å¤šå°‘æˆæœ¬ (e.g å“¡å·¥è–ªè³‡ x 1.6 ~2.0å€) å›ºå®šæˆæœ¬(è–ªè³‡â€¦ç­‰).è®Šå‹•æˆæœ¬(é›²ç«¯è²»ç”¨â€¦ç­‰)  Step 8 â€” é—œéµæŒ‡æ¨™  é¡§å®¢ç²å– é¡§å®¢å•Ÿç”¨ é¡§å®¢çºŒç´„ æ”¶ç›Š è½‰ä»‹  å»¶ä¼¸é–±è®€ï¼šå¾ AARRR æ¨¡å‹å¹«åŠ©å°ç„¦å•†æ¥­ç›®æ¨™èˆ‡è¨­è¨ˆç­–ç•¥\n## Step 9 â€” ä¸å…¬å¹³ç«¶çˆ­å„ªå‹¢ ä¸å…¬å¹³ç«¶çˆ­å„ªå‹¢ä»£è¡¨ç„¡æ³•è®“äººè¤‡è£½( Copy-Cat)çš„æ±è¥¿ï¼Œå¯ä»¥å¾€å»ºç«‹ç”Ÿæ…‹ç³»ç‚ºç›®æ¨™ï¼Œç•¶å€‹æœ‰å½±éŸ¿åŠ›çš„å…¬å¸.ç”¢å“ï¼Œå¯å¾€ä»¥ä¸‹å¹¾å€‹é¢å‘æ€è€ƒï¼šæŒæ¡å…§å¹•è¨Šæ¯ã€å»ºç«‹å¼·åŠ›åœ˜éšŠã€æ‰“é€ å€‹äººå“ç‰Œã€ç¤¾ç¾¤æ©Ÿåˆ¶ã€æ—¢æœ‰é¡§å®¢æ•¸ã€æŒ‡æ¨™å®¢æˆ¶\nè¾¨è­˜é¢¨éšªï¼Œé™ä½é¢¨éšª\nç”¢å“é¢¨éšª (Product Risk) å¦‚ä½•é™ä½ç”¢å“é¢¨éšªï¼šç¢ºèªæœ‰å€¼å¾—è§£æ±ºå•é¡Œï¼Œå®šç¾©æœ€å°çš„å¯èƒ½è§£æ±ºæ–¹æ¡ˆï¼Œå°è¦æ¨¡é©—è­‰MVPã€å¤§è¦æ¨¡é©—è­‰\né¡§å•é¢¨éšª (Customer Risk) é¡§å®¢é¢¨éšªï¼šè­˜åˆ¥èª°æœ‰ç—›è‹¦ï¼Œæ—©æœŸæ¡ç”¨è€…ï¼Œæ¨æ’­å¼é€šé“ï¼Œé€æ­¥æ“´ç”¢Pullé€šé“\nå¸‚å ´é¢¨éšª (Market Risk) å¸‚å ´é¢¨éšªï¼šè­˜åˆ¥ç«¶æ¥­ï¼å£é ­è¨ªè«‡æ¸¬è©¦å®šåƒ¹ï¼Œå®¢æˆ¶è¡Œç‚ºæ¸¬è©¦å®šåƒ¹ï¼Œæœ€ä½³åŒ–æˆæœ¬çµæ§‹ï¼Œè®“å•†æ¥­æ¨¡å¼æœ‰æ•ˆé‹ä½œ\n##ã€€åƒ¹å€¼äº¤ä»˜å¾ªç’° æ“¬å®šç•«å¸ƒå®Œï¼Œé–‹å§‹åšå¯¦é©—ï¼Œå¯ç”¨ä»¥ä¸‹å¾ªç’°åšç”¢å“çš„æŒçºŒäº¤ä»˜\nåœ–ç‰‡ä¾†æº: https://novapoints.com/2017/10/27/summary-of-eric-ries-the-startup-way/\né»å­ - åšå¯è¡Œæ€§çš„å‡è¨­ é¿å…å¤ªå«ç³Šçš„å‡è¨­ï¼Œé¿å…å¤ªå«ç³Šåœ°å‡è¨­ï¼še.g åšä¸€å€‹ã€Œå¥½éŠ·å”®ã€çš„åŠŸèƒ½ï¼Œä½†å¦‚ä½•å®šç¾©ã€Œå¥½éŠ·å”®ã€\nå¯åˆ©ç”¨ä¸‹åˆ—å…¬å¼ä¾†æ“¬è¨‚å‡è¨­\n å¯å¦è­‰çš„å‡è¨­ = [å…·é«”çš„å¯é‡è¤‡å‹•ä½œ] å°‡ [é æœŸçš„å¯é‡æ¸¬çµæœ]\n ä¸€ç¯‡éƒ¨è½æ ¼æ–‡ç« å¯é©…ä½¿ 100 å€‹äººè¨»å†Š\nçµ„ç¹”åœ˜éšŠ - å»ºç«‹èˆ‡é–‹ç™¼ç”¢å“ æ‰“ç ´è·è²¬èˆ‡éƒ¨é–€æ¨™ç±¤ï¼Œå¯åˆ†ç‚ºå•é¡Œåœ˜éšŠ.è§£æ±ºæ–¹æ¡ˆåœ˜éšŠå³å¯ï¼Œç›¡å¯èƒ½å¾æœ€å°åœ˜éšŠé–‹å§‹ï¼Œç´„ 2~3 äººï¼Œå…¶ä¸­ä¸‰å€‹å¿…è¦åŠŸèƒ½ï¼šé–‹ç™¼.è¨­è¨ˆ.è¡ŒéŠ·ã€‚æ—©æœŸåˆå‰µç”¢å“é¿å…å¤–åŒ…ï¼Œå› æœƒé™åˆ¶å¿«é€Ÿåè¦†è¿­ä»£èˆ‡ç¶“å­¸ç¿’çš„èƒ½åŠ›\næ¸¬é‡ - å®šæ€§\u0026amp;å®šé‡\nå¦‚æœæœ‰è¨±å¤šä¸ç¢ºå®šæ€§å­˜åœ¨ï¼Œä¸é ˆç”¨å¤§é‡è³‡æ–™ä¾†è®“ä¸ç¢ºå®šæ€§é™ä½ï¼Œä½†æœ‰è¨±å¤šç¢ºå®šæ€§å­˜åœ¨ï¼Œéœ€è¦ç”¨å¤§é‡è³‡æ–™è®“ä¸ç¢ºå®šæ€§é¡¯è‘—é™ä½ã€‚è­¬å¦‚è¨ªè«‡5å€‹éƒ½ä¸å¯è¡Œï¼Œé‚£ä¹Ÿä¸ç”¨å …æŒæ­¤å•†æ¥­æ¨¡å¼ï¼Œè©²æ”¹è®Šæ–¹å‘ï¼Œç´¯ç©åˆ°ä¸€å®šçš„èªå¯ï¼Œå¾—ç”¨å¤§é‡çš„è³‡æ–™ä¾†èˆ‡é—œéµæŒ‡æ¨™åšé©—è­‰\næ¸¬é‡ - è¨ªè«‡ ã€Œèµ°å‡ºè¾¦å…¬å®¤ã€ç‚ºç²¾å¯¦å‰µæ¥­çš„é‡é»ï¼Œä¸€å®šè¦è·Ÿå®¢æˆ¶é¢å°é¢ï¼Œé¿å…ç”¨å•å·èª¿æŸ¥æˆ–ç„¦é»åœ˜é«”æ³•ã€‚å•å·èª¿æŸ¥æ™‚å¸¸æœƒå¼•å°é¡§å®¢é€²ä½ é è¨­çš„å‡è¨­ï¼Œç„¦é»è¨ªè«‡æ³•æœƒç§»è½‰åˆ°ç¾¤é«”æ€ç¶­ï¼Œç„¡æ³•æŒ–æ˜é¡§å®¢å…§å¿ƒçœŸæ­£çš„éœ€æ±‚ã€‚\n åˆ¥å•é¡§å®¢è¦ä»€éº¼ï¼Œè¦è©•ä¼°ä»–å€‘ç¾è¡Œåšä»€éº¼\n å°ç¯€ æˆ‘ä¸€ç›´è¦ºå¾—å‰µæ¥­å®¶éœ€è¦å¾ˆå¤§çš„å‹‡æ°£ï¼Œ24å°æ™‚éƒ½æœƒé™·å…¥æ–¼å¦‚ä½•è®“ç”¢å“æ›´å¥½ï¼Œè…¦è¢‹ä¸€ç›´æƒ³è‘—åˆç‡’å¤šå°‘éŒ¢ï¼Œå›æ­¸åˆ°å“¡å·¥æ‡‰è©²éƒ½è¦æœ‰å‰µæ¥­çš„æ€ç¶­ï¼Œå¦‚ä½•é¿å…æµªè²»ï¼Œè‡ªå·±å°å…¬å¸/ç”¢å“å¸¶ä¾†çš„åƒ¹å€¼æ˜¯ä»€éº¼ï¼Œé€éæ–¹æ³•è«–æ˜¯ä¸€å€‹ä¸éŒ¯çš„æ–¹å¼ï¼Œç²¾å¯¦å‰µæ¥­é€™æœ¬æ›¸æä¾›äº†ä¸€å€‹å¾ˆå¥½çš„æ¡†æ¶ä¾†éµå¾ªï¼Œä½†ä»»ä½•æ–¹æ³•è«–é‹ç”¨éœ€å…ˆæ¸…æ¥šç†è§£ï¼Œä¸æ‡‰è©²è¢«æ–¹æ³•è«–ç¶æ­»ï¼Œå°‡ã€ŒåŸå‰‡ã€è·Ÿã€Œæˆ°ç•¥ã€åˆ†é–‹ã€‚ã€ŒåŸå‰‡ã€å¼•å°ä½ åšä»€éº¼ï¼› ã€Œæˆ°ç•¥ã€å‘Šè¨´ä½ å¦‚ä½•åš\n","permalink":"https://kyleap.github.io/2020-10-21-kyle-bite-book-lean-startup/","summary":"æ–°å‰µäº‹æ¥­ç‚ºä½•å¦‚æ­¤è‰±é›£? ç¶“æ¿Ÿéƒ¨ä¸­å°ä¼æ¥­è™•æä¾›æ•¸æ“šï¼šå‰µæ¥­ä¸€å¹´å…§å°±å€’é–‰çš„æ©Ÿç‡é«˜é”90%ï¼Œè€Œå­˜æ´»ä¸‹ä¾†çš„10%ä¸­ï¼Œåˆæœ‰90%æœƒåœ¨äº”å¹´å…§å€’é–‰ã€‚ç‚ºä½•åšç”¢å“é‚£éº¼é›£? æœ‰æ²’æœ‰ä¸€å€‹æ¡†æ¶èƒ½éµå¾ªï¼Œé™ä½é¢¨éšªï¼Œç²¾å¯¦å‰µæ¥­æ˜¯ä¸€å€‹å¯ä»¥åƒè€ƒçš„æ–¹æ³•è«–\nç²¾å¯¦è¨ˆç•«æ·¬éŠæˆä¸‰å€‹æ­¥é©Ÿ  æ–‡ä»¶åŒ–ä½ çš„åˆå§‹è¨ˆç•« è­˜åˆ¥é¢¨éšª æœ‰ç³»çµ±çš„è©¦é©—è¨ˆåŠƒ   æ–°å‰µæœƒå¤±æ•—åœ¨æ–¼è·Ÿé¡§å®¢è„«é‰¤ï¼Œè½æ–¼å¤ªè‡ªæˆ‘çš„å‰µæ–°ä¸Šï¼Œç›´æ¥ã€Œèµ°å‡ºè¾¦å…¬å®¤ã€è·Ÿé¡§å®¢é¢å°é¢å§\n ç²¾å¯¦ç•«å¸ƒæ”¶æ–‚æƒ³æ³• å…ˆå¯«ä¸‹é¡˜æ™¯ï¼Œè­¬å¦‚é˜¿é‡Œå·´å·´ã€Œè®“å¤©ä¸‹æ²’æœ‰é›£åšçš„ç”Ÿæ„ã€ã€é¦¬æ–¯å…‹ã€Œè®“äººäººéƒ½å¯ä¸Šæœˆçƒã€ï¼Œæ²’æœ‰é¡˜æ™¯å‰‡ç„¡æ³•å¾€ä¸‹ç´°æ‹†ç­–ç•¥ç›®æ¨™ ç²¾å¯¦ç•«å¸ƒæ˜¯ä¸€å€‹è¿…é€Ÿã€ç°¡æ˜ã€å…·å¯æ”œæ€§çš„æ–¹å¼ï¼Œç”¨ä¾†ç”¢å‡ºã€Œå•†æ¥­æ¨¡å¼ã€\nåœ–ç‰‡ä¾†æºï¼šhttps://ryanisagoodguy.blogspot.com/2016/03/lean-canvas.html\nStep 1~2 â€” å•é¡Œèˆ‡é¡§å®¢å€éš” åˆ—å‡ºä¸‰é …ç—›é»ï¼Œä¸¦ç›®å‰é€™äº›ç—›é»æœ‰ä½•æ—¢æœ‰æ›¿ä»£æ–¹æ¡ˆï¼Œè­˜åˆ¥å“ªäº›äººæœƒæ¥è§¸åˆ°æ­¤æœå‹™ï¼Œä¸¦è©¦è‘—å°ˆæ³¨æ–¼å¯èƒ½çš„æ—©æœŸæ¡ç”¨è€…ï¼Œä¸»æµé¡§å®¢åœ¨æ—©æœŸç”¢å“é€šå¸¸ç„¡æ³•æ»¿è¶³\nStep 3 â€” ç¨ç‰¹åƒ¹å€¼ä¸»å¼µ ã€ŒéŠ·å”®ã€æ˜¯ä¸€ç¨®å°è©±ï¼Œä¸ç®¡ä»€éº¼èº«åˆ†.è·ä½å…¶å¯¦éƒ½æ˜¯åœ¨åšéŠ·å”® e.g é¢è©¦éç¨‹å…¶å¯¦å°±æ˜¯åœ¨éŠ·å”®çµ¦é¢è©¦å®˜ï¼›è€Œé¢è©¦å®˜å…¶å¯¦åœ¨éŠ·å”®çµ¦å„ªç§€äººæ‰ã€‚æ“¬å®šå¥½æ•…äº‹ï¼Œå¾å•é¡Œå‡ºç™¼ï¼Œæ“¬å®šå¥½å¦‚ä½•åœ¨30ç§’å…§é—¡è¿°ç¨ç‰¹ä¸»å¼µ\nStep 4 â€” è§£æ±ºæ–¹æ¡ˆ é‡å°å•é¡Œï¼Œã€Œè‰æ“¬ã€è§£æ±ºæ–¹æ¡ˆï¼Œç‚ºä½•æ˜¯è‰æ“¬ï¼Ÿå› ç‚ºæœƒéš¨è‘—å¸‚å ´è®ŠåŒ–æˆ–ç¶“å¯¦é©—åŠè¨ªè«‡ï¼Œæœƒé‡æ–°æ’åºå„ªå…ˆé †åºï¼Œç”šè‡³æœƒè¢«æ–°å•é¡Œå–ä»£\nStep 5 â€” é€šè·¯ ç„¡æ³•å»ºç«‹æ¥è§¸ã€Œè¶³å¤ ã€é¡§å®¢çš„é€”å¾‘ï¼Œæ˜¯åˆæœŸå‰µæ¥­å¤±æ•—çš„åŸå› ï¼Œå€‹äººèªç‚º2Cæ—©æœŸæ‡‰è‡³å°‘æ¥è§¸ä¸Šç™¾ä½é¡§å®¢ï¼Œ2Béœ€æ‰¾å‡º2~3å€‹æŒ‡æ¨™å®¢æˆ¶ã€‚\nå…è²»çš„æœ€è²´ï¼Œæœ¬æ›¸ä½œè€… Eric Ries ä»¥ä»–é€™æœ¬æ›¸ç‚ºä¾‹å¯¦è¸ç²¾å¯¦å‰µæ¥­ï¼Œä»–ä¸€å¤©èŠ±5å¡ŠéŒ¢ç¾é‡‘ï¼Œä»¥æ¯æ¬¡é»æ“Š 5 åˆ†éŒ¢çš„æˆæœ¬å¸å¼• 100 æ¬¡é»æ“Š\né€šé“è¦Pull (SEO.Blogâ€¦) or Push (æ´»å‹•.é›»è©±è¡ŒéŠ·â€¦)ï¼Œä½œç‚ºå­¸ç¿’ï¼Œç›´æ¥éŠ·å”®æœ€æœ‰æ•ˆï¼›ä½œç‚ºç‡Ÿåˆ©ï¼Œç›´æ¥éŠ·å”®è¶…éä½ çš„è–ªè³‡æ•´é«”è–ªé…¬æ‰æœ‰æ„ç¾©\né¿å…å¤ªæ—©å»ºç«‹ç­–ç•¥å‹å¤¥ä¼´ï¼ŒåŒç†éŠ·å”®äººå“¡åªèƒ½åŸ·è¡Œä½ çš„è¨ˆåŠƒï¼Œéå»ºç«‹è¨ˆç•«ã€‚æ•…åˆæœŸä¸€å®šå¾—è¦ªè‡ªè²©å”®ä½ çš„ç”¢å“ ç—…æ¯’å¼è¡ŒéŠ·å‰ææ˜¯ç”¢å“ã€Œå€¼å¾—ã€é€™æ¨£åš\nStep 6~7 â€” æ”¶ç›Šä¾†æº \u0026amp; æˆæœ¬çµæ§‹ æ€è€ƒå®šåƒ¹ç­–ç•¥ï¼šæˆæœ¬å°å‘ã€ç«¶çˆ­å°å‘ã€éœ€æ±‚å°å‘ã€å·®ç•°è¨‚åƒ¹æ³•ã€ç‰¹æ®Šçš„è¨‚åƒ¹æ³•(SaaSç”¢å“å®šåƒ¹)â€¦\næˆæœ¬å¦‚ä½•æ“¬å®šï¼š\n è¨ªè«‡30â€“50é¡§å®¢å°‡è€—è²»å¤šå°‘æˆæœ¬ é–‹ç™¼MVPå°‡è€—è²»å¤šå°‘æˆæœ¬ (e.g å“¡å·¥è–ªè³‡ x 1.6 ~2.0å€) å›ºå®šæˆæœ¬(è–ªè³‡â€¦ç­‰).è®Šå‹•æˆæœ¬(é›²ç«¯è²»ç”¨â€¦ç­‰)  Step 8 â€” é—œéµæŒ‡æ¨™  é¡§å®¢ç²å– é¡§å®¢å•Ÿç”¨ é¡§å®¢çºŒç´„ æ”¶ç›Š è½‰ä»‹  å»¶ä¼¸é–±è®€ï¼šå¾ AARRR æ¨¡å‹å¹«åŠ©å°ç„¦å•†æ¥­ç›®æ¨™èˆ‡è¨­è¨ˆç­–ç•¥","title":"ç²¾å¯¦åŸ·è¡Œç²¾å¯¦å‰µæ¥­æŒ‡å— - å¾åˆå§‹è¨ˆç•«æ¼”åŒ–ç‚ºæœ‰æ•ˆè¨ˆç•«"}]